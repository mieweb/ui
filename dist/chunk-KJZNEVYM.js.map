{"version":3,"sources":["../src/hooks/useTheme.ts"],"names":[],"mappings":";;;AAKA,IAAM,iBAAA,GAAoB,iBAAA;AAE1B,SAAS,cAAA,GAAgC;AACvC,EAAA,IAAI,OAAO,MAAA,KAAW,WAAA,EAAa,OAAO,OAAA;AAC1C,EAAA,OAAO,MAAA,CAAO,UAAA,CAAW,8BAA8B,CAAA,CAAE,UACrD,MAAA,GACA,OAAA;AACN;AAEA,SAAS,cAAA,GAAwB;AAC/B,EAAA,IAAI,OAAO,MAAA,KAAW,WAAA,EAAa,OAAO,QAAA;AAC1C,EAAA,MAAM,MAAA,GAAS,YAAA,CAAa,OAAA,CAAQ,iBAAiB,CAAA;AACrD,EAAA,IAAI,MAAA,KAAW,OAAA,IAAW,MAAA,KAAW,MAAA,IAAU,WAAW,QAAA,EAAU;AAClE,IAAA,OAAO,MAAA;AAAA,EACT;AACA,EAAA,OAAO,QAAA;AACT;AAEA,SAAS,WAAW,KAAA,EAA4B;AAC9C,EAAA,IAAI,OAAO,aAAa,WAAA,EAAa;AAErC,EAAA,MAAM,OAAO,QAAA,CAAS,eAAA;AACtB,EAAA,IAAA,CAAK,SAAA,CAAU,MAAA,CAAO,OAAA,EAAS,MAAM,CAAA;AACrC,EAAA,IAAA,CAAK,SAAA,CAAU,IAAI,KAAK,CAAA;AACxB,EAAA,IAAA,CAAK,YAAA,CAAa,cAAc,KAAK,CAAA;AACvC;AAiBO,SAAS,QAAA,GAAW;AACzB,EAAA,MAAM,CAAC,KAAA,EAAO,aAAa,CAAA,GAAI,SAAgB,QAAQ,CAAA;AACvD,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAI,SAAwB,OAAO,CAAA;AAGzE,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,MAAM,SAAS,cAAA,EAAe;AAC9B,IAAA,aAAA,CAAc,MAAM,CAAA;AAEpB,IAAA,MAAM,QAAA,GAAW,MAAA,KAAW,QAAA,GAAW,cAAA,EAAe,GAAI,MAAA;AAC1D,IAAA,gBAAA,CAAiB,QAAQ,CAAA;AACzB,IAAA,UAAA,CAAW,QAAQ,CAAA;AAAA,EACrB,CAAA,EAAG,EAAE,CAAA;AAGL,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,IAAI,UAAU,QAAA,EAAU;AAExB,IAAA,MAAM,UAAA,GAAa,MAAA,CAAO,UAAA,CAAW,8BAA8B,CAAA;AACnE,IAAA,MAAM,YAAA,GAAe,CAAC,CAAA,KAA2B;AAC/C,MAAA,MAAM,QAAA,GAAW,CAAA,CAAE,OAAA,GAAU,MAAA,GAAS,OAAA;AACtC,MAAA,gBAAA,CAAiB,QAAQ,CAAA;AACzB,MAAA,UAAA,CAAW,QAAQ,CAAA;AAAA,IACrB,CAAA;AAEA,IAAA,UAAA,CAAW,gBAAA,CAAiB,UAAU,YAAY,CAAA;AAClD,IAAA,OAAO,MAAM,UAAA,CAAW,mBAAA,CAAoB,QAAA,EAAU,YAAY,CAAA;AAAA,EACpE,CAAA,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,EAAA,MAAM,QAAA,GAAW,WAAA,CAAY,CAAC,QAAA,KAAoB;AAChD,IAAA,aAAA,CAAc,QAAQ,CAAA;AACtB,IAAA,YAAA,CAAa,OAAA,CAAQ,mBAAmB,QAAQ,CAAA;AAEhD,IAAA,MAAM,QAAA,GAAW,QAAA,KAAa,QAAA,GAAW,cAAA,EAAe,GAAI,QAAA;AAC5D,IAAA,gBAAA,CAAiB,QAAQ,CAAA;AACzB,IAAA,UAAA,CAAW,QAAQ,CAAA;AAAA,EACrB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,OAAO;AAAA,IACL,KAAA;AAAA,IACA,QAAA;AAAA,IACA;AAAA,GACF;AACF","file":"chunk-KJZNEVYM.js","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nexport type Theme = 'light' | 'dark' | 'system';\nexport type ResolvedTheme = 'light' | 'dark';\n\nconst THEME_STORAGE_KEY = 'mieweb-ui-theme';\n\nfunction getSystemTheme(): ResolvedTheme {\n  if (typeof window === 'undefined') return 'light';\n  return window.matchMedia('(prefers-color-scheme: dark)').matches\n    ? 'dark'\n    : 'light';\n}\n\nfunction getStoredTheme(): Theme {\n  if (typeof window === 'undefined') return 'system';\n  const stored = localStorage.getItem(THEME_STORAGE_KEY);\n  if (stored === 'light' || stored === 'dark' || stored === 'system') {\n    return stored;\n  }\n  return 'system';\n}\n\nfunction applyTheme(theme: ResolvedTheme): void {\n  if (typeof document === 'undefined') return;\n\n  const root = document.documentElement;\n  root.classList.remove('light', 'dark');\n  root.classList.add(theme);\n  root.setAttribute('data-theme', theme);\n}\n\n/**\n * Hook for managing theme state with localStorage persistence and system preference support.\n *\n * @example\n * ```tsx\n * function ThemeToggle() {\n *   const { theme, setTheme, resolvedTheme } = useTheme();\n *   return (\n *     <button onClick={() => setTheme(resolvedTheme === 'dark' ? 'light' : 'dark')}>\n *       {resolvedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô'}\n *     </button>\n *   );\n * }\n * ```\n */\nexport function useTheme() {\n  const [theme, setThemeState] = useState<Theme>('system');\n  const [resolvedTheme, setResolvedTheme] = useState<ResolvedTheme>('light');\n\n  // Initialize theme from storage\n  useEffect(() => {\n    const stored = getStoredTheme();\n    setThemeState(stored);\n\n    const resolved = stored === 'system' ? getSystemTheme() : stored;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, []);\n\n  // Listen for system theme changes\n  useEffect(() => {\n    if (theme !== 'system') return;\n\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = (e: MediaQueryListEvent) => {\n      const newTheme = e.matches ? 'dark' : 'light';\n      setResolvedTheme(newTheme);\n      applyTheme(newTheme);\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, [theme]);\n\n  const setTheme = useCallback((newTheme: Theme) => {\n    setThemeState(newTheme);\n    localStorage.setItem(THEME_STORAGE_KEY, newTheme);\n\n    const resolved = newTheme === 'system' ? getSystemTheme() : newTheme;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, []);\n\n  return {\n    theme,\n    setTheme,\n    resolvedTheme,\n  };\n}\n"]}
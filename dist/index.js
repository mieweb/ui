export { ThemeProvider, ThemeProviderContext, ThemeToggle, themeToggleIconVariants, themeToggleVariants, useThemeContext } from './chunk-TA6FVVCM.js';
import { Tooltip } from './chunk-UZUBLXVC.js';
export { Tooltip } from './chunk-UZUBLXVC.js';
export { VisuallyHidden } from './chunk-H2CIKJQI.js';
export { brands } from './chunk-FIUNOH6W.js';
export { miewebBrand } from './chunk-UHSPAFY6.js';
export { wagglelineBrand } from './chunk-OWPWP46L.js';
export { webchartBrand } from './chunk-C6MDPPPL.js';
export { createBrandPreset, generateBrandCSS, generateTailwindTheme } from './chunk-SOFX4T7M.js';
export { bluehiveBrand } from './chunk-ULOA7WBW.js';
export { defaultBrand } from './chunk-4LTN2LEN.js';
export { enterpriseHealthBrand } from './chunk-MTZPVOP6.js';
import { Select } from './chunk-KJOFWJHV.js';
export { Select, selectTriggerVariants } from './chunk-KJOFWJHV.js';
export { Skeleton, SkeletonCard, SkeletonTable, SkeletonText, skeletonVariants } from './chunk-6OCIIIAI.js';
import { Spinner, SpinnerWithLabel } from './chunk-GV5JQBPX.js';
export { FullPageSpinner, Spinner, SpinnerWithLabel, spinnerVariants } from './chunk-GV5JQBPX.js';
import { Switch } from './chunk-FQ2FMI62.js';
export { Switch, switchThumbVariants, switchTrackVariants } from './chunk-FQ2FMI62.js';
import { Table, TableHeader, TableRow, TableHead, TableBody, TableCell } from './chunk-AWIULTJW.js';
export { Table, TableBody, TableCaption, TableCell, TableFooter, TableHead, TableHeader, TableRow } from './chunk-AWIULTJW.js';
import { Tabs, TabsList, TabsTrigger, TabsContent } from './chunk-JFAXLE2J.js';
export { Tabs, TabsContent, TabsList, TabsTrigger, tabsListVariants, tabsTriggerVariants } from './chunk-JFAXLE2J.js';
import { Text } from './chunk-RCMF6KZA.js';
export { SmallMuted, Text, textVariants } from './chunk-RCMF6KZA.js';
import { Textarea } from './chunk-4AWW5WPF.js';
export { Textarea, textareaVariants } from './chunk-4AWW5WPF.js';
import { Modal, ModalHeader, ModalTitle, ModalBody, ModalFooter, ModalClose } from './chunk-D5IBXXF2.js';
export { Modal, ModalBody, ModalClose, ModalFooter, ModalHeader, ModalTitle, modalContentVariants, modalOverlayVariants } from './chunk-D5IBXXF2.js';
export { Pagination, SimplePagination, paginationButtonVariants } from './chunk-ONWOB76P.js';
export { PhoneInput, PhoneInputGroup } from './chunk-AKVRZRMF.js';
import { Progress } from './chunk-4MHTSFPX.js';
export { CircularProgress, Progress, circularProgressVariants, progressBarFillVariants, progressBarTrackVariants } from './chunk-4MHTSFPX.js';
export { QuickAction, QuickActionGroup, QuickActionIcons, quickActionIconVariants, quickActionVariants } from './chunk-6Q4SU72T.js';
import { Radio } from './chunk-OW2BWGST.js';
export { Radio, RadioGroup, radioVariants } from './chunk-OW2BWGST.js';
export { RecordButton, formatDuration, recordButtonVariants, recordingIndicatorVariants } from './chunk-FQ5G7J24.js';
export { DateButton, DatePicker, RadioOption, SchedulePicker, TimeButton, TimePicker, dateButtonVariants, radioOptionVariants, timeButtonVariants } from './chunk-DMA74PZ7.js';
import { Badge } from './chunk-3NJ72QU6.js';
export { Badge, badgeVariants } from './chunk-3NJ72QU6.js';
export { Breadcrumb, BreadcrumbSlash } from './chunk-B3L43JGH.js';
import { Button } from './chunk-N5EKL4DH.js';
export { Button, buttonVariants } from './chunk-N5EKL4DH.js';
import { Card, CardHeader, CardTitle, CardContent } from './chunk-XXOBTAKA.js';
export { Card, CardActions, CardBadge, CardCollapsible, CardContent, CardDescription, CardDivider, CardFooter, CardHeader, CardMedia, CardStat, CardTitle, cardAccentVariants, cardVariants } from './chunk-XXOBTAKA.js';
import { Checkbox } from './chunk-G2DOD34H.js';
export { Checkbox, CheckboxGroup, checkboxVariants } from './chunk-G2DOD34H.js';
export { DateInput } from './chunk-WN2FJE23.js';
import { Dropdown, DropdownItem } from './chunk-265CFCCX.js';
export { Dropdown, DropdownContent, DropdownHeader, DropdownItem, DropdownLabel, DropdownSeparator } from './chunk-265CFCCX.js';
import { Input } from './chunk-NXRLGHEC.js';
export { Input, inputVariants } from './chunk-NXRLGHEC.js';
import { useCommandK, useIsMobile, useMediaQuery } from './chunk-CP7NPDQW.js';
export { useCommandK, useIsDesktop, useIsLargeDesktop, useIsMobile, useIsMobileOrTablet, useIsSmallTablet, useIsTablet, useKeyboardShortcut, useMediaQuery } from './chunk-CP7NPDQW.js';
export { useTheme } from './chunk-KJZNEVYM.js';
export { usePrefersReducedMotion } from './chunk-HB7C7NB5.js';
import { useFocusTrap } from './chunk-CLNOI5J7.js';
export { useFocusTrap } from './chunk-CLNOI5J7.js';
import { useClickOutside } from './chunk-OT36EMM5.js';
export { useClickOutside } from './chunk-OT36EMM5.js';
import { useEscapeKey } from './chunk-T4ME7QCT.js';
export { useEscapeKey } from './chunk-T4ME7QCT.js';
import './chunk-ZQ4XMJH7.js';
export { formatPhoneNumber, isPhoneNumberEmpty, isValidPhoneNumber, unformatPhoneNumber } from './chunk-CEHWXAAI.js';
export { calculateAge, formatDateValue, isDateEmpty, isDateInFuture, isDateInPast, isValidDate, isValidDrivingAge, parseDateValue } from './chunk-SN52QMRT.js';
export { miewebUIPreset, miewebUISafelist } from './chunk-O7WRE2WX.js';
import { Alert, AlertTitle, AlertDescription } from './chunk-B26RIQ5R.js';
export { Alert, AlertDescription, AlertTitle, alertVariants } from './chunk-B26RIQ5R.js';
export { AudioPlayer, ProgressBar, audioPlayerVariants, formatTime as formatAudioTime, playButtonVariants } from './chunk-QBWVTJKF.js';
export { AudioRecorder, audioRecorderVariants, controlButtonVariants, formatTime, waveformContainerVariants } from './chunk-QZLRB3UG.js';
import { Avatar } from './chunk-NIHESA7O.js';
export { Avatar, AvatarGroup, avatarVariants, getInitials } from './chunk-NIHESA7O.js';
import { cn } from './chunk-F3SOEIN2.js';
export { cn } from './chunk-F3SOEIN2.js';
import * as React46 from 'react';
import React46__default, { memo, createContext, useState, useEffect, useCallback, useMemo, useContext, useRef } from 'react';
import { jsxs, Fragment, jsx } from 'react/jsx-runtime';
import { cva } from 'class-variance-authority';
import { AgGridReact } from 'ag-grid-react';
export { AgGridReact } from 'ag-grid-react';
import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
import { Mail, Phone, Linkedin, Globe, CheckCircle, Clock, Filter, ChevronDown, Calendar, Printer, Download, FolderUp, FileUp, Upload, Edit2, Check, X, ChevronUp, MapPin, Shield, ChevronRight, Building2, AlertCircle, Trash2, Scan, Camera, ScanLine, RefreshCw, FileText, Image } from 'lucide-react';

var SEX_OPTIONS = [
  { value: "F", label: "Female" },
  { value: "M", label: "Male" },
  { value: "N/D", label: "Not Disclosed" }
];
var defaultContact = {
  firstName: "",
  lastName: "",
  sex: "",
  positionTitle: "",
  degree: "",
  email: "",
  phone: "",
  address: {
    street1: "",
    street2: "",
    city: "",
    state: "",
    postalCode: "",
    country: ""
  },
  customFields: []
};
function AddContactModal({
  open,
  onOpenChange,
  onSave,
  contact,
  isSaving = false,
  title = "Add Contact",
  className,
  showAddress = true,
  showCustomFields = true,
  showPhone = true
}) {
  const [formData, setFormData] = useState(defaultContact);
  const [errors, setErrors] = useState({});
  useEffect(() => {
    if (open) {
      setFormData(contact ? { ...defaultContact, ...contact } : defaultContact);
      setErrors({});
    }
  }, [open, contact]);
  const handleChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => {
        const next = { ...prev };
        delete next[field];
        return next;
      });
    }
  };
  const handleAddressChange = (field, value) => {
    setFormData((prev) => ({
      ...prev,
      address: { ...prev.address, [field]: value }
    }));
  };
  const handleCustomFieldChange = (index, field, value) => {
    setFormData((prev) => {
      const customFields = [...prev.customFields || []];
      customFields[index] = { ...customFields[index], [field]: value };
      return { ...prev, customFields };
    });
  };
  const handleAddCustomField = () => {
    setFormData((prev) => ({
      ...prev,
      customFields: [...prev.customFields || [], { name: "", value: "" }]
    }));
  };
  const handleRemoveCustomField = (index) => {
    setFormData((prev) => ({
      ...prev,
      customFields: (prev.customFields || []).filter((_, i) => i !== index)
    }));
  };
  const validate = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    }
    if (!formData.email.trim()) {
      newErrors.email = "Email is required";
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      newErrors.email = "Please enter a valid email address";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (validate()) {
      onSave(formData);
    }
  };
  const isEditing = !!contact?.id;
  return /* @__PURE__ */ jsxs(Modal, { open, onOpenChange, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: isEditing ? "Edit Contact" : title }) }),
    /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
      /* @__PURE__ */ jsxs(ModalBody, { className: cn("space-y-4", className), children: [
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs(
              "label",
              {
                htmlFor: "contact-firstName",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: [
                  "First Name ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ]
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-firstName",
                value: formData.firstName,
                onChange: (e) => handleChange("firstName", e.target.value),
                placeholder: "First name",
                className: errors.firstName ? "border-red-500" : ""
              }
            ),
            errors.firstName && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-500", children: errors.firstName })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs(
              "label",
              {
                htmlFor: "contact-lastName",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: [
                  "Last Name ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ]
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-lastName",
                value: formData.lastName,
                onChange: (e) => handleChange("lastName", e.target.value),
                placeholder: "Last name",
                className: errors.lastName ? "border-red-500" : ""
              }
            ),
            errors.lastName && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-500", children: errors.lastName })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx(
              "label",
              {
                htmlFor: "contact-sex",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: "Sex"
              }
            ),
            /* @__PURE__ */ jsx(
              Select,
              {
                id: "contact-sex",
                options: SEX_OPTIONS,
                value: formData.sex || "",
                onValueChange: (value) => {
                  handleChange("sex", value);
                },
                placeholder: "Select..."
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx(
              "label",
              {
                htmlFor: "contact-positionTitle",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: "Position Title"
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-positionTitle",
                value: formData.positionTitle || "",
                onChange: (e) => handleChange("positionTitle", e.target.value),
                placeholder: "e.g., Office Manager"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx(
              "label",
              {
                htmlFor: "contact-degree",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: "Degree"
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-degree",
                value: formData.degree || "",
                onChange: (e) => handleChange("degree", e.target.value),
                placeholder: "e.g., MD, RN, PA"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs(
              "label",
              {
                htmlFor: "contact-email",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: [
                  "Email ",
                  /* @__PURE__ */ jsx("span", { className: "text-red-500", children: "*" })
                ]
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-email",
                type: "email",
                value: formData.email,
                onChange: (e) => handleChange("email", e.target.value),
                placeholder: "email@example.com",
                className: errors.email ? "border-red-500" : ""
              }
            ),
            errors.email && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-500", children: errors.email })
          ] }),
          showPhone && /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx(
              "label",
              {
                htmlFor: "contact-phone",
                className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",
                children: "Phone"
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-phone",
                type: "tel",
                value: formData.phone || "",
                onChange: (e) => handleChange("phone", e.target.value),
                placeholder: "(555) 555-5555"
              }
            )
          ] })
        ] }),
        showAddress && /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Address" }),
          /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx(
            Input,
            {
              id: "contact-street1",
              value: formData.address?.street1 || "",
              onChange: (e) => handleAddressChange("street1", e.target.value),
              placeholder: "Street Address"
            }
          ) }),
          /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx(
            Input,
            {
              id: "contact-street2",
              value: formData.address?.street2 || "",
              onChange: (e) => handleAddressChange("street2", e.target.value),
              placeholder: "Apt, Suite, etc. (optional)"
            }
          ) }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 sm:grid-cols-4 gap-4", children: [
            /* @__PURE__ */ jsx("div", { className: "col-span-2 sm:col-span-1", children: /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-city",
                value: formData.address?.city || "",
                onChange: (e) => handleAddressChange("city", e.target.value),
                placeholder: "City"
              }
            ) }),
            /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-state",
                value: formData.address?.state || "",
                onChange: (e) => handleAddressChange("state", e.target.value),
                placeholder: "State"
              }
            ) }),
            /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx(
              Input,
              {
                id: "contact-postalCode",
                value: formData.address?.postalCode || "",
                onChange: (e) => handleAddressChange("postalCode", e.target.value),
                placeholder: "ZIP"
              }
            ) })
          ] })
        ] }),
        showCustomFields && /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Custom Fields" }),
            /* @__PURE__ */ jsxs(
              Button,
              {
                type: "button",
                variant: "ghost",
                size: "sm",
                onClick: handleAddCustomField,
                children: [
                  /* @__PURE__ */ jsx(PlusIcon, { className: "h-4 w-4 mr-1" }),
                  "Add Field"
                ]
              }
            )
          ] }),
          (formData.customFields || []).map((field, index) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx(
              Input,
              {
                value: field.name,
                onChange: (e) => handleCustomFieldChange(index, "name", e.target.value),
                placeholder: "Field name",
                className: "flex-1"
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                value: field.value,
                onChange: (e) => handleCustomFieldChange(index, "value", e.target.value),
                placeholder: "Value",
                className: "flex-1"
              }
            ),
            /* @__PURE__ */ jsx(
              Button,
              {
                type: "button",
                variant: "ghost",
                size: "sm",
                onClick: () => handleRemoveCustomField(index),
                className: "text-red-500 hover:text-red-600",
                children: /* @__PURE__ */ jsx(TrashIcon, { className: "h-4 w-4" })
              }
            )
          ] }, index)),
          (!formData.customFields || formData.customFields.length === 0) && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: 'No custom fields added. Click "Add Field" to add custom information.' })
        ] })
      ] }),
      /* @__PURE__ */ jsxs(ModalFooter, { children: [
        /* @__PURE__ */ jsx(
          Button,
          {
            type: "button",
            variant: "secondary",
            onClick: () => onOpenChange(false),
            disabled: isSaving,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ jsx(Button, { type: "submit", disabled: isSaving, children: isSaving ? /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx(SpinnerIcon, { className: "h-4 w-4 mr-2 animate-spin" }),
          "Saving..."
        ] }) : "Save Contact" })
      ] })
    ] })
  ] });
}
function PlusIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { d: "M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" })
    }
  );
}
function TrashIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function SpinnerIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      fill: "none",
      viewBox: "0 0 24 24",
      className,
      "aria-hidden": "true",
      children: [
        /* @__PURE__ */ jsx(
          "circle",
          {
            className: "opacity-25",
            cx: "12",
            cy: "12",
            r: "10",
            stroke: "currentColor",
            strokeWidth: "4"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            className: "opacity-75",
            fill: "currentColor",
            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          }
        )
      ]
    }
  );
}
function generateId() {
  return `field_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
}
function AdditionalFields({
  value,
  onChange,
  title = "Additional Information (Optional)",
  defaultExpanded = false,
  disabled = false,
  namePlaceholder = "Field Name",
  valuePlaceholder = "Field Value",
  addButtonLabel = "Add Additional Information",
  maxEntries = 20,
  className,
  collapsible = true
}) {
  const [isExpanded, setIsExpanded] = React46.useState(defaultExpanded);
  const contentId = React46.useId();
  const handleNameChange = (id, name) => {
    const updated = value.map(
      (entry) => entry.id === id ? { ...entry, name } : entry
    );
    onChange(updated);
  };
  const handleValueChange = (id, newValue) => {
    const updated = value.map(
      (entry) => entry.id === id ? { ...entry, value: newValue } : entry
    );
    onChange(updated);
  };
  const handleRemove = (id) => {
    onChange(value.filter((entry) => entry.id !== id));
  };
  const handleAdd = () => {
    if (value.length < maxEntries) {
      onChange([
        ...value,
        {
          id: generateId(),
          name: "",
          value: ""
        }
      ]);
      if (!isExpanded) {
        setIsExpanded(true);
      }
    }
  };
  const canAdd = value.length < maxEntries;
  const content = /* @__PURE__ */ jsxs(Fragment, { children: [
    value.map((entry) => /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-start gap-2", children: [
      /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx(
        Input,
        {
          value: entry.name,
          onChange: (e) => handleNameChange(entry.id, e.target.value),
          placeholder: namePlaceholder,
          disabled,
          "aria-label": "Field name"
        }
      ) }),
      /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx(
        Input,
        {
          value: entry.value,
          onChange: (e) => handleValueChange(entry.id, e.target.value),
          placeholder: valuePlaceholder,
          disabled,
          "aria-label": "Field value"
        }
      ) }),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => handleRemove(entry.id),
          disabled,
          className: cn(
            "shrink-0 rounded-md p-2 transition-colors",
            "text-red-600 hover:bg-red-50",
            "disabled:cursor-not-allowed disabled:text-gray-300 disabled:hover:bg-transparent",
            "dark:text-red-400 dark:hover:bg-red-900/20",
            "dark:disabled:text-gray-600"
          ),
          "aria-label": "Remove field",
          children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-5 w-5",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                }
              )
            }
          )
        }
      )
    ] }, entry.id)),
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: handleAdd,
        disabled: disabled || !canAdd,
        className: cn(
          "flex w-full items-center justify-start gap-2 rounded-md px-3 py-2 text-sm font-medium transition-colors",
          "text-brand-600 hover:bg-brand-50",
          "disabled:cursor-not-allowed disabled:text-gray-400 disabled:hover:bg-transparent",
          "dark:text-brand-400 dark:hover:bg-brand-900/20",
          "dark:disabled:text-gray-600"
        ),
        children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-5 w-5",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M12 4v16m8-8H4"
                }
              )
            }
          ),
          addButtonLabel
        ]
      }
    )
  ] });
  if (!collapsible) {
    return /* @__PURE__ */ jsxs("div", { className: cn("space-y-3", className), children: [
      title && /* @__PURE__ */ jsx("h3", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: title }),
      content
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("", className), children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => setIsExpanded(!isExpanded),
        className: cn(
          "flex w-full items-center gap-2 text-left text-sm font-medium",
          "text-gray-700 hover:text-gray-900",
          "dark:text-gray-300 dark:hover:text-gray-100",
          "transition-colors"
        ),
        "aria-expanded": isExpanded,
        "aria-controls": contentId,
        children: [
          /* @__PURE__ */ jsx("span", { children: title }),
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: cn(
                "h-4 w-4 transition-transform duration-200",
                isExpanded ? "rotate-180" : ""
              ),
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M5 15l7-7 7 7"
                }
              )
            }
          ),
          value.length > 0 && /* @__PURE__ */ jsx("span", { className: "bg-brand-100 text-brand-700 dark:bg-brand-900/30 dark:text-brand-300 ml-1 rounded-full px-2 py-0.5 text-xs", children: value.length })
        ]
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        id: contentId,
        className: cn(
          "overflow-hidden transition-all duration-200",
          isExpanded ? "mt-4 opacity-100" : "max-h-0 opacity-0"
        ),
        hidden: !isExpanded,
        children: content
      }
    )
  ] });
}
AdditionalFields.displayName = "AdditionalFields";
function getGoogleMapsUrl(address) {
  const addressString = formatAddressSingleLine(address);
  return `https://www.google.com/maps?daddr=${encodeURIComponent(addressString)}`;
}
function getGoogleMapsSearchUrl(address) {
  const addressString = formatAddressSingleLine(address);
  return `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(addressString)}`;
}
function formatAddressSingleLine(address) {
  const parts = [address.street1];
  if (address.street2) parts.push(address.street2);
  parts.push(`${address.city}, ${address.state} ${address.postalCode}`);
  return parts.join(", ");
}
function formatAddressLines(address) {
  const lines = [address.street1];
  if (address.street2) lines.push(address.street2);
  lines.push(`${address.city}, ${address.state} ${address.postalCode}`);
  return lines;
}
function formatCityStateZip(address) {
  return `${address.city}, ${address.state} ${address.postalCode}`;
}
function formatCityState(address) {
  return `${address.city}, ${address.state}`;
}
var addressVariants = cva("", {
  variants: {
    /**
     * Display format:
     * - block: Multi-line display (default)
     * - inline: Single line with comma separation
     * - compact: City, State only
     */
    format: {
      block: "block",
      inline: "inline",
      compact: "inline"
    },
    /**
     * Visual size
     */
    size: {
      sm: "text-sm",
      md: "text-base",
      lg: "text-lg"
    }
  },
  defaultVariants: {
    format: "block",
    size: "md"
  }
});
function Address({
  address,
  format = "block",
  size = "md",
  linkToMaps = false,
  showIcon = false,
  icon,
  hideStreet = false,
  hidePostalCode = false,
  className,
  ...props
}) {
  const renderContent = () => {
    if (format === "compact") {
      return hidePostalCode ? formatCityState(address) : formatCityStateZip(address);
    }
    if (format === "inline") {
      if (hideStreet) {
        return hidePostalCode ? formatCityState(address) : formatCityStateZip(address);
      }
      return formatAddressSingleLine(address);
    }
    if (hideStreet) {
      return hidePostalCode ? formatCityState(address) : formatCityStateZip(address);
    }
    return /* @__PURE__ */ jsxs(Fragment, { children: [
      address.street1,
      address.street2 && /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsx("br", {}),
        address.street2
      ] }),
      /* @__PURE__ */ jsx("br", {}),
      hidePostalCode ? formatCityState(address) : formatCityStateZip(address)
    ] });
  };
  const content = renderContent();
  const getMapsUrl = () => {
    if (!linkToMaps) return null;
    if (linkToMaps === "search") return getGoogleMapsSearchUrl(address);
    return getGoogleMapsUrl(address);
  };
  const mapsUrl = getMapsUrl();
  const iconElement = showIcon ? icon || /* @__PURE__ */ jsx(MapPinIcon, { className: "h-4 w-4 shrink-0" }) : null;
  const baseStyles = cn(
    addressVariants({ format, size }),
    "text-gray-600 dark:text-gray-300",
    className
  );
  const wrapWithIcon = (children) => {
    if (!iconElement) return children;
    return /* @__PURE__ */ jsxs(
      "span",
      {
        className: cn(
          "inline-flex items-start gap-2",
          format === "inline" && "items-center"
        ),
        children: [
          iconElement,
          /* @__PURE__ */ jsx("span", { children })
        ]
      }
    );
  };
  if (mapsUrl) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href: mapsUrl,
        target: "_blank",
        rel: "noopener noreferrer",
        className: cn(
          baseStyles,
          "hover:text-primary-600 dark:hover:text-primary-400 hover:underline",
          "focus:ring-primary-500 rounded focus:ring-2 focus:ring-offset-2 focus:outline-none"
        ),
        ...props,
        children: wrapWithIcon(content)
      }
    );
  }
  if (format === "block") {
    return /* @__PURE__ */ jsx("address", { className: cn(baseStyles, "not-italic"), ...props, children: wrapWithIcon(content) });
  }
  return /* @__PURE__ */ jsx("span", { className: baseStyles, ...props, children: wrapWithIcon(content) });
}
function AddressCard({
  title,
  address,
  phoneNumber,
  onPhoneClick,
  className,
  ...addressProps
}) {
  const handlePhoneClick = (e) => {
    if (onPhoneClick) {
      e.preventDefault();
      onPhoneClick(phoneNumber);
    }
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800",
        className
      ),
      children: [
        title && /* @__PURE__ */ jsx("h4", { className: "mb-2 text-sm font-medium text-gray-900 dark:text-gray-100", children: title }),
        /* @__PURE__ */ jsx(Address, { address, showIcon: true, ...addressProps }),
        phoneNumber && /* @__PURE__ */ jsxs(
          "a",
          {
            href: `tel:${phoneNumber.replace(/\D/g, "")}`,
            onClick: handlePhoneClick,
            className: "hover:text-primary-600 dark:hover:text-primary-400 mt-2 inline-flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",
            children: [
              /* @__PURE__ */ jsx(PhoneIcon, { className: "h-4 w-4" }),
              phoneNumber
            ]
          }
        )
      ]
    }
  );
}
function AddressInline(props) {
  return /* @__PURE__ */ jsx(Address, { format: "inline", ...props });
}
function AddressCompact(props) {
  return /* @__PURE__ */ jsx(Address, { format: "compact", ...props });
}
function MapPinIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      "aria-hidden": "true",
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
          }
        )
      ]
    }
  );
}
function PhoneIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
        }
      )
    }
  );
}
var DEFAULT_LABELS = {
  street1: "Address Line 1",
  street2: "Address Line 2",
  city: "City",
  state: "State",
  postalCode: "ZIP Code",
  county: "County",
  country: "Country"
};
var DEFAULT_PLACEHOLDERS = {
  street1: "Street address",
  street2: "Apt, suite, building (optional)",
  city: "City",
  state: "ST",
  postalCode: "12345",
  county: "County",
  country: "United States"
};
function AddressForm({
  value,
  onChange,
  disabled = false,
  required = false,
  errors = {},
  id,
  showCountry = true,
  showCounty = false,
  defaultCountry = "US",
  labels = {},
  placeholders = {},
  className,
  googlePlaces
}) {
  const idPrefix = id || React46.useId();
  const autocompleteRef = React46.useRef(
    null
  );
  const inputRef = React46.useRef(null);
  const mergedLabels = { ...DEFAULT_LABELS, ...labels };
  const mergedPlaceholders = { ...DEFAULT_PLACEHOLDERS, ...placeholders };
  const handleChange = (field, fieldValue) => {
    onChange({
      ...value,
      [field]: fieldValue
    });
  };
  React46.useEffect(() => {
    if (!googlePlaces?.enabled || !inputRef.current) return;
    if (typeof google === "undefined" || !google.maps?.places) {
      console.warn(
        "Google Maps Places API is not loaded. Autocomplete will not work."
      );
      return;
    }
    const options = {
      types: googlePlaces.types || ["address"],
      fields: ["address_components", "geometry", "formatted_address"]
    };
    if (googlePlaces.componentRestrictions) {
      options.componentRestrictions = googlePlaces.componentRestrictions;
    }
    autocompleteRef.current = new google.maps.places.Autocomplete(
      inputRef.current,
      options
    );
    autocompleteRef.current.addListener("place_changed", () => {
      const place = autocompleteRef.current?.getPlace();
      if (!place?.address_components) return;
      const addressData = {};
      let streetNumber = "";
      let route = "";
      for (const component of place.address_components) {
        const type = component.types[0];
        switch (type) {
          case "street_number":
            streetNumber = component.long_name;
            break;
          case "route":
            route = component.long_name;
            break;
          case "locality":
            addressData.city = component.long_name;
            break;
          case "administrative_area_level_1":
            addressData.state = component.short_name;
            break;
          case "administrative_area_level_2":
            addressData.county = component.long_name.replace(" County", "");
            break;
          case "postal_code":
            addressData.postalCode = component.long_name;
            break;
          case "country":
            addressData.country = component.short_name;
            break;
        }
      }
      addressData.street1 = streetNumber ? `${streetNumber} ${route}` : route;
      if (place.geometry?.location) {
        addressData.lat = place.geometry.location.lat();
        addressData.lng = place.geometry.location.lng();
      }
      onChange({
        ...value,
        ...addressData
      });
      googlePlaces.onPlaceSelect?.(place);
    });
    return () => {
      if (autocompleteRef.current) {
        google.maps.event.clearInstanceListeners(autocompleteRef.current);
      }
    };
  }, [googlePlaces?.enabled]);
  return /* @__PURE__ */ jsxs("div", { className: cn("space-y-4", className), children: [
    /* @__PURE__ */ jsx(
      Input,
      {
        ref: inputRef,
        id: `${idPrefix}-street1`,
        label: mergedLabels.street1,
        placeholder: mergedPlaceholders.street1,
        value: value.street1 || "",
        onChange: (e) => handleChange("street1", e.target.value),
        disabled,
        required,
        hasError: !!errors.street1,
        error: errors.street1,
        autoComplete: "address-line1",
        "data-cy": "input-address-line-1"
      }
    ),
    /* @__PURE__ */ jsx(
      Input,
      {
        id: `${idPrefix}-street2`,
        label: mergedLabels.street2,
        placeholder: mergedPlaceholders.street2,
        value: value.street2 || "",
        onChange: (e) => handleChange("street2", e.target.value),
        disabled,
        hasError: !!errors.street2,
        error: errors.street2,
        autoComplete: "address-line2",
        "data-cy": "input-address-line-2"
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-12 gap-4", children: [
      /* @__PURE__ */ jsx("div", { className: "col-span-12 md:col-span-6", children: /* @__PURE__ */ jsx(
        Input,
        {
          id: `${idPrefix}-city`,
          label: mergedLabels.city,
          placeholder: mergedPlaceholders.city,
          value: value.city || "",
          onChange: (e) => handleChange("city", e.target.value),
          disabled,
          required,
          hasError: !!errors.city,
          error: errors.city,
          autoComplete: "address-level2",
          "data-cy": "input-city"
        }
      ) }),
      /* @__PURE__ */ jsx("div", { className: "col-span-4 md:col-span-3", children: /* @__PURE__ */ jsx(
        Input,
        {
          id: `${idPrefix}-state`,
          label: mergedLabels.state,
          placeholder: mergedPlaceholders.state,
          value: value.state || "",
          onChange: (e) => handleChange("state", e.target.value.toUpperCase()),
          disabled,
          required,
          maxLength: 2,
          hasError: !!errors.state,
          error: errors.state,
          autoComplete: "address-level1",
          "data-cy": "input-state"
        }
      ) }),
      /* @__PURE__ */ jsx("div", { className: "col-span-8 md:col-span-3", children: /* @__PURE__ */ jsx(
        Input,
        {
          id: `${idPrefix}-postalCode`,
          label: mergedLabels.postalCode,
          placeholder: mergedPlaceholders.postalCode,
          value: value.postalCode || "",
          onChange: (e) => handleChange("postalCode", e.target.value),
          disabled,
          required,
          hasError: !!errors.postalCode,
          error: errors.postalCode,
          autoComplete: "postal-code",
          "data-cy": "input-postal-code"
        }
      ) })
    ] }),
    (showCounty || showCountry) && /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-12 gap-4", children: [
      showCounty && /* @__PURE__ */ jsx("div", { className: cn(showCountry ? "col-span-6" : "col-span-12"), children: /* @__PURE__ */ jsx(
        Input,
        {
          id: `${idPrefix}-county`,
          label: mergedLabels.county,
          placeholder: mergedPlaceholders.county,
          value: value.county || "",
          onChange: (e) => handleChange("county", e.target.value),
          disabled,
          required,
          hasError: !!errors.county,
          error: errors.county,
          "data-cy": "input-county"
        }
      ) }),
      showCountry && /* @__PURE__ */ jsx("div", { className: cn(showCounty ? "col-span-6" : "col-span-12"), children: /* @__PURE__ */ jsx(
        Input,
        {
          id: `${idPrefix}-country`,
          label: mergedLabels.country,
          placeholder: mergedPlaceholders.country,
          value: value.country || defaultCountry,
          onChange: (e) => handleChange("country", e.target.value),
          disabled,
          required: true,
          hasError: !!errors.country,
          error: errors.country,
          autoComplete: "country",
          "data-cy": "input-country"
        }
      ) })
    ] }),
    value.lat !== void 0 && /* @__PURE__ */ jsx("input", { type: "hidden", name: "lat", value: value.lat }),
    value.lng !== void 0 && /* @__PURE__ */ jsx("input", { type: "hidden", name: "lng", value: value.lng })
  ] });
}
AddressForm.displayName = "AddressForm";
ModuleRegistry.registerModules([AllCommunityModule]);
var agGridVariants = cva("ag-theme-custom w-full", {
  variants: {
    /**
     * Visual variant of the grid
     */
    variant: {
      default: "",
      bordered: "[&_.ag-root-wrapper]:border [&_.ag-root-wrapper]:border-border [&_.ag-root-wrapper]:rounded-lg",
      striped: "[&_.ag-row-odd]:bg-muted/50",
      card: "[&_.ag-root-wrapper]:shadow-card [&_.ag-root-wrapper]:rounded-lg [&_.ag-root-wrapper]:border-0"
    },
    /**
     * Size/density of the grid rows
     */
    size: {
      xs: "[&_.ag-row]:h-7 [&_.ag-header-row]:h-7 text-xs [&_.ag-cell]:px-2",
      sm: "[&_.ag-row]:h-8 [&_.ag-header-row]:h-8 text-xs [&_.ag-cell]:px-3",
      md: "[&_.ag-row]:h-10 [&_.ag-header-row]:h-10 text-sm [&_.ag-cell]:px-4",
      lg: "[&_.ag-row]:h-12 [&_.ag-header-row]:h-12 text-base [&_.ag-cell]:px-4",
      xl: "[&_.ag-row]:h-14 [&_.ag-header-row]:h-14 text-base [&_.ag-cell]:px-6"
    },
    /**
     * Brand theme variant
     */
    brand: {
      default: "",
      mieweb: "ag-brand-mieweb",
      bluehive: "ag-brand-bluehive",
      waggleline: "ag-brand-waggleline",
      webchart: "ag-brand-webchart",
      "enterprise-health": "ag-brand-enterprise-health"
    }
  },
  defaultVariants: {
    variant: "default",
    size: "md",
    brand: "default"
  }
});
var getDefaultColDef = (sortable, filterable, resizable) => ({
  sortable,
  filter: filterable,
  resizable,
  minWidth: 100,
  flex: 1,
  suppressMovable: false,
  headerClass: "ag-header-cell-custom",
  cellClass: "ag-cell-custom"
});
function AGGridInner({
  className,
  variant,
  size,
  brand,
  height = 400,
  loading = false,
  columnDefs,
  rowData,
  defaultColDef: userDefaultColDef,
  onGridReady,
  onRowClick,
  gridRef,
  rowSelection,
  brandConfig,
  pagination = false,
  resizable = true,
  sortable = true,
  filterable = true,
  noDataMessage = "No data to display",
  loadingMessage = "Loading...",
  ...props
}, ref) {
  const internalRef = React46.useRef(null);
  const gridApiRef = React46.useRef(null);
  const resolvedRef = gridRef || ref || internalRef;
  const handleGridReady = React46.useCallback(
    (event) => {
      gridApiRef.current = event.api;
      onGridReady?.(event);
    },
    [onGridReady]
  );
  const handleRowClicked = React46.useCallback(
    (event) => {
      onRowClick?.(event);
    },
    [onRowClick]
  );
  const mergedDefaultColDef = React46.useMemo(
    () => ({
      ...getDefaultColDef(sortable, filterable, resizable),
      ...userDefaultColDef
    }),
    [userDefaultColDef, sortable, filterable, resizable]
  );
  const resolvedRowSelection = React46.useMemo(() => {
    if (!rowSelection) return void 0;
    if (typeof rowSelection === "object") {
      return rowSelection;
    }
    if (rowSelection === "multiple") {
      return {
        mode: "multiRow",
        enableClickSelection: true
      };
    }
    if (rowSelection === "single") {
      return {
        mode: "singleRow",
        enableClickSelection: true
      };
    }
    return void 0;
  }, [rowSelection]);
  React46.useEffect(() => {
    if (gridApiRef.current) {
      if (loading) {
        gridApiRef.current.showLoadingOverlay();
      } else {
        gridApiRef.current.hideOverlay();
      }
    }
  }, [loading]);
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(agGridVariants({ variant, size, brand }), className),
      style: {
        height: typeof height === "number" ? `${height}px` : height,
        ...brandConfig && {
          "--ag-primary-color": brandConfig.colors.primary[600],
          "--ag-font-family": brandConfig.typography.fontFamily.sans.join(", ")
        }
      },
      "data-brand": brand,
      children: /* @__PURE__ */ jsx(
        AgGridReact,
        {
          ref: resolvedRef,
          columnDefs,
          rowData,
          defaultColDef: mergedDefaultColDef,
          onGridReady: handleGridReady,
          onRowClicked: handleRowClicked,
          animateRows: true,
          enableBrowserTooltips: true,
          rowSelection: resolvedRowSelection,
          pagination,
          paginationPageSize: pagination ? 50 : void 0,
          paginationPageSizeSelector: pagination ? [25, 50, 100, 200] : void 0,
          noRowsOverlayComponent: () => /* @__PURE__ */ jsx("div", { className: "text-muted-foreground py-8 text-center", children: noDataMessage }),
          loadingOverlayComponent: () => /* @__PURE__ */ jsx("div", { className: "text-muted-foreground py-8 text-center", children: loadingMessage }),
          theme: "legacy",
          ...props
        }
      )
    }
  );
}
var AGGrid = React46.forwardRef(AGGridInner);
AGGrid.displayName = "AGGrid";
function getNestedValue(obj, path) {
  if (!obj || !path) return void 0;
  const parts = path.split(".");
  let current = obj;
  for (const part of parts) {
    if (current === null || current === void 0) return void 0;
    if (typeof current === "object") {
      current = current[part];
    } else {
      return void 0;
    }
  }
  return current;
}
function getFaviconUrl(domain) {
  if (!domain || typeof domain !== "string") return null;
  const cleanDomain = domain.replace(/^https?:\/\//, "").replace(/\/.*$/, "").trim();
  if (!cleanDomain) return null;
  return `https://www.google.com/s2/favicons?domain=${cleanDomain}&sz=64`;
}
function formatPhoneDisplay(phone) {
  if (!phone) return "";
  const cleaned = phone.replace(/\D/g, "");
  if (cleaned.length === 10) {
    return `${cleaned.slice(0, 3)}-${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;
  }
  if (cleaned.length === 11 && cleaned.startsWith("1")) {
    return `${cleaned[0]}-${cleaned.slice(1, 4)}-${cleaned.slice(4, 7)}-${cleaned.slice(7)}`;
  }
  return phone;
}
function getInitials2(name) {
  if (!name || typeof name !== "string") return "??";
  const parts = name.split(" ").filter(Boolean);
  if (parts.length >= 2) {
    return `${parts[0][0]}${parts[parts.length - 1][0]}`.toUpperCase();
  }
  return name.substring(0, 2).toUpperCase();
}
function getAvatarColor(name) {
  const colors = [
    "bg-primary-600",
    "bg-green-600",
    "bg-orange-600",
    "bg-secondary-600",
    "bg-pink-600",
    "bg-primary-700",
    "bg-teal-600",
    "bg-amber-600"
  ];
  if (!name || typeof name !== "string") return colors[0];
  let hash = 0;
  for (let i = 0; i < name.length; i++) {
    hash = name.charCodeAt(i) + ((hash << 5) - hash);
  }
  return colors[Math.abs(hash) % colors.length];
}
function cellRendererPropsAreEqual(prevProps, nextProps) {
  if (prevProps.value !== nextProps.value) return false;
  if (prevProps.data !== nextProps.data) return false;
  if (prevProps.node?.rowIndex !== nextProps.node?.rowIndex) return false;
  return true;
}
var statusColors = {
  active: {
    label: "Active",
    bgClass: "bg-green-100 dark:bg-green-900/30",
    textClass: "text-green-600 dark:text-green-400"
  },
  inactive: {
    label: "Inactive",
    bgClass: "bg-gray-200 dark:bg-gray-700",
    textClass: "text-gray-600 dark:text-gray-400"
  },
  pending: {
    label: "Pending",
    bgClass: "bg-amber-100 dark:bg-amber-900/30",
    textClass: "text-amber-600 dark:text-amber-400"
  },
  new: {
    label: "New",
    bgClass: "bg-primary-100 dark:bg-primary-900/30",
    textClass: "text-primary-600 dark:text-primary-400"
  },
  verified: {
    label: "Verified",
    bgClass: "bg-green-100 dark:bg-green-900/30",
    textClass: "text-green-600 dark:text-green-400"
  },
  flagged: {
    label: "Flagged",
    bgClass: "bg-red-100 dark:bg-red-900/30",
    textClass: "text-red-600 dark:text-red-400"
  }
};
function AvatarNameRenderer(props) {
  const { data, value } = props;
  if (!data && !value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const displayName = typeof value === "string" && value ? value : "Unknown";
  const isSystemValue = ["Unknown", "Unassigned", "System"].includes(
    displayName
  );
  const avatarUrl = props.avatarField && data ? getNestedValue(data, props.avatarField) : data?.avatarUrl;
  const domain = props.domainField && data ? getNestedValue(data, props.domainField) : data?.company?.domain || data?.domain;
  const faviconUrl = getFaviconUrl(domain);
  const initials = getInitials2(displayName);
  const imageUrl = avatarUrl || faviconUrl;
  if (isSystemValue) {
    return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 py-1", children: [
      /* @__PURE__ */ jsx("div", { className: "flex h-7 w-7 items-center justify-center rounded-full bg-gray-200 text-xs font-semibold text-gray-400 dark:bg-gray-700 dark:text-gray-500", children: displayName === "Unassigned" ? "\u2014" : "??" }),
      /* @__PURE__ */ jsx("span", { className: "truncate text-gray-400 italic dark:text-gray-500", children: displayName })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 py-1", children: [
    imageUrl ? /* @__PURE__ */ jsx(
      "img",
      {
        src: imageUrl,
        alt: displayName,
        className: "h-7 w-7 rounded-full bg-white object-cover ring-2 ring-white dark:ring-gray-700",
        onError: (e) => {
          const target = e.target;
          target.style.display = "none";
          const sibling = target.nextElementSibling;
          if (sibling) sibling.style.display = "flex";
        }
      }
    ) : null,
    /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "flex h-7 w-7 items-center justify-center rounded-full text-xs font-semibold text-white",
          getAvatarColor(displayName)
        ),
        style: { display: imageUrl ? "none" : "flex" },
        children: initials
      }
    ),
    /* @__PURE__ */ jsx("span", { className: "text-foreground truncate font-medium", children: displayName })
  ] });
}
function StatusBadgeRenderer(props) {
  const { value, statusConfig: statusConfig2 = statusColors } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const normalizedValue = String(value).toLowerCase().replace(/\s+/g, "_");
  const config = statusConfig2[normalizedValue] || {
    label: value,
    bgClass: "bg-gray-200 dark:bg-gray-700",
    textClass: "text-gray-600 dark:text-gray-400"
  };
  return /* @__PURE__ */ jsx(
    "span",
    {
      className: cn(
        "inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium",
        config.bgClass,
        config.textClass
      ),
      children: config.label
    }
  );
}
function getEngagementScoreColors(score) {
  if (score >= 70)
    return {
      barColor: "bg-green-500",
      textColor: "text-green-600 dark:text-green-400"
    };
  if (score >= 40)
    return {
      barColor: "bg-amber-500",
      textColor: "text-amber-600 dark:text-amber-400"
    };
  if (score >= 20)
    return {
      barColor: "bg-orange-500",
      textColor: "text-orange-600 dark:text-orange-400"
    };
  return {
    barColor: "bg-gray-400",
    textColor: "text-gray-600 dark:text-gray-400"
  };
}
function EngagementScoreRenderer(props) {
  const { value } = props;
  if (value == null) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const score = Number(value);
  const percentage = Math.min(100, Math.max(0, score));
  const { barColor, textColor } = getEngagementScoreColors(score);
  return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 py-1", children: [
    /* @__PURE__ */ jsx("div", { className: "h-1.5 w-16 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700", children: /* @__PURE__ */ jsx(
      "div",
      {
        className: cn("h-full rounded-full transition-all", barColor),
        style: { width: `${percentage}%` }
      }
    ) }),
    /* @__PURE__ */ jsx("span", { className: cn("text-sm font-medium", textColor), children: score })
  ] });
}
function EmailRenderer(props) {
  const { value } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: `mailto:${value}`,
      className: "text-primary-600 dark:text-primary-400 inline-flex items-center gap-1.5 hover:underline",
      onClick: (e) => e.stopPropagation(),
      children: [
        /* @__PURE__ */ jsx(Mail, { className: "h-3 w-3 opacity-60" }),
        /* @__PURE__ */ jsx("span", { className: "truncate", children: value })
      ]
    }
  );
}
function PhoneRenderer(props) {
  const { value } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const displayValue = formatPhoneDisplay(value);
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: `tel:${value}`,
      className: "text-foreground hover:text-primary-600 dark:hover:text-primary-400 inline-flex items-center gap-1.5",
      onClick: (e) => e.stopPropagation(),
      children: [
        /* @__PURE__ */ jsx(Phone, { className: "h-3 w-3 text-green-500 opacity-70" }),
        /* @__PURE__ */ jsx("span", { children: displayValue })
      ]
    }
  );
}
function DomainRenderer(props) {
  const { value } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const url = value.startsWith("http") ? value : `https://${value}`;
  const displayDomain = value.replace(/^https?:\/\//, "").replace(/\/$/, "");
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: url,
      target: "_blank",
      rel: "noopener noreferrer",
      className: "text-primary-600 dark:text-primary-400 inline-flex items-center gap-1.5 hover:underline",
      onClick: (e) => e.stopPropagation(),
      children: [
        /* @__PURE__ */ jsx(Globe, { className: "h-3 w-3 opacity-60" }),
        /* @__PURE__ */ jsx("span", { className: "truncate", children: displayDomain })
      ]
    }
  );
}
function LinkedInRenderer(props) {
  const { value } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: value,
      target: "_blank",
      rel: "noopener noreferrer",
      className: "inline-flex items-center gap-1.5 text-[#0A66C2] hover:underline",
      onClick: (e) => e.stopPropagation(),
      children: [
        /* @__PURE__ */ jsx(Linkedin, { className: "h-4 w-4" }),
        /* @__PURE__ */ jsx("span", { className: "truncate text-sm", children: "LinkedIn" })
      ]
    }
  );
}
function CurrencyRenderer(props) {
  const { value } = props;
  if (value == null) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const formatted = new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: "USD",
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  }).format(value);
  return /* @__PURE__ */ jsx("span", { className: "text-foreground font-medium tabular-nums", children: formatted });
}
function NumberRenderer(props) {
  const { value } = props;
  if (value == null) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const formatted = Number(value).toLocaleString();
  return /* @__PURE__ */ jsx("span", { className: "text-foreground tabular-nums", children: formatted });
}
function DateRenderer(props) {
  const { value, format = "medium" } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const date = value instanceof Date ? value : new Date(value);
  if (isNaN(date.getTime())) {
    return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  }
  if (format === "relative") {
    const now = /* @__PURE__ */ new Date();
    const diff = now.getTime() - date.getTime();
    const days = Math.floor(diff / (1e3 * 60 * 60 * 24));
    let relativeText;
    if (days === 0) {
      relativeText = "Today";
    } else if (days === 1) {
      relativeText = "Yesterday";
    } else if (days < 7) {
      relativeText = `${days} days ago`;
    } else if (days < 30) {
      const weeks = Math.floor(days / 7);
      relativeText = `${weeks} week${weeks > 1 ? "s" : ""} ago`;
    } else if (days < 365) {
      const months = Math.floor(days / 30);
      relativeText = `${months} month${months > 1 ? "s" : ""} ago`;
    } else {
      const years = Math.floor(days / 365);
      relativeText = `${years} year${years > 1 ? "s" : ""} ago`;
    }
    return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: relativeText });
  }
  const dateOptions = format === "short" ? { month: "numeric", day: "numeric" } : format === "long" ? { month: "long", day: "numeric", year: "numeric" } : { month: "short", day: "numeric", year: "numeric" };
  if (format === "datetime") {
    const formatted2 = date.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      year: "numeric",
      hour: "numeric",
      minute: "2-digit"
    });
    return /* @__PURE__ */ jsx("span", { className: "text-foreground", children: formatted2 });
  }
  const formatted = date.toLocaleDateString("en-US", dateOptions);
  return /* @__PURE__ */ jsx("span", { className: "text-foreground", children: formatted });
}
function BooleanRenderer(props) {
  const { value } = props;
  if (value == null) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const isTrue = Boolean(value);
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium",
        isTrue ? "bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400" : "bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400"
      ),
      children: [
        isTrue ? /* @__PURE__ */ jsx(CheckCircle, { className: "h-3 w-3" }) : /* @__PURE__ */ jsx(Clock, { className: "h-3 w-3" }),
        isTrue ? "Yes" : "No"
      ]
    }
  );
}
function CompanyRenderer(props) {
  const { data, value } = props;
  if (!value) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const domain = props.domainField && data ? getNestedValue(data, props.domainField) : data?.company?.domain || data?.domain;
  const faviconUrl = getFaviconUrl(domain);
  return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 py-0.5", children: [
    faviconUrl ? /* @__PURE__ */ jsx(
      "img",
      {
        src: faviconUrl,
        alt: value,
        className: "h-5 w-5 rounded bg-white object-contain",
        onError: (e) => {
          const target = e.target;
          target.style.display = "none";
          const sibling = target.nextElementSibling;
          if (sibling) sibling.style.display = "flex";
        }
      }
    ) : null,
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400 flex h-5 w-5 items-center justify-center rounded text-[9px] font-semibold",
        style: { display: faviconUrl ? "none" : "flex" },
        children: getInitials2(value)
      }
    ),
    /* @__PURE__ */ jsx("span", { className: "truncate font-medium", children: value })
  ] });
}
function ProgressRenderer(props) {
  const { value, barColor = "bg-primary-500", max = 100 } = props;
  if (value == null) return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  const percentage = Math.min(100, Math.max(0, Number(value) / max * 100));
  return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 py-1", children: [
    /* @__PURE__ */ jsx("div", { className: "h-2 w-20 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700", children: /* @__PURE__ */ jsx(
      "div",
      {
        className: cn("h-full rounded-full transition-all", barColor),
        style: { width: `${percentage}%` }
      }
    ) }),
    /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground text-xs font-medium", children: [
      Math.round(percentage),
      "%"
    ] })
  ] });
}
function TagsRenderer(props) {
  const { value } = props;
  if (!value || !Array.isArray(value) || value.length === 0) {
    return /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "--" });
  }
  return /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-1", children: [
    value.slice(0, 3).map((tag, index) => /* @__PURE__ */ jsx(
      "span",
      {
        className: "inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-600 dark:bg-gray-800 dark:text-gray-400",
        children: tag
      },
      index
    )),
    value.length > 3 && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground text-xs", children: [
      "+",
      value.length - 3
    ] })
  ] });
}
var MemoizedAvatarNameRenderer = memo(
  AvatarNameRenderer,
  cellRendererPropsAreEqual
);
var MemoizedStatusBadgeRenderer = memo(
  StatusBadgeRenderer,
  cellRendererPropsAreEqual
);
var MemoizedEngagementScoreRenderer = memo(
  EngagementScoreRenderer,
  cellRendererPropsAreEqual
);
var MemoizedEmailRenderer = memo(
  EmailRenderer,
  cellRendererPropsAreEqual
);
var MemoizedPhoneRenderer = memo(
  PhoneRenderer,
  cellRendererPropsAreEqual
);
var MemoizedLinkedInRenderer = memo(
  LinkedInRenderer,
  cellRendererPropsAreEqual
);
var MemoizedDomainRenderer = memo(
  DomainRenderer,
  cellRendererPropsAreEqual
);
var MemoizedCurrencyRenderer = memo(
  CurrencyRenderer,
  cellRendererPropsAreEqual
);
var MemoizedNumberRenderer = memo(
  NumberRenderer,
  cellRendererPropsAreEqual
);
var MemoizedDateRenderer = memo(
  DateRenderer,
  cellRendererPropsAreEqual
);
var MemoizedBooleanRenderer = memo(
  BooleanRenderer,
  cellRendererPropsAreEqual
);
var MemoizedCompanyRenderer = memo(
  CompanyRenderer,
  cellRendererPropsAreEqual
);
var MemoizedProgressRenderer = memo(
  ProgressRenderer,
  cellRendererPropsAreEqual
);
var MemoizedTagsRenderer = memo(
  TagsRenderer,
  cellRendererPropsAreEqual
);
var CellRenderers = {
  // Original renderers
  AvatarNameRenderer,
  StatusBadgeRenderer,
  EngagementScoreRenderer,
  EmailRenderer,
  PhoneRenderer,
  LinkedInRenderer,
  DomainRenderer,
  CurrencyRenderer,
  NumberRenderer,
  DateRenderer,
  BooleanRenderer,
  CompanyRenderer,
  ProgressRenderer,
  TagsRenderer,
  // Memoized renderers (recommended for performance)
  MemoizedAvatarNameRenderer,
  MemoizedStatusBadgeRenderer,
  MemoizedEngagementScoreRenderer,
  MemoizedEmailRenderer,
  MemoizedPhoneRenderer,
  MemoizedLinkedInRenderer,
  MemoizedDomainRenderer,
  MemoizedCurrencyRenderer,
  MemoizedNumberRenderer,
  MemoizedDateRenderer,
  MemoizedBooleanRenderer,
  MemoizedCompanyRenderer,
  MemoizedProgressRenderer,
  MemoizedTagsRenderer,
  // Utility functions
  formatPhoneDisplay
};
var sizeClasses = {
  sm: "h-4 w-4",
  md: "h-5 w-5",
  lg: "h-7 w-7"
};
function SparklesIcon({ className, size = "md" }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className: cn(sizeClasses[size], className),
      viewBox: "0 0 24 24",
      fill: "currentColor",
      children: [
        /* @__PURE__ */ jsx("path", { d: "M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z" }),
        /* @__PURE__ */ jsx(
          "path",
          {
            d: "M20 3v4",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            d: "M22 5h-4",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round"
          }
        )
      ]
    }
  );
}
function AILogoIcon({ className, size = "md" }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className: cn(sizeClasses[size], className),
      viewBox: "0 0 24 24",
      fill: "none",
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            d: "M12 2L2 7L12 12L22 7L12 2Z",
            stroke: "currentColor",
            strokeWidth: "1.5",
            strokeLinecap: "round",
            strokeLinejoin: "round",
            fill: "currentColor",
            fillOpacity: "0.2"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            d: "M2 17L12 22L22 17",
            stroke: "currentColor",
            strokeWidth: "1.5",
            strokeLinecap: "round",
            strokeLinejoin: "round"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            d: "M2 12L12 17L22 12",
            stroke: "currentColor",
            strokeWidth: "1.5",
            strokeLinecap: "round",
            strokeLinejoin: "round"
          }
        )
      ]
    }
  );
}
function CloseIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: cn("h-5 w-5", className),
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "2",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function RefreshIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: cn("h-5 w-5", className),
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
        }
      )
    }
  );
}
var chevronRotation = {
  up: "-rotate-180",
  down: "",
  left: "rotate-90",
  right: "-rotate-90"
};
function ChevronIcon({
  className,
  direction = "down"
}) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: cn("h-4 w-4", chevronRotation[direction], className),
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "2",
      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 9l-7 7-7-7" })
    }
  );
}
function SendIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: cn("h-5 w-5", className),
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
        }
      )
    }
  );
}
function SpinnerIcon2({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className: cn("h-5 w-5 animate-spin", className),
      fill: "none",
      viewBox: "0 0 24 24",
      children: [
        /* @__PURE__ */ jsx(
          "circle",
          {
            className: "opacity-25",
            cx: "12",
            cy: "12",
            r: "10",
            stroke: "currentColor",
            strokeWidth: "4"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            className: "opacity-75",
            fill: "currentColor",
            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
          }
        )
      ]
    }
  );
}
var statusIconVariants = cva(
  "flex h-5 w-5 items-center justify-center rounded-full",
  {
    variants: {
      status: {
        pending: "bg-neutral-200 dark:bg-neutral-700",
        running: "bg-primary-100 dark:bg-primary-900/50",
        success: "bg-green-100 dark:bg-green-900/50",
        error: "bg-red-100 dark:bg-red-900/50",
        cancelled: "bg-neutral-200 dark:bg-neutral-700"
      }
    },
    defaultVariants: {
      status: "pending"
    }
  }
);
function ToolStatusIcon({ status, className }) {
  return /* @__PURE__ */ jsxs("span", { className: cn(statusIconVariants({ status }), className), children: [
    status === "pending" && /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-3 w-3 text-neutral-500",
        fill: "currentColor",
        viewBox: "0 0 20 20",
        children: /* @__PURE__ */ jsx("circle", { cx: "10", cy: "10", r: "3" })
      }
    ),
    status === "running" && /* @__PURE__ */ jsxs(
      "svg",
      {
        className: "text-primary-600 dark:text-primary-400 h-3 w-3 animate-spin",
        fill: "none",
        viewBox: "0 0 24 24",
        children: [
          /* @__PURE__ */ jsx(
            "circle",
            {
              className: "opacity-25",
              cx: "12",
              cy: "12",
              r: "10",
              stroke: "currentColor",
              strokeWidth: "4"
            }
          ),
          /* @__PURE__ */ jsx(
            "path",
            {
              className: "opacity-75",
              fill: "currentColor",
              d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
            }
          )
        ]
      }
    ),
    status === "success" && /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-3 w-3 text-green-600 dark:text-green-400",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "3",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M5 13l4 4L19 7"
          }
        )
      }
    ),
    status === "error" && /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-3 w-3 text-red-600 dark:text-red-400",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "3",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M6 18L18 6M6 6l12 12"
          }
        )
      }
    ),
    status === "cancelled" && /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-3 w-3 text-neutral-500",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "3",
        children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M18 12H6" })
      }
    )
  ] });
}
var TOOL_ICONS = {
  // Patient tools
  create_patient: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM3 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 019.374 21c-2.331 0-4.512-.645-6.374-1.766z"
        }
      )
    }
  ),
  get_patient: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
        }
      )
    }
  ),
  search_patients: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
        }
      )
    }
  ),
  // Appointment tools
  schedule_appointment: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"
        }
      )
    }
  ),
  // Document tools
  create_document: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
        }
      )
    }
  ),
  // Default tool icon
  default: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"
        }
      )
    }
  )
};
function getToolIcon(toolName) {
  return TOOL_ICONS[toolName] || TOOL_ICONS.default;
}
function ResourceLink({ link, onClick, className }) {
  const handleClick = (e) => {
    if (onClick) {
      e.preventDefault();
      onClick(link);
    }
  };
  const linkTypeIcons = {
    patient: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
          }
        )
      }
    ),
    document: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
          }
        )
      }
    ),
    appointment: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
          }
        )
      }
    ),
    order: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"
          }
        )
      }
    ),
    external: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
          }
        )
      }
    ),
    internal: /* @__PURE__ */ jsx(
      "svg",
      {
        className: "h-4 w-4",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: "1.5",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"
          }
        )
      }
    )
  };
  const icon = link.type ? linkTypeIcons[link.type] : linkTypeIcons.internal;
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: link.href,
      onClick: handleClick,
      className: cn(
        "inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5",
        "bg-primary-50 text-primary-700 hover:bg-primary-100",
        "dark:bg-primary-900/30 dark:text-primary-300 dark:hover:bg-primary-900/50",
        "text-sm font-medium transition-colors",
        "focus:ring-primary-500 focus:ring-2 focus:ring-offset-2 focus:outline-none",
        "dark:focus:ring-offset-neutral-900",
        className
      ),
      children: [
        icon,
        /* @__PURE__ */ jsx("span", { children: link.label }),
        link.type === "external" && /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-3 w-3 opacity-60",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: "2",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"
              }
            )
          }
        )
      ]
    }
  );
}
function ToolResultDisplay({
  result,
  onLinkClick,
  showRawData = false,
  className
}) {
  const [showJson, setShowJson] = React46.useState(false);
  if (result.type === "error") {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "mt-2 rounded-md bg-red-50 p-3 dark:bg-red-900/20",
          className
        ),
        children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-700 dark:text-red-300", children: typeof result.data === "string" ? String(result.data) : "An error occurred" })
      }
    );
  }
  const hasRawData = result.type === "json" && result.data !== void 0 && result.data !== null;
  return /* @__PURE__ */ jsxs("div", { className: cn("space-y-2", className), children: [
    result.summary && /* @__PURE__ */ jsx("p", { className: "text-sm text-neutral-700 dark:text-neutral-300", children: result.summary }),
    result.link && /* @__PURE__ */ jsx(ResourceLink, { link: result.link, onClick: onLinkClick }),
    result.resources && result.resources.length > 0 && /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: result.resources.map((resource) => /* @__PURE__ */ jsx(
      ResourceLink,
      {
        link: {
          href: resource.uri || "#",
          label: resource.name,
          type: resource.type
        },
        onClick: onLinkClick
      },
      resource.id
    )) }),
    hasRawData && showRawData && /* @__PURE__ */ jsxs("div", { className: "mt-2", children: [
      /* @__PURE__ */ jsxs(
        "button",
        {
          onClick: () => setShowJson(!showJson),
          className: "flex items-center gap-1 text-xs text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",
          children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: cn(
                  "h-3 w-3 transition-transform",
                  showJson && "rotate-90"
                ),
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                strokeWidth: "2",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    d: "M9 5l7 7-7 7"
                  }
                )
              }
            ),
            showJson ? "Hide" : "Show",
            " raw data"
          ]
        }
      ),
      showJson && /* @__PURE__ */ jsx("pre", { className: "mt-2 max-h-40 overflow-auto rounded-md bg-neutral-100 p-2 text-xs dark:bg-neutral-800", children: JSON.stringify(result.data, null, 2) })
    ] })
  ] });
}
var toolCallVariants = cva(
  ["rounded-lg border", "overflow-hidden", "transition-all duration-200"],
  {
    variants: {
      status: {
        pending: "border-neutral-200 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-800/50",
        running: "border-primary-200 bg-primary-50/50 dark:border-primary-800 dark:bg-primary-900/20",
        success: "border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/20",
        error: "border-red-200 bg-red-50/50 dark:border-red-800 dark:bg-red-900/20",
        cancelled: "border-neutral-200 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-800/50 opacity-60"
      },
      compact: {
        true: "p-2",
        false: "p-3"
      }
    },
    defaultVariants: {
      status: "pending",
      compact: false
    }
  }
);
var TOOL_FRIENDLY_NAMES = {
  create_patient: "Creating patient",
  get_patient: "Looking up patient",
  search_patients: "Searching patients",
  update_patient: "Updating patient",
  delete_patient: "Removing patient",
  schedule_appointment: "Scheduling appointment",
  cancel_appointment: "Canceling appointment",
  update_appointment: "Updating appointment",
  create_document: "Creating document",
  upload_document: "Uploading document",
  get_document: "Retrieving document",
  search_documents: "Searching documents",
  create_order: "Creating order",
  send_message: "Sending message",
  search: "Searching"
};
function getToolFriendlyName(toolName, status) {
  const baseName = TOOL_FRIENDLY_NAMES[toolName] || toolName.replace(/_/g, " ");
  if (status === "success") {
    if (baseName.startsWith("Creating"))
      return baseName.replace("Creating", "Created");
    if (baseName.startsWith("Scheduling"))
      return baseName.replace("Scheduling", "Scheduled");
    if (baseName.startsWith("Searching"))
      return baseName.replace("Searching", "Searched");
    if (baseName.startsWith("Looking"))
      return baseName.replace("Looking", "Found");
    if (baseName.startsWith("Updating"))
      return baseName.replace("Updating", "Updated");
    if (baseName.startsWith("Removing"))
      return baseName.replace("Removing", "Removed");
    if (baseName.startsWith("Canceling"))
      return baseName.replace("Canceling", "Canceled");
    if (baseName.startsWith("Retrieving"))
      return baseName.replace("Retrieving", "Retrieved");
    if (baseName.startsWith("Uploading"))
      return baseName.replace("Uploading", "Uploaded");
    if (baseName.startsWith("Sending"))
      return baseName.replace("Sending", "Sent");
  }
  return baseName;
}
function getParameterSummary(toolName, params) {
  const paramMap = Object.fromEntries(params.map((p) => [p.name, p.value]));
  if (toolName === "create_patient" && paramMap.firstName && paramMap.lastName) {
    return `${paramMap.firstName} ${paramMap.lastName}`;
  }
  if (toolName.includes("search") && paramMap.query) {
    return `"${paramMap.query}"`;
  }
  if (toolName.includes("appointment") && paramMap.patientName) {
    const date = paramMap.preferredDate || paramMap.date;
    return date ? `${paramMap.patientName} on ${date}` : String(paramMap.patientName);
  }
  return null;
}
function MCPToolCallDisplay({
  toolCall,
  showParameters = true,
  collapsible = true,
  defaultCollapsed = true,
  compact,
  onLinkClick,
  className
}) {
  const [showDetails, setShowDetails] = React46.useState(!defaultCollapsed);
  const formatDuration2 = (ms) => {
    if (!ms) return null;
    if (ms < 1e3) return `${ms}ms`;
    return `${(ms / 1e3).toFixed(1)}s`;
  };
  const friendlyName = getToolFriendlyName(toolCall.toolName, toolCall.status);
  const paramSummary = getParameterSummary(
    toolCall.toolName,
    toolCall.parameters
  );
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        toolCallVariants({ status: toolCall.status, compact }),
        className
      ),
      children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3", children: [
        /* @__PURE__ */ jsx("div", { className: "flex h-8 w-8 shrink-0 items-center justify-center rounded-md bg-white/50 text-neutral-600 dark:bg-neutral-700/50 dark:text-neutral-400", children: getToolIcon(toolCall.toolName) }),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-neutral-900 dark:text-white", children: friendlyName }),
            /* @__PURE__ */ jsx(ToolStatusIcon, { status: toolCall.status }),
            toolCall.duration && /* @__PURE__ */ jsx("span", { className: "text-xs text-neutral-400", children: formatDuration2(toolCall.duration) })
          ] }),
          paramSummary && toolCall.status !== "success" && /* @__PURE__ */ jsx("p", { className: "mt-0.5 text-sm text-neutral-600 dark:text-neutral-400", children: paramSummary }),
          toolCall.result && /* @__PURE__ */ jsx("div", { className: "mt-2", children: /* @__PURE__ */ jsx(
            ToolResultDisplay,
            {
              result: toolCall.result,
              onLinkClick,
              showRawData: showDetails
            }
          ) }),
          toolCall.error && /* @__PURE__ */ jsx("div", { className: "mt-2 rounded-md bg-red-100 p-2 dark:bg-red-900/30", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-700 dark:text-red-300", children: toolCall.error }) }),
          collapsible && showParameters && toolCall.parameters.length > 0 && /* @__PURE__ */ jsxs(
            "button",
            {
              onClick: () => setShowDetails(!showDetails),
              className: "mt-2 flex items-center gap-1 text-xs text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-300",
              children: [
                /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: cn(
                      "h-3 w-3 transition-transform",
                      showDetails && "rotate-90"
                    ),
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    strokeWidth: "2",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M9 5l7 7-7 7"
                      }
                    )
                  }
                ),
                showDetails ? "Hide" : "Show",
                " details"
              ]
            }
          ),
          showDetails && showParameters && toolCall.parameters.length > 0 && /* @__PURE__ */ jsxs("div", { className: "mt-3 rounded-md bg-neutral-100 p-2 dark:bg-neutral-800", children: [
            /* @__PURE__ */ jsx("h4", { className: "mb-1.5 text-xs font-medium tracking-wide text-neutral-500 uppercase dark:text-neutral-400", children: "Parameters" }),
            /* @__PURE__ */ jsx("div", { className: "space-y-0.5", children: toolCall.parameters.map((param) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: "flex items-start gap-2 text-xs",
                children: [
                  /* @__PURE__ */ jsxs("span", { className: "font-mono text-neutral-500 dark:text-neutral-500", children: [
                    param.name,
                    ":"
                  ] }),
                  /* @__PURE__ */ jsx("span", { className: "font-mono text-neutral-700 dark:text-neutral-300", children: typeof param.value === "string" ? param.value : JSON.stringify(param.value) })
                ]
              },
              param.name
            )) })
          ] })
        ] })
      ] })
    }
  );
}
var avatarVariants2 = cva(
  "flex shrink-0 items-center justify-center rounded-full",
  {
    variants: {
      role: {
        user: "bg-primary-100 text-primary-700 dark:bg-primary-900/50 dark:text-primary-300",
        assistant: "bg-primary-500 text-white dark:bg-primary-600",
        system: "bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400",
        tool: "bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300"
      },
      size: {
        sm: "h-6 w-6 text-xs",
        md: "h-8 w-8 text-sm",
        lg: "h-10 w-10 text-base"
      }
    },
    defaultVariants: {
      role: "user",
      size: "md"
    }
  }
);
function MessageAvatar({
  role,
  size,
  userName,
  className
}) {
  const getInitials3 = (name) => {
    if (!name) return "?";
    return name.split(" ").map((n) => n[0]).join("").substring(0, 2).toUpperCase();
  };
  return /* @__PURE__ */ jsx("div", { className: cn(avatarVariants2({ role, size }), className), children: role === "assistant" ? /* @__PURE__ */ jsx(SparklesIcon, { size: "md" }) : role === "user" ? /* @__PURE__ */ jsx("span", { className: "font-medium", children: getInitials3(userName) }) : role === "system" ? /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"
        }
      )
    }
  ) : /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"
        }
      )
    }
  ) });
}
function AITypingIndicator({ className }) {
  const dotStyle = {
    width: "6px",
    height: "6px",
    minWidth: "6px",
    minHeight: "6px",
    flexShrink: 0
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn("inline-flex items-center justify-center gap-2", className),
      children: [
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "rounded-full bg-neutral-500 dark:bg-neutral-400",
            style: {
              ...dotStyle,
              animation: "typing-dot 1.4s infinite ease-in-out both",
              animationDelay: "-0.32s"
            }
          }
        ),
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "rounded-full bg-neutral-500 dark:bg-neutral-400",
            style: {
              ...dotStyle,
              animation: "typing-dot 1.4s infinite ease-in-out both",
              animationDelay: "-0.16s"
            }
          }
        ),
        /* @__PURE__ */ jsx(
          "span",
          {
            className: "rounded-full bg-neutral-500 dark:bg-neutral-400",
            style: {
              ...dotStyle,
              animation: "typing-dot 1.4s infinite ease-in-out both"
            }
          }
        ),
        /* @__PURE__ */ jsx("style", { children: `
        @keyframes typing-dot {
          0%, 80%, 100% { opacity: 0.4; }
          40% { opacity: 1; }
        }
      ` })
      ]
    }
  );
}
function ContentBlock({ content, onLinkClick }) {
  const [isCollapsed, setIsCollapsed] = React46.useState(
    content.collapsed ?? false
  );
  if (content.type === "text" && content.text) {
    return /* @__PURE__ */ jsx("div", { className: "prose prose-sm dark:prose-invert max-w-none", children: /* @__PURE__ */ jsx("p", { className: "whitespace-pre-wrap", children: content.text }) });
  }
  if (content.type === "tool_use" && content.toolCall) {
    return /* @__PURE__ */ jsx(
      MCPToolCallDisplay,
      {
        toolCall: content.toolCall,
        onLinkClick,
        defaultCollapsed: content.collapsed
      }
    );
  }
  if (content.type === "thinking" && content.text) {
    return /* @__PURE__ */ jsxs("div", { className: "rounded-lg border border-neutral-200 bg-neutral-50 dark:border-neutral-700 dark:bg-neutral-800/50", children: [
      /* @__PURE__ */ jsxs(
        "button",
        {
          onClick: () => setIsCollapsed(!isCollapsed),
          className: "flex w-full items-center justify-between px-3 py-2 text-left",
          children: [
            /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400", children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-4 w-4",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  strokeWidth: "1.5",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"
                    }
                  )
                }
              ),
              "Thinking..."
            ] }),
            /* @__PURE__ */ jsx(
              ChevronIcon,
              {
                direction: isCollapsed ? "right" : "down",
                className: "text-neutral-400"
              }
            )
          ]
        }
      ),
      !isCollapsed && /* @__PURE__ */ jsx("div", { className: "border-t border-neutral-200 px-3 py-2 dark:border-neutral-700", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-neutral-600 italic dark:text-neutral-400", children: content.text }) })
    ] });
  }
  if (content.type === "code" && content.text) {
    return /* @__PURE__ */ jsx("pre", { className: "rounded-lg bg-neutral-900 p-3 text-sm dark:bg-neutral-950", children: /* @__PURE__ */ jsx(
      "code",
      {
        className: content.language ? `language-${content.language}` : "",
        children: content.text
      }
    ) });
  }
  return null;
}
var messageVariants = cva("flex gap-3", {
  variants: {
    role: {
      user: "flex-row-reverse",
      assistant: "flex-row",
      system: "flex-row justify-center",
      tool: "flex-row"
    }
  },
  defaultVariants: {
    role: "assistant"
  }
});
var bubbleVariants = cva("rounded-2xl px-4 py-2.5 w-fit max-w-[85%]", {
  variants: {
    role: {
      user: "bg-primary-600 text-white dark:bg-primary-500",
      assistant: "bg-neutral-100 text-neutral-900 dark:bg-neutral-800 dark:text-white",
      system: "bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400 text-center text-sm max-w-[95%]",
      tool: "bg-transparent p-0 max-w-full w-full"
    }
  },
  defaultVariants: {
    role: "assistant"
  }
});
function AIMessageDisplay({
  message,
  userName,
  showAvatar = true,
  showTimestamp = false,
  onLinkClick,
  className
}) {
  const isStreaming = message.status === "streaming";
  const hasContent = message.content.length > 0;
  const formatTime4 = (timestamp) => {
    const date = new Date(timestamp);
    return date.toLocaleTimeString(void 0, {
      hour: "numeric",
      minute: "2-digit"
    });
  };
  if (message.role === "tool") {
    return /* @__PURE__ */ jsxs("div", { className: cn(messageVariants({ role: message.role }), className), children: [
      showAvatar && /* @__PURE__ */ jsx(MessageAvatar, { role: message.role }),
      /* @__PURE__ */ jsx("div", { className: "flex-1 space-y-2", children: message.content.map((content, index) => /* @__PURE__ */ jsx(
        ContentBlock,
        {
          content,
          onLinkClick
        },
        index
      )) })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn(messageVariants({ role: message.role }), className), children: [
    showAvatar && message.role !== "system" && /* @__PURE__ */ jsx(MessageAvatar, { role: message.role, userName }),
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: cn(
          "flex flex-col gap-1",
          message.role === "user" && "items-end"
        ),
        children: [
          /* @__PURE__ */ jsx("div", { className: bubbleVariants({ role: message.role }), children: hasContent ? /* @__PURE__ */ jsx("div", { className: "space-y-3", children: message.content.map((content, index) => /* @__PURE__ */ jsx(
            ContentBlock,
            {
              content,
              onLinkClick
            },
            index
          )) }) : isStreaming ? /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center", children: /* @__PURE__ */ jsx(AITypingIndicator, {}) }) : null }),
          showTimestamp && /* @__PURE__ */ jsx("span", { className: "px-2 text-xs text-neutral-500", children: formatTime4(message.timestamp) }),
          message.status === "error" && /* @__PURE__ */ jsx("span", { className: "px-2 text-xs text-red-500", children: "Failed to send" })
        ]
      }
    )
  ] });
}
function getFileType(mimeType) {
  if (mimeType.startsWith("image/")) return "image";
  if (mimeType.startsWith("video/")) return "video";
  if (mimeType.startsWith("audio/")) return "audio";
  if (mimeType.includes("pdf") || mimeType.includes("document") || mimeType.includes("text")) {
    return "document";
  }
  return "file";
}
function formatFileSize(bytes) {
  if (bytes < 1024) return `${bytes} B`;
  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;
  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;
}
function validateFile(file, acceptedTypes, maxSize) {
  if (acceptedTypes && acceptedTypes.length > 0) {
    const isAccepted = acceptedTypes.some((type) => {
      if (type.startsWith(".")) {
        return file.name.toLowerCase().endsWith(type.toLowerCase());
      }
      if (type.endsWith("/*")) {
        return file.type.startsWith(type.replace("/*", "/"));
      }
      return file.type === type;
    });
    if (!isAccepted) {
      return { valid: false, error: "File type not supported" };
    }
  }
  if (maxSize && file.size > maxSize) {
    return {
      valid: false,
      error: `File too large (max ${formatFileSize(maxSize)})`
    };
  }
  return { valid: true };
}
function generateAttachmentId() {
  return `attachment-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
}
function AttachmentPreviewItem({
  attachment,
  onRemove,
  onRetry,
  className
}) {
  const { file, previewUrl, type, state, progress } = attachment;
  const isImage = type === "image";
  const isVideo = type === "video";
  const isUploading = state === "uploading";
  const isFailed = state === "failed";
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "group relative overflow-hidden rounded-lg",
        "bg-neutral-100 dark:bg-neutral-800",
        "border border-neutral-200 dark:border-neutral-700",
        isFailed && "border-red-500",
        className
      ),
      children: [
        (isImage || isVideo) && previewUrl ? /* @__PURE__ */ jsxs("div", { className: "relative h-20 w-20", children: [
          /* @__PURE__ */ jsx(
            "img",
            {
              src: previewUrl,
              alt: file.name,
              className: cn(
                "h-full w-full object-cover",
                (isUploading || isFailed) && "opacity-50"
              )
            }
          ),
          isVideo && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center", children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-6 w-6 text-white drop-shadow",
              fill: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx("path", { d: "M8 5v14l11-7z" })
            }
          ) })
        ] }) : (
          /* File preview */
          /* @__PURE__ */ jsxs("div", { className: "flex h-20 w-20 flex-col items-center justify-center p-2", children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-8 w-8 text-neutral-400",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                  }
                )
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "mt-1 max-w-full truncate px-1 text-xs text-neutral-500", children: file.name.split(".").pop()?.toUpperCase() })
          ] })
        ),
        isUploading && progress !== void 0 && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: "text-center text-white", children: [
          /* @__PURE__ */ jsxs(
            "svg",
            {
              className: "mx-auto h-6 w-6 animate-spin",
              fill: "none",
              viewBox: "0 0 24 24",
              children: [
                /* @__PURE__ */ jsx(
                  "circle",
                  {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
                  }
                )
              ]
            }
          ),
          /* @__PURE__ */ jsxs("span", { className: "mt-1 text-xs", children: [
            progress,
            "%"
          ] })
        ] }) }),
        isFailed && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "mx-auto h-6 w-6 text-red-400",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                }
              )
            }
          ),
          onRetry && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: onRetry,
              className: "mt-1 text-xs text-white underline hover:no-underline",
              children: "Retry"
            }
          )
        ] }) }),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onRemove,
            className: cn(
              "absolute -top-1 -right-1 z-10",
              "rounded-full p-1",
              "bg-neutral-900 text-white",
              "opacity-0 group-hover:opacity-100",
              "focus:ring-primary-500 focus:opacity-100 focus:ring-2 focus:outline-none",
              "transition-opacity"
            ),
            "aria-label": `Remove ${file.name}`,
            children: /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-3 w-3",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M6 18L18 6M6 6l12 12"
                  }
                )
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "absolute right-0 bottom-0 left-0",
              "bg-black/70 px-1 py-0.5",
              "opacity-0 group-hover:opacity-100",
              "transition-opacity"
            ),
            children: /* @__PURE__ */ jsx("p", { className: "truncate text-xs text-white", children: file.name })
          }
        )
      ]
    }
  );
}
AttachmentPreviewItem.displayName = "AttachmentPreviewItem";
var AttachmentPicker = React46.forwardRef(
  ({
    onFilesSelected,
    acceptedTypes = ["image/*", "video/*", ".pdf", ".doc", ".docx"],
    maxFileSize = 25 * 1024 * 1024,
    // 25MB
    maxFiles = 10,
    multiple = true,
    disabled = false,
    onError,
    className,
    children
  }, ref) => {
    const inputRef = React46.useRef(null);
    React46.useImperativeHandle(ref, () => inputRef.current);
    const handleClick = () => {
      inputRef.current?.click();
    };
    const handleChange = (event) => {
      const files = Array.from(event.target.files || []);
      if (files.length === 0) return;
      const validFiles = [];
      for (const file of files.slice(0, maxFiles)) {
        const validation = validateFile(file, acceptedTypes, maxFileSize);
        if (validation.valid) {
          validFiles.push(file);
        } else if (onError) {
          onError(`${file.name}: ${validation.error}`);
        }
      }
      if (files.length > maxFiles && onError) {
        onError(`Maximum ${maxFiles} files allowed`);
      }
      if (validFiles.length > 0) {
        onFilesSelected(validFiles);
      }
      event.target.value = "";
    };
    return /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx(
        "input",
        {
          ref: inputRef,
          type: "file",
          accept: acceptedTypes.join(","),
          multiple,
          onChange: handleChange,
          disabled,
          className: "sr-only",
          "aria-label": "Select files to attach"
        }
      ),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: handleClick,
          disabled,
          className: cn(
            "inline-flex items-center justify-center",
            "rounded-full p-2",
            "text-neutral-500 hover:text-neutral-700",
            "dark:text-neutral-400 dark:hover:text-neutral-200",
            "hover:bg-neutral-100 dark:hover:bg-neutral-800",
            "focus:ring-primary-500 focus:ring-2 focus:outline-none",
            "disabled:cursor-not-allowed disabled:opacity-50",
            "transition-colors",
            className
          ),
          "aria-label": "Attach files",
          children: children || /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-5 w-5",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"
                }
              )
            }
          )
        }
      )
    ] });
  }
);
AttachmentPicker.displayName = "AttachmentPicker";
function DragDropZone({
  onFilesDropped,
  acceptedTypes,
  maxFileSize,
  maxFiles = 10,
  disabled = false,
  onError,
  children,
  className
}) {
  const [isDragging, setIsDragging] = React46.useState(false);
  const dragCounterRef = React46.useRef(0);
  const handleDragEnter = (event) => {
    event.preventDefault();
    event.stopPropagation();
    if (disabled) return;
    dragCounterRef.current++;
    if (event.dataTransfer.items && event.dataTransfer.items.length > 0) {
      setIsDragging(true);
    }
  };
  const handleDragLeave = (event) => {
    event.preventDefault();
    event.stopPropagation();
    if (disabled) return;
    dragCounterRef.current--;
    if (dragCounterRef.current === 0) {
      setIsDragging(false);
    }
  };
  const handleDragOver = (event) => {
    event.preventDefault();
    event.stopPropagation();
  };
  const handleDrop = (event) => {
    event.preventDefault();
    event.stopPropagation();
    if (disabled) return;
    setIsDragging(false);
    dragCounterRef.current = 0;
    const files = Array.from(event.dataTransfer.files);
    if (files.length === 0) return;
    const validFiles = [];
    for (const file of files.slice(0, maxFiles)) {
      const validation = validateFile(file, acceptedTypes, maxFileSize);
      if (validation.valid) {
        validFiles.push(file);
      } else if (onError) {
        onError(`${file.name}: ${validation.error}`);
      }
    }
    if (files.length > maxFiles && onError) {
      onError(`Maximum ${maxFiles} files allowed`);
    }
    if (validFiles.length > 0) {
      onFilesDropped(validFiles);
    }
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      onDragEnter: handleDragEnter,
      onDragLeave: handleDragLeave,
      onDragOver: handleDragOver,
      onDrop: handleDrop,
      className: cn("relative", className),
      children: [
        children,
        isDragging && /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "absolute inset-0 z-50",
              "flex items-center justify-center",
              "bg-primary-50/90 dark:bg-primary-900/90",
              "border-primary-500 border-2 border-dashed",
              "rounded-lg"
            ),
            children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "text-primary-500 mx-auto h-12 w-12",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    }
                  )
                }
              ),
              /* @__PURE__ */ jsx("p", { className: "text-primary-700 dark:text-primary-300 mt-2 text-sm font-medium", children: "Drop files here" })
            ] })
          }
        )
      ]
    }
  );
}
DragDropZone.displayName = "DragDropZone";
function CameraButton({
  onCapture,
  useFrontCamera = false,
  disabled = false,
  className
}) {
  const inputRef = React46.useRef(null);
  const handleClick = () => {
    inputRef.current?.click();
  };
  const handleChange = (event) => {
    const file = event.target.files?.[0];
    if (file) {
      onCapture(file);
    }
    event.target.value = "";
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(
      "input",
      {
        ref: inputRef,
        type: "file",
        accept: "image/*",
        capture: useFrontCamera ? "user" : "environment",
        onChange: handleChange,
        disabled,
        className: "sr-only",
        "aria-label": "Take a photo"
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: handleClick,
        disabled,
        className: cn(
          "inline-flex items-center justify-center",
          "rounded-full p-2",
          "text-neutral-500 hover:text-neutral-700",
          "dark:text-neutral-400 dark:hover:text-neutral-200",
          "hover:bg-neutral-100 dark:hover:bg-neutral-800",
          "focus:ring-primary-500 focus:ring-2 focus:outline-none",
          "disabled:cursor-not-allowed disabled:opacity-50",
          "transition-colors",
          className
        ),
        "aria-label": "Take a photo",
        children: /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "h-5 w-5",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: [
              /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                }
              )
            ]
          }
        )
      }
    )
  ] });
}
CameraButton.displayName = "CameraButton";
function CharacterCounter({
  current,
  max,
  showWarningAt = 0.9,
  className
}) {
  const percentage = current / max;
  const isWarning = percentage >= showWarningAt && percentage < 1;
  const isOver = current > max;
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "text-xs tabular-nums",
        isOver ? "font-medium text-red-500" : isWarning ? "text-amber-500" : "text-neutral-400",
        className
      ),
      "aria-live": "polite",
      "aria-label": `${current} of ${max} characters`,
      children: [
        current,
        "/",
        max
      ]
    }
  );
}
CharacterCounter.displayName = "CharacterCounter";
var sendButtonVariants = cva(
  [
    "inline-flex items-center justify-center",
    "rounded-full p-3 self-start",
    "transition-all duration-200",
    "focus:outline-none focus:ring-2 focus:ring-primary-500",
    "disabled:opacity-50 disabled:cursor-not-allowed"
  ],
  {
    variants: {
      variant: {
        primary: [
          "bg-primary-800 text-white",
          "hover:bg-primary-700",
          "active:scale-95"
        ],
        subtle: [
          "bg-transparent text-primary-600",
          "hover:bg-primary-50 dark:hover:bg-primary-900/20"
        ]
      },
      canSend: {
        true: "",
        false: "opacity-50 cursor-not-allowed"
      }
    },
    defaultVariants: {
      variant: "primary",
      canSend: false
    }
  }
);
var SendButton = React46.forwardRef(
  ({ className, variant, canSend, isLoading, disabled, ...props }, ref) => {
    return /* @__PURE__ */ jsx(
      "button",
      {
        ref,
        type: "submit",
        disabled: disabled || !canSend || isLoading,
        className: cn(sendButtonVariants({ variant, canSend }), className),
        "aria-label": isLoading ? "Sending message" : "Send message",
        ...props,
        children: isLoading ? /* @__PURE__ */ jsxs("svg", { className: "h-5 w-5 animate-spin", fill: "none", viewBox: "0 0 24 24", children: [
          /* @__PURE__ */ jsx(
            "circle",
            {
              className: "opacity-25",
              cx: "12",
              cy: "12",
              r: "10",
              stroke: "currentColor",
              strokeWidth: "4"
            }
          ),
          /* @__PURE__ */ jsx(
            "path",
            {
              className: "opacity-75",
              fill: "currentColor",
              d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
            }
          )
        ] }) : /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-5 w-5",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
              }
            )
          }
        )
      }
    );
  }
);
SendButton.displayName = "SendButton";
var MessageComposer = React46.forwardRef(
  ({
    onSend,
    onTypingStart,
    onTypingStop,
    placeholder = "Type a message...",
    maxLength = 1600,
    showCharacterCount = false,
    disabled = false,
    isSending = false,
    showAttachmentPicker = true,
    showCameraButton = false,
    acceptedFileTypes = ["image/*", "video/*", ".pdf", ".doc", ".docx"],
    maxFileSize = 25 * 1024 * 1024,
    maxAttachments = 10,
    onError,
    autoFocus = false,
    replyTo = null,
    onCancelReply,
    variant = "default",
    className
  }, ref) => {
    const textareaRef = React46.useRef(null);
    const [content, setContent] = React46.useState("");
    const [attachments, setAttachments] = React46.useState(
      []
    );
    const [isTyping, setIsTyping] = React46.useState(false);
    const typingTimeoutRef = React46.useRef(null);
    React46.useImperativeHandle(ref, () => textareaRef.current);
    React46.useEffect(() => {
      const textarea = textareaRef.current;
      if (textarea) {
        textarea.style.height = "auto";
        textarea.style.height = `${Math.min(textarea.scrollHeight, 150)}px`;
      }
    }, [content]);
    React46.useEffect(() => {
      if (content.length > 0 && !isTyping) {
        setIsTyping(true);
        onTypingStart?.();
      }
      if (typingTimeoutRef.current) {
        clearTimeout(typingTimeoutRef.current);
      }
      typingTimeoutRef.current = setTimeout(() => {
        if (isTyping) {
          setIsTyping(false);
          onTypingStop?.();
        }
      }, 2e3);
      return () => {
        if (typingTimeoutRef.current) {
          clearTimeout(typingTimeoutRef.current);
        }
      };
    }, [content, isTyping, onTypingStart, onTypingStop]);
    React46.useEffect(() => {
      if (autoFocus) {
        textareaRef.current?.focus();
      }
    }, [autoFocus]);
    React46.useEffect(() => {
      if (replyTo) {
        textareaRef.current?.focus();
      }
    }, [replyTo]);
    const canSend = (content.trim().length > 0 || attachments.length > 0) && content.length <= maxLength && !disabled && !isSending;
    const handleSubmit = async (event) => {
      event.preventDefault();
      if (!canSend) return;
      const message = {
        content: content.trim(),
        attachments: attachments.map((a) => a.file),
        replyToId: replyTo?.id
      };
      setContent("");
      setAttachments([]);
      setIsTyping(false);
      onTypingStop?.();
      try {
        await onSend(message);
      } catch {
        setContent(message.content);
        onError?.("Failed to send message");
      }
    };
    const handleKeyDown = (event) => {
      if (event.key === "Enter" && !event.shiftKey) {
        event.preventDefault();
        if (canSend) {
          handleSubmit(event);
        }
      }
    };
    const handleFilesSelected = (files) => {
      const remainingSlots = maxAttachments - attachments.length;
      const filesToAdd = files.slice(0, remainingSlots);
      if (files.length > remainingSlots) {
        onError?.(`Maximum ${maxAttachments} attachments allowed`);
      }
      const newAttachments = filesToAdd.map((file) => {
        const type = getFileType(file.type);
        let previewUrl;
        if (type === "image" || type === "video") {
          previewUrl = URL.createObjectURL(file);
        }
        return {
          id: generateAttachmentId(),
          file,
          previewUrl,
          type,
          state: "pending"
        };
      });
      setAttachments((prev) => [...prev, ...newAttachments]);
    };
    const handleRemoveAttachment = (attachmentId) => {
      setAttachments((prev) => {
        const attachment = prev.find((a) => a.id === attachmentId);
        if (attachment?.previewUrl) {
          URL.revokeObjectURL(attachment.previewUrl);
        }
        return prev.filter((a) => a.id !== attachmentId);
      });
    };
    React46.useEffect(() => {
      const currentAttachments = attachments;
      return () => {
        currentAttachments.forEach((a) => {
          if (a.previewUrl) {
            URL.revokeObjectURL(a.previewUrl);
          }
        });
      };
    }, [attachments]);
    return /* @__PURE__ */ jsx(
      DragDropZone,
      {
        onFilesDropped: handleFilesSelected,
        acceptedTypes: acceptedFileTypes,
        maxFileSize,
        maxFiles: maxAttachments - attachments.length,
        disabled: disabled || attachments.length >= maxAttachments,
        onError,
        className: cn("w-full", className),
        children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "w-full", children: [
          replyTo && /* @__PURE__ */ jsxs(
            "div",
            {
              className: cn(
                "flex items-center gap-2 px-4 py-2",
                "bg-neutral-50 dark:bg-neutral-800/50",
                "border-primary-500 border-l-4"
              ),
              children: [
                /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                  /* @__PURE__ */ jsxs("span", { className: "text-primary-600 dark:text-primary-400 text-xs font-medium", children: [
                    "Replying to ",
                    replyTo.senderName
                  ] }),
                  /* @__PURE__ */ jsx("p", { className: "truncate text-sm text-neutral-600 dark:text-neutral-300", children: replyTo.content })
                ] }),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: onCancelReply,
                    className: cn(
                      "shrink-0 rounded p-1",
                      "text-neutral-400 hover:text-neutral-600",
                      "dark:text-neutral-500 dark:hover:text-neutral-300",
                      "focus:ring-primary-500 focus:ring-2 focus:outline-none"
                    ),
                    "aria-label": "Cancel reply",
                    children: /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "h-4 w-4",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        stroke: "currentColor",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M6 18L18 6M6 6l12 12"
                          }
                        )
                      }
                    )
                  }
                )
              ]
            }
          ),
          attachments.length > 0 && /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "flex flex-wrap gap-2 p-3",
                "border-t border-neutral-200 dark:border-neutral-700"
              ),
              children: attachments.map((attachment) => /* @__PURE__ */ jsx(
                AttachmentPreviewItem,
                {
                  attachment,
                  onRemove: () => handleRemoveAttachment(attachment.id)
                },
                attachment.id
              ))
            }
          ),
          /* @__PURE__ */ jsxs(
            "div",
            {
              className: cn(
                "flex items-center gap-2 p-3",
                "bg-white dark:bg-neutral-900",
                variant === "default" && "border-t border-neutral-200 dark:border-neutral-700"
              ),
              children: [
                showAttachmentPicker && /* @__PURE__ */ jsx(
                  AttachmentPicker,
                  {
                    onFilesSelected: handleFilesSelected,
                    acceptedTypes: acceptedFileTypes,
                    maxFileSize,
                    maxFiles: maxAttachments - attachments.length,
                    disabled: disabled || attachments.length >= maxAttachments,
                    onError
                  }
                ),
                showCameraButton && /* @__PURE__ */ jsx(
                  CameraButton,
                  {
                    onCapture: (file) => handleFilesSelected([file]),
                    disabled: disabled || attachments.length >= maxAttachments
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "relative flex-1", children: [
                  /* @__PURE__ */ jsx(
                    "textarea",
                    {
                      ref: textareaRef,
                      value: content,
                      onChange: (e) => setContent(e.target.value),
                      onKeyDown: handleKeyDown,
                      placeholder,
                      disabled: disabled || isSending,
                      rows: 1,
                      className: cn(
                        "w-full resize-none rounded-2xl px-4 py-2.5",
                        "bg-neutral-100 dark:bg-neutral-800",
                        "text-neutral-900 dark:text-neutral-100",
                        "placeholder:text-neutral-400 dark:placeholder:text-neutral-500",
                        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
                        "disabled:cursor-not-allowed disabled:opacity-50",
                        "transition-colors",
                        "max-h-[150px]"
                      ),
                      "aria-label": "Message",
                      "aria-describedby": showCharacterCount ? "char-count" : void 0
                    }
                  ),
                  showCharacterCount && /* @__PURE__ */ jsx("div", { id: "char-count", className: "absolute right-3 bottom-1.5", children: /* @__PURE__ */ jsx(CharacterCounter, { current: content.length, max: maxLength }) })
                ] }),
                /* @__PURE__ */ jsx(
                  SendButton,
                  {
                    canSend,
                    isLoading: isSending,
                    disabled
                  }
                )
              ]
            }
          )
        ] })
      }
    );
  }
);
MessageComposer.displayName = "MessageComposer";
var statusIconVariants2 = cva(
  "inline-flex items-center gap-0.5 text-current",
  {
    variants: {
      status: {
        sending: "text-neutral-400",
        sent: "text-neutral-500",
        delivered: "text-neutral-600 dark:text-neutral-400",
        read: "text-primary-600 dark:text-primary-400",
        failed: "text-red-500"
      }
    },
    defaultVariants: {
      status: "sent"
    }
  }
);
function MessageStatusIcon({ status, className }) {
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(statusIconVariants2({ status }), className),
      role: "img",
      "aria-label": `Message ${status}`,
      children: [
        status === "sending" && /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "h-3.5 w-3.5 animate-spin",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
                }
              )
            ]
          }
        ),
        status === "sent" && /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-3.5 w-3.5",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: "2",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M5 13l4 4L19 7"
              }
            )
          }
        ),
        (status === "delivered" || status === "read") && /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "h-4 w-4",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: "2",
            children: [
              /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  d: "M5 13l4 4L19 7"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  d: "M12 13l4 4L26 7",
                  transform: "translate(-5, 0)"
                }
              )
            ]
          }
        ),
        status === "failed" && /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-3.5 w-3.5",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: "2",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
              }
            )
          }
        )
      ]
    }
  );
}
function ReadReceiptIndicator({
  receipts,
  maxAvatars = 3,
  size = "xs",
  className
}) {
  if (receipts.length === 0) return null;
  const visibleReceipts = receipts.slice(0, maxAvatars);
  const remainingCount = receipts.length - maxAvatars;
  const sizeClasses2 = {
    xs: "h-4 w-4 text-[8px]",
    sm: "h-5 w-5 text-[10px]"
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn("flex items-center -space-x-1", className),
      "aria-label": `Read by ${receipts.map((r) => r.participant.name).join(", ")}`,
      children: [
        visibleReceipts.map((receipt) => /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "rounded-full ring-2 ring-white dark:ring-neutral-900",
              "bg-primary-800 font-medium text-white",
              "flex items-center justify-center",
              sizeClasses2[size]
            ),
            title: `Read by ${receipt.participant.name}`,
            children: receipt.participant.avatarUrl ? /* @__PURE__ */ jsx(
              "img",
              {
                src: receipt.participant.avatarUrl,
                alt: receipt.participant.name,
                className: "h-full w-full rounded-full object-cover"
              }
            ) : receipt.participant.name.charAt(0).toUpperCase()
          },
          receipt.participant.id
        )),
        remainingCount > 0 && /* @__PURE__ */ jsxs(
          "div",
          {
            className: cn(
              "rounded-full ring-2 ring-white dark:ring-neutral-900",
              "bg-neutral-500 font-medium text-white",
              "flex items-center justify-center",
              sizeClasses2[size]
            ),
            children: [
              "+",
              remainingCount
            ]
          }
        )
      ]
    }
  );
}
function AttachmentPreview({
  attachment,
  onClick,
  className
}) {
  const isImage = attachment.type === "image";
  const isVideo = attachment.type === "video";
  if (isImage || isVideo) {
    return /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick,
        className: cn(
          "relative block overflow-hidden rounded-lg",
          "focus:ring-primary-500 focus:ring-2 focus:outline-none",
          "transition-transform hover:scale-[1.02]",
          className
        ),
        "aria-label": `View ${attachment.alt || attachment.filename}`,
        children: [
          /* @__PURE__ */ jsx(
            "img",
            {
              src: attachment.thumbnailUrl || attachment.url,
              alt: attachment.alt || attachment.filename,
              className: "max-h-64 w-auto rounded-lg object-cover",
              loading: "lazy"
            }
          ),
          isVideo && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/30", children: /* @__PURE__ */ jsx("div", { className: "rounded-full bg-white/90 p-3", children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-6 w-6 text-neutral-900",
              fill: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx("path", { d: "M8 5v14l11-7z" })
            }
          ) }) }),
          attachment.state === "uploading" && attachment.progress !== void 0 && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: "text-center text-white", children: [
            /* @__PURE__ */ jsxs(
              "svg",
              {
                className: "mx-auto h-8 w-8 animate-spin",
                fill: "none",
                viewBox: "0 0 24 24",
                children: [
                  /* @__PURE__ */ jsx(
                    "circle",
                    {
                      className: "opacity-25",
                      cx: "12",
                      cy: "12",
                      r: "10",
                      stroke: "currentColor",
                      strokeWidth: "4"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "path",
                    {
                      className: "opacity-75",
                      fill: "currentColor",
                      d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs("span", { className: "mt-1 text-sm", children: [
              attachment.progress,
              "%"
            ] })
          ] }) }),
          attachment.state === "failed" && /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: "text-center text-white", children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: "mx-auto h-8 w-8 text-red-400",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                  }
                )
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "mt-1 text-sm", children: "Upload failed" })
          ] }) })
        ]
      }
    );
  }
  return /* @__PURE__ */ jsxs(
    "button",
    {
      type: "button",
      onClick,
      className: cn(
        "flex items-center gap-3 rounded-lg p-3",
        "bg-white/10 hover:bg-white/20",
        "transition-colors",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        className
      ),
      children: [
        /* @__PURE__ */ jsx("div", { className: "rounded-lg bg-white/20 p-2", children: /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-6 w-6",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1 text-left", children: [
          /* @__PURE__ */ jsx("p", { className: "truncate text-sm font-medium", children: attachment.filename }),
          /* @__PURE__ */ jsx("p", { className: "text-xs opacity-70", children: formatFileSize2(attachment.size) })
        ] })
      ]
    }
  );
}
function formatFileSize2(bytes) {
  if (bytes < 1024) return `${bytes} B`;
  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;
  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;
}
var bubbleVariants2 = cva(
  [
    "relative max-w-[85%] sm:max-w-[70%]",
    "rounded-2xl px-4 py-2",
    "transition-all duration-200"
  ],
  {
    variants: {
      variant: {
        outgoing: ["bg-primary-800 text-white", "rounded-br-md", "ml-auto"],
        incoming: [
          "bg-neutral-100 text-neutral-900",
          "dark:bg-neutral-800 dark:text-neutral-100",
          "rounded-bl-md",
          "mr-auto"
        ],
        system: [
          "mx-auto max-w-none",
          "bg-transparent text-neutral-500 dark:text-neutral-400",
          "text-center text-sm",
          "py-1 px-2"
        ]
      },
      status: {
        sending: "opacity-70",
        sent: "",
        delivered: "",
        read: "",
        failed: "ring-2 ring-red-500/50"
      }
    },
    defaultVariants: {
      variant: "incoming",
      status: "sent"
    }
  }
);
function defaultFormatTimestamp(timestamp) {
  const date = typeof timestamp === "string" ? new Date(timestamp) : timestamp;
  return date.toLocaleTimeString(void 0, {
    hour: "numeric",
    minute: "2-digit"
  });
}
var MessageBubble = React46.forwardRef(
  ({
    className,
    message,
    showAvatar = false,
    showSenderName = false,
    showTimestamp = true,
    showStatus = true,
    showReadReceipts = true,
    onRetry,
    onAttachmentClick,
    isOutgoing,
    formatTimestamp = defaultFormatTimestamp,
    ...props
  }, ref) => {
    const isSystem = message.type === "system";
    const variant = isSystem ? "system" : isOutgoing ? "outgoing" : "incoming";
    const hasAttachments = message.attachments && message.attachments.length > 0;
    const hasText = message.content && message.content.trim().length > 0;
    const isFailed = message.status === "failed";
    if (isSystem) {
      return /* @__PURE__ */ jsx(
        "div",
        {
          ref,
          className: cn(bubbleVariants2({ variant: "system" }), className),
          role: "status",
          "aria-live": "polite",
          ...props,
          children: message.content
        }
      );
    }
    return /* @__PURE__ */ jsxs(
      "div",
      {
        ref,
        className: cn(
          "group flex items-end gap-2",
          isOutgoing ? "flex-row-reverse" : "flex-row",
          className
        ),
        ...props,
        children: [
          showAvatar && !isOutgoing && /* @__PURE__ */ jsx("div", { className: "mb-1 shrink-0", children: /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "flex h-8 w-8 items-center justify-center rounded-full",
                "bg-primary-800 text-sm font-medium text-white"
              ),
              children: message.sender.avatarUrl ? /* @__PURE__ */ jsx(
                "img",
                {
                  src: message.sender.avatarUrl,
                  alt: message.sender.name,
                  className: "h-full w-full rounded-full object-cover"
                }
              ) : message.sender.name.charAt(0).toUpperCase()
            }
          ) }),
          /* @__PURE__ */ jsxs(
            "div",
            {
              className: cn(
                "flex flex-col",
                isOutgoing ? "items-end" : "items-start"
              ),
              children: [
                showSenderName && !isOutgoing && /* @__PURE__ */ jsx("span", { className: "mb-1 px-1 text-xs font-medium text-neutral-500 dark:text-neutral-400", children: message.sender.name }),
                message.replyTo && /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(
                      "mb-1 max-w-full rounded-lg px-3 py-1.5 text-xs",
                      isOutgoing ? "bg-primary-700/50 text-white/80" : "bg-neutral-200 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-300"
                    ),
                    children: [
                      /* @__PURE__ */ jsx("span", { className: "font-medium", children: message.replyTo.sender.name }),
                      /* @__PURE__ */ jsx("p", { className: "truncate", children: message.replyTo.content })
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(bubbleVariants2({ variant, status: message.status })),
                    role: "article",
                    "aria-label": `Message from ${message.sender.name}`,
                    children: [
                      hasAttachments && /* @__PURE__ */ jsx("div", { className: cn("space-y-2", hasText && "mb-2"), children: message.attachments.map((attachment) => /* @__PURE__ */ jsx(
                        AttachmentPreview,
                        {
                          attachment,
                          onClick: () => onAttachmentClick?.(attachment)
                        },
                        attachment.id
                      )) }),
                      hasText && /* @__PURE__ */ jsx("p", { className: "break-words whitespace-pre-wrap", children: message.isDeleted ? /* @__PURE__ */ jsx("span", { className: "italic opacity-60", children: "This message was deleted" }) : message.content }),
                      message.isEdited && !message.isDeleted && /* @__PURE__ */ jsx("span", { className: "ml-1 text-xs opacity-60", children: "(edited)" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(
                      "mt-1 flex items-center gap-2 px-1",
                      isOutgoing ? "flex-row-reverse" : "flex-row"
                    ),
                    children: [
                      showTimestamp && /* @__PURE__ */ jsx("span", { className: "text-xs text-neutral-400 dark:text-neutral-500", children: formatTimestamp(message.timestamp) }),
                      showStatus && isOutgoing && /* @__PURE__ */ jsx(MessageStatusIcon, { status: message.status }),
                      showReadReceipts && isOutgoing && message.readReceipts && message.readReceipts.length > 0 && /* @__PURE__ */ jsx(ReadReceiptIndicator, { receipts: message.readReceipts }),
                      isFailed && onRetry && /* @__PURE__ */ jsxs(
                        "button",
                        {
                          type: "button",
                          onClick: onRetry,
                          className: cn(
                            "flex items-center gap-1 rounded px-2 py-0.5",
                            "text-xs font-medium text-red-500",
                            "hover:bg-red-50 dark:hover:bg-red-900/20",
                            "focus:ring-2 focus:ring-red-500 focus:outline-none"
                          ),
                          "aria-label": "Retry sending message",
                          children: [
                            /* @__PURE__ */ jsx(
                              "svg",
                              {
                                className: "h-3 w-3",
                                fill: "none",
                                viewBox: "0 0 24 24",
                                stroke: "currentColor",
                                children: /* @__PURE__ */ jsx(
                                  "path",
                                  {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                                  }
                                )
                              }
                            ),
                            "Retry"
                          ]
                        }
                      )
                    ]
                  }
                ),
                message.reactions && message.reactions.length > 0 && /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: cn(
                      "-mt-1 flex flex-wrap gap-1",
                      isOutgoing ? "justify-end" : "justify-start"
                    ),
                    children: message.reactions.map((reaction) => /* @__PURE__ */ jsxs(
                      "span",
                      {
                        className: cn(
                          "inline-flex items-center gap-1 rounded-full px-2 py-0.5",
                          "bg-neutral-100 text-xs dark:bg-neutral-800",
                          "border border-neutral-200 dark:border-neutral-700"
                        ),
                        title: reaction.participants.map((p) => p.name).join(", "),
                        children: [
                          /* @__PURE__ */ jsx("span", { children: reaction.emoji }),
                          reaction.count > 1 && /* @__PURE__ */ jsx("span", { className: "text-neutral-500", children: reaction.count })
                        ]
                      },
                      reaction.emoji
                    ))
                  }
                )
              ]
            }
          ),
          showAvatar && isOutgoing && /* @__PURE__ */ jsx("div", { className: "w-8 shrink-0" })
        ]
      }
    );
  }
);
MessageBubble.displayName = "MessageBubble";
function groupMessagesByDate(messages) {
  const groups = /* @__PURE__ */ new Map();
  messages.forEach((message) => {
    const date = new Date(message.timestamp);
    const dateKey = date.toDateString();
    const existing = groups.get(dateKey) || [];
    groups.set(dateKey, [...existing, message]);
  });
  return Array.from(groups.entries()).map(([dateKey, msgs]) => ({
    date: dateKey,
    label: formatDateLabel(new Date(dateKey)),
    messages: msgs
  }));
}
function formatDateLabel(date) {
  const now = /* @__PURE__ */ new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const yesterday = new Date(today);
  yesterday.setDate(yesterday.getDate() - 1);
  const messageDate = new Date(
    date.getFullYear(),
    date.getMonth(),
    date.getDate()
  );
  if (messageDate.getTime() === today.getTime()) {
    return "Today";
  }
  if (messageDate.getTime() === yesterday.getTime()) {
    return "Yesterday";
  }
  if (date.getFullYear() === now.getFullYear()) {
    return date.toLocaleDateString(void 0, {
      weekday: "long",
      month: "long",
      day: "numeric"
    });
  }
  return date.toLocaleDateString(void 0, {
    weekday: "long",
    month: "long",
    day: "numeric",
    year: "numeric"
  });
}
function isSameSenderGroup(prev, current, thresholdMinutes = 5) {
  if (!prev) return false;
  if (prev.sender.id !== current.sender.id) return false;
  if (prev.type === "system" || current.type === "system") return false;
  const prevTime = new Date(prev.timestamp).getTime();
  const currentTime = new Date(current.timestamp).getTime();
  const diffMinutes = (currentTime - prevTime) / (1e3 * 60);
  return diffMinutes < thresholdMinutes;
}
function SkeletonMessage({
  isOutgoing = false,
  showAvatar = true,
  className
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex items-end gap-2",
        isOutgoing ? "flex-row-reverse" : "flex-row",
        className
      ),
      "aria-hidden": "true",
      children: [
        showAvatar && !isOutgoing && /* @__PURE__ */ jsx("div", { className: "h-8 w-8 animate-pulse rounded-full bg-neutral-200 dark:bg-neutral-700" }),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "animate-pulse rounded-2xl",
              isOutgoing ? "bg-primary-800/30 rounded-br-md" : "rounded-bl-md bg-neutral-200 dark:bg-neutral-700",
              "h-10 w-48"
            )
          }
        ),
        showAvatar && isOutgoing && /* @__PURE__ */ jsx("div", { className: "w-8" })
      ]
    }
  );
}
SkeletonMessage.displayName = "SkeletonMessage";
function TypingIndicator({ typingState, className }) {
  const { participants } = typingState;
  if (participants.length === 0) return null;
  const typingText = participants.length === 1 ? `${participants[0].name} is typing` : participants.length === 2 ? `${participants[0].name} and ${participants[1].name} are typing` : `${participants[0].name} and ${participants.length - 1} others are typing`;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn("flex items-center gap-2 px-4 py-2", className),
      role: "status",
      "aria-live": "polite",
      "aria-label": typingText,
      children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 rounded-2xl rounded-bl-md bg-neutral-200 px-4 py-3 dark:bg-neutral-700", children: [
          /* @__PURE__ */ jsx(
            "span",
            {
              className: "h-2 w-2 animate-bounce rounded-full bg-neutral-500",
              style: { animationDelay: "0ms" }
            }
          ),
          /* @__PURE__ */ jsx(
            "span",
            {
              className: "h-2 w-2 animate-bounce rounded-full bg-neutral-500",
              style: { animationDelay: "150ms" }
            }
          ),
          /* @__PURE__ */ jsx(
            "span",
            {
              className: "h-2 w-2 animate-bounce rounded-full bg-neutral-500",
              style: { animationDelay: "300ms" }
            }
          )
        ] }),
        /* @__PURE__ */ jsx("span", { className: "text-xs text-neutral-500 dark:text-neutral-400", children: typingText })
      ]
    }
  );
}
TypingIndicator.displayName = "TypingIndicator";
function DateSeparator({ label, className }) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn("flex items-center justify-center py-4", className),
      role: "separator",
      "aria-label": label,
      children: /* @__PURE__ */ jsx(
        "span",
        {
          className: cn(
            "rounded-full px-3 py-1 text-xs font-medium",
            "bg-neutral-100 text-neutral-500",
            "dark:bg-neutral-800 dark:text-neutral-400"
          ),
          children: label
        }
      )
    }
  );
}
DateSeparator.displayName = "DateSeparator";
function EmptyState({
  title = "No messages yet",
  description = "Start the conversation by sending a message below.",
  icon,
  action,
  className
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex flex-1 flex-col items-center justify-center p-8 text-center",
        className
      ),
      role: "status",
      "aria-label": title,
      children: [
        icon || /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-full bg-neutral-100 p-4 dark:bg-neutral-800", children: /* @__PURE__ */ jsx(
          "svg",
          {
            className: "h-12 w-12 text-neutral-400",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 1.5,
                d: "M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("h3", { className: "mb-2 text-lg font-semibold text-neutral-900 dark:text-neutral-100", children: title }),
        /* @__PURE__ */ jsx("p", { className: "mb-4 max-w-sm text-sm text-neutral-500 dark:text-neutral-400", children: description }),
        action
      ]
    }
  );
}
EmptyState.displayName = "EmptyState";
function LoadMoreButton({
  isLoading,
  onClick,
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn("flex justify-center py-4", className), children: /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick,
      disabled: isLoading,
      className: cn(
        "rounded-full px-4 py-2 text-sm font-medium",
        "bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-300",
        "hover:bg-neutral-200 dark:hover:bg-neutral-700",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        "disabled:cursor-not-allowed disabled:opacity-50",
        "transition-colors"
      ),
      "aria-label": isLoading ? "Loading more messages" : "Load more messages",
      children: isLoading ? /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "h-4 w-4 animate-spin",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
                }
              )
            ]
          }
        ),
        "Loading..."
      ] }) : "Load earlier messages"
    }
  ) });
}
LoadMoreButton.displayName = "LoadMoreButton";
var MessageList = React46.forwardRef(
  ({
    messages,
    currentUser,
    isLoading = false,
    hasMore = false,
    isLoadingMore = false,
    typingState,
    showAvatars = true,
    showSenderNames = false,
    groupByDate = true,
    onLoadMore,
    onRetryMessage,
    onAttachmentClick,
    emptyState,
    formatTimestamp,
    className,
    autoScroll = "onNewMessage"
  }, ref) => {
    const scrollContainerRef = React46.useRef(null);
    const bottomRef = React46.useRef(null);
    const [isUserScrolled, setIsUserScrolled] = React46.useState(false);
    const prevMessageCountRef = React46.useRef(messages.length);
    React46.useImperativeHandle(ref, () => scrollContainerRef.current);
    const handleScroll = React46.useCallback(() => {
      const container = scrollContainerRef.current;
      if (!container) return;
      const { scrollTop, scrollHeight, clientHeight } = container;
      const isAtBottom = scrollHeight - scrollTop - clientHeight < 100;
      setIsUserScrolled(!isAtBottom);
    }, []);
    React46.useEffect(() => {
      const container = scrollContainerRef.current;
      const bottom = bottomRef.current;
      if (!container || !bottom) return;
      const messageCountChanged = messages.length !== prevMessageCountRef.current;
      prevMessageCountRef.current = messages.length;
      if (autoScroll === "always") {
        bottom.scrollIntoView({ behavior: "smooth" });
      } else if (autoScroll === "onNewMessage" && messageCountChanged) {
        const lastMessage = messages[messages.length - 1];
        const isOutgoing = lastMessage?.sender.id === currentUser.id;
        if (isOutgoing || !isUserScrolled) {
          bottom.scrollIntoView({ behavior: "smooth" });
        }
      }
    }, [messages, currentUser.id, autoScroll, isUserScrolled]);
    React46.useEffect(() => {
      const bottom = bottomRef.current;
      if (bottom && !isLoading) {
        bottom.scrollIntoView();
      }
    }, [isLoading]);
    const messageGroups = groupByDate ? groupMessagesByDate(messages) : [{ date: "all", label: "", messages }];
    if (isLoading) {
      return /* @__PURE__ */ jsx(
        "div",
        {
          className: cn(
            "flex flex-1 flex-col gap-3 overflow-y-auto p-4",
            className
          ),
          "aria-busy": "true",
          "aria-label": "Loading messages",
          children: Array.from({ length: 8 }).map((_, i) => /* @__PURE__ */ jsx(
            SkeletonMessage,
            {
              isOutgoing: i % 3 === 0,
              showAvatar: showAvatars
            },
            i
          ))
        }
      );
    }
    if (messages.length === 0) {
      return emptyState || /* @__PURE__ */ jsx(EmptyState, {});
    }
    return /* @__PURE__ */ jsxs(
      "div",
      {
        ref: scrollContainerRef,
        className: cn(
          "flex flex-1 flex-col overflow-y-auto",
          "scroll-smooth",
          className
        ),
        onScroll: handleScroll,
        role: "log",
        "aria-label": "Message history",
        "aria-live": "polite",
        children: [
          hasMore && onLoadMore && /* @__PURE__ */ jsx(LoadMoreButton, { isLoading: isLoadingMore, onClick: onLoadMore }),
          /* @__PURE__ */ jsx("div", { className: "flex flex-col gap-1 p-4", children: messageGroups.map((group) => /* @__PURE__ */ jsxs(React46.Fragment, { children: [
            groupByDate && group.label && /* @__PURE__ */ jsx(DateSeparator, { label: group.label }),
            group.messages.map((message, index) => {
              const prevMessage = group.messages[index - 1];
              const isOutgoing = message.sender.id === currentUser.id;
              const isSameGroup = isSameSenderGroup(prevMessage, message);
              return /* @__PURE__ */ jsx(
                "div",
                {
                  className: cn(
                    "transition-opacity duration-200",
                    isSameGroup ? "mt-0.5" : "mt-3",
                    index === 0 && "mt-0"
                  ),
                  children: /* @__PURE__ */ jsx(
                    MessageBubble,
                    {
                      message,
                      isOutgoing,
                      showAvatar: showAvatars && !isSameGroup && !isOutgoing,
                      showSenderName: showSenderNames && !isSameGroup && !isOutgoing,
                      showTimestamp: !isSameGroup,
                      onRetry: message.status === "failed" && onRetryMessage ? () => onRetryMessage(message.id) : void 0,
                      onAttachmentClick: (attachment) => onAttachmentClick?.(attachment, message),
                      formatTimestamp
                    }
                  )
                },
                message.id
              );
            })
          ] }, group.date)) }),
          typingState && typingState.participants.length > 0 && /* @__PURE__ */ jsx(TypingIndicator, { typingState }),
          /* @__PURE__ */ jsx("div", { ref: bottomRef, className: "h-0", "aria-hidden": "true" }),
          isUserScrolled && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => {
                bottomRef.current?.scrollIntoView({ behavior: "smooth" });
              },
              className: cn(
                "fixed right-4 bottom-24 z-10",
                "rounded-full p-3 shadow-lg",
                "bg-white dark:bg-neutral-800",
                "border border-neutral-200 dark:border-neutral-700",
                "hover:bg-neutral-50 dark:hover:bg-neutral-700",
                "focus:ring-primary-500 focus:ring-2 focus:outline-none",
                "transition-all"
              ),
              "aria-label": "Scroll to bottom",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-5 w-5 text-neutral-600 dark:text-neutral-300",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M19 14l-7 7m0 0l-7-7m7 7V3"
                    }
                  )
                }
              )
            }
          )
        ]
      }
    );
  }
);
MessageList.displayName = "MessageList";
var ACTION_ICONS = {
  patient: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM3 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 019.374 21c-2.331 0-4.512-.645-6.374-1.766z"
        }
      )
    }
  ),
  search: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
        }
      )
    }
  ),
  appointment: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
        }
      )
    }
  ),
  document: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
        }
      )
    }
  ),
  help: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"
        }
      )
    }
  ),
  default: /* @__PURE__ */ jsx(
    "svg",
    {
      className: "h-4 w-4",
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: "1.5",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        }
      )
    }
  )
};
function SuggestedActions({
  actions,
  onSelect,
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn("flex flex-wrap gap-2", className), children: actions.map((action) => /* @__PURE__ */ jsxs(
    "button",
    {
      onClick: () => onSelect(action),
      className: cn(
        "flex items-center gap-2 rounded-full border border-neutral-200 px-3 py-1.5",
        "hover:border-primary-300 hover:bg-primary-50 hover:text-primary-700 text-sm text-neutral-700",
        "dark:border-neutral-700 dark:text-neutral-300",
        "dark:hover:border-primary-700 dark:hover:bg-primary-900/20 dark:hover:text-primary-300",
        "transition-colors"
      ),
      children: [
        ACTION_ICONS[action.icon || "default"] || ACTION_ICONS.default,
        /* @__PURE__ */ jsx("span", { children: action.label })
      ]
    },
    action.id
  )) });
}
function AIEmptyState({
  title = "How can I help you today?",
  description = "Ask me anything about patients, appointments, documents, or how to use the system.",
  suggestions,
  onSuggestionSelect,
  className,
  ...props
}) {
  const aiIcon = /* @__PURE__ */ jsx("div", { className: "bg-primary-500 dark:bg-primary-600 flex h-16 w-16 items-center justify-center rounded-full text-white", children: /* @__PURE__ */ jsx(SparklesIcon, { size: "lg", className: "h-8 w-8" }) });
  const suggestionsAction = suggestions && suggestions.length > 0 && onSuggestionSelect ? /* @__PURE__ */ jsxs("div", { className: "mt-6", children: [
    /* @__PURE__ */ jsx("p", { className: "mb-3 text-sm text-neutral-500 dark:text-neutral-400", children: "Try asking:" }),
    /* @__PURE__ */ jsx(SuggestedActions, { actions: suggestions, onSelect: onSuggestionSelect })
  ] }) : void 0;
  return /* @__PURE__ */ jsx(
    EmptyState,
    {
      title,
      description,
      icon: aiIcon,
      action: suggestionsAction,
      className,
      ...props
    }
  );
}
var chatVariants = cva("flex flex-col", {
  variants: {
    variant: {
      default: "bg-white dark:bg-neutral-900",
      embedded: "bg-transparent",
      floating: "bg-white dark:bg-neutral-900 rounded-2xl shadow-xl border border-neutral-200 dark:border-neutral-700"
    },
    size: {
      sm: "max-w-sm",
      md: "max-w-lg",
      lg: "max-w-2xl",
      xl: "max-w-4xl",
      full: "w-full"
    }
  },
  defaultVariants: {
    variant: "default",
    size: "full"
  }
});
function AIChat({
  session,
  messages: messagesProp,
  isGenerating: isGeneratingProp,
  userName = "You",
  title = "AI Assistant",
  suggestions,
  showHeader = true,
  showTimestamps = false,
  inputPlaceholder = "Ask anything...",
  variant,
  size,
  height,
  composerProps,
  className,
  onSendMessage,
  onToolCall: _onToolCall,
  onResourceClick,
  onSuggestedAction,
  onCancel,
  onClear,
  onClose
}) {
  const messagesEndRef = React46.useRef(null);
  const messages = React46.useMemo(
    () => session?.messages || messagesProp || [],
    [session?.messages, messagesProp]
  );
  const isGenerating = session?.isGenerating || isGeneratingProp || false;
  React46.useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  }, [messages]);
  const handleSend = async (message) => {
    if (message.content.trim() && onSendMessage) {
      onSendMessage(message.content.trim());
    }
  };
  const handleSuggestionSelect = (action) => {
    if (onSuggestedAction) {
      onSuggestedAction(action);
    } else if (onSendMessage) {
      onSendMessage(action.prompt);
    }
  };
  const handleLinkClick = (link) => {
    if (onResourceClick) {
      onResourceClick(link);
    }
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(chatVariants({ variant, size }), className),
      style: { height: height || void 0 },
      children: [
        showHeader && /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b border-neutral-200 px-4 py-3 dark:border-neutral-700", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-primary-500 dark:bg-primary-600 flex h-8 w-8 items-center justify-center rounded-full text-white", children: /* @__PURE__ */ jsx(SparklesIcon, { size: "sm" }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h2", { className: "font-semibold text-neutral-900 dark:text-white", children: title }),
              isGenerating && /* @__PURE__ */ jsx("p", { className: "text-xs text-neutral-500", children: "Generating..." })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
            isGenerating && onCancel && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: onCancel,
                className: cn(
                  "rounded-lg px-3 py-1.5 text-sm",
                  "bg-red-100 text-red-600 hover:bg-red-200",
                  "dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50",
                  "transition-colors"
                ),
                children: "Stop"
              }
            ),
            onClear && messages.length > 0 && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: onClear,
                className: "rounded-lg p-2 text-neutral-500 hover:bg-neutral-100 hover:text-neutral-700 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",
                title: "Clear chat",
                children: /* @__PURE__ */ jsx(RefreshIcon, {})
              }
            ),
            onClose && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: onClose,
                className: "rounded-lg p-2 text-neutral-500 hover:bg-neutral-100 hover:text-neutral-700 dark:hover:bg-neutral-800 dark:hover:text-neutral-300",
                title: "Close chat",
                "aria-label": "Close chat",
                children: /* @__PURE__ */ jsx(CloseIcon, {})
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "flex-1 overflow-y-auto px-4 py-4", children: messages.length === 0 ? /* @__PURE__ */ jsx(
          AIEmptyState,
          {
            suggestions,
            onSuggestionSelect: handleSuggestionSelect
          }
        ) : /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
          messages.map((message) => /* @__PURE__ */ jsx(
            AIMessageDisplay,
            {
              message,
              userName,
              showTimestamp: showTimestamps,
              onLinkClick: handleLinkClick
            },
            message.id
          )),
          /* @__PURE__ */ jsx("div", { ref: messagesEndRef })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "shrink-0 border-t border-neutral-200 dark:border-neutral-700", children: [
          suggestions && suggestions.length > 0 && messages.length > 0 && !isGenerating && /* @__PURE__ */ jsx("div", { className: "px-4 pt-3", children: /* @__PURE__ */ jsx(
            SuggestedActions,
            {
              actions: suggestions,
              onSelect: handleSuggestionSelect
            }
          ) }),
          /* @__PURE__ */ jsx(
            MessageComposer,
            {
              onSend: handleSend,
              placeholder: inputPlaceholder,
              disabled: isGenerating,
              isSending: isGenerating,
              showAttachmentPicker: false,
              showCameraButton: false,
              showCharacterCount: false,
              variant: "minimal",
              ...composerProps
            }
          )
        ] })
      ]
    }
  );
}
function AIChatTrigger({
  isOpen = false,
  onClick,
  pulse = false,
  badge,
  position = "bottom-right",
  className
}) {
  const positionClasses = {
    "bottom-right": "bottom-4 right-4",
    "bottom-left": "bottom-4 left-4",
    "top-right": "top-4 right-4",
    "top-left": "top-4 left-4"
  };
  return /* @__PURE__ */ jsxs(
    "button",
    {
      onClick,
      className: cn(
        "fixed z-50 flex h-14 w-14 items-center justify-center rounded-full shadow-lg",
        "bg-primary-500 text-white",
        "hover:bg-primary-600",
        "focus:ring-primary-500 focus:ring-2 focus:ring-offset-2 focus:outline-none",
        "dark:focus:ring-offset-neutral-900",
        "transition-all duration-200",
        isOpen && "scale-0 opacity-0",
        positionClasses[position],
        className
      ),
      "aria-label": "Open AI Assistant",
      children: [
        pulse && !isOpen && /* @__PURE__ */ jsx("span", { className: "bg-primary-400 absolute inline-flex h-full w-full animate-ping rounded-full opacity-75" }),
        badge && badge > 0 && /* @__PURE__ */ jsx("span", { className: "absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold", children: badge > 9 ? "9+" : badge }),
        /* @__PURE__ */ jsx(SparklesIcon, { size: "lg" })
      ]
    }
  );
}
function AIChatModal({
  open,
  onOpenChange,
  position = "bottom-right",
  width = 400,
  height = 600,
  modalClassName,
  ...chatProps
}) {
  const modalRef = useFocusTrap(open);
  useEscapeKey(() => {
    if (open) onOpenChange(false);
  });
  if (!open) return null;
  const positionClasses = {
    "bottom-right": "bottom-20 right-4",
    "bottom-left": "bottom-20 left-4",
    center: "top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    position === "center" && /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",
        onClick: () => onOpenChange(false),
        onKeyDown: (e) => e.key === "Escape" && onOpenChange(false),
        role: "button",
        tabIndex: 0,
        "aria-label": "Close dialog"
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        ref: modalRef,
        className: cn(
          "fixed z-50",
          "animate-in fade-in-0 zoom-in-95",
          positionClasses[position],
          modalClassName
        ),
        style: {
          width: typeof width === "number" ? `${width}px` : width,
          height: typeof height === "number" ? `${height}px` : height,
          maxHeight: "calc(100vh - 6rem)",
          maxWidth: "calc(100vw - 2rem)"
        },
        role: "dialog",
        "aria-modal": "true",
        "aria-label": "AI Assistant Chat",
        children: /* @__PURE__ */ jsx("div", { className: "relative h-full w-full overflow-hidden rounded-2xl border border-neutral-200 bg-white shadow-2xl dark:border-neutral-700 dark:bg-neutral-900", children: /* @__PURE__ */ jsx(
          AIChat,
          {
            ...chatProps,
            variant: "embedded",
            height: "100%",
            className: "h-full",
            onClose: () => onOpenChange(false)
          }
        ) })
      }
    )
  ] });
}
function FloatingAIChat({
  defaultOpen = false,
  open: controlledOpen,
  onOpenChange: controlledOnOpenChange,
  buttonPosition = "bottom-right",
  position = "bottom-right",
  pulse = false,
  ...chatProps
}) {
  const [internalOpen, setInternalOpen] = React46.useState(defaultOpen);
  const isControlled = controlledOpen !== void 0;
  const isOpen = isControlled ? controlledOpen : internalOpen;
  const handleOpenChange = (open) => {
    if (!isControlled) {
      setInternalOpen(open);
    }
    controlledOnOpenChange?.(open);
  };
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(
      AIChatTrigger,
      {
        isOpen,
        onClick: () => handleOpenChange(true),
        position: buttonPosition,
        pulse: pulse && !isOpen
      }
    ),
    /* @__PURE__ */ jsx(
      AIChatModal,
      {
        open: isOpen,
        onOpenChange: handleOpenChange,
        position,
        ...chatProps
      }
    )
  ] });
}
function AppHeader({
  children,
  className,
  sticky = true,
  bordered = true,
  height = "h-16",
  "data-testid": testId = "app-header"
}) {
  return /* @__PURE__ */ jsx(
    "header",
    {
      "data-testid": testId,
      className: cn(
        "flex items-center justify-between px-4 lg:px-6",
        "bg-white dark:bg-gray-900",
        height,
        sticky && "sticky top-0 z-30",
        bordered && "border-b border-gray-200 dark:border-gray-700",
        className
      ),
      children
    }
  );
}
function AppHeaderSection({
  children,
  align = "left",
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "flex items-center gap-3",
        align === "left" && "mr-auto",
        align === "center" && "mx-auto",
        align === "right" && "ml-auto",
        className
      ),
      children
    }
  );
}
function AppHeaderTitle({
  children,
  subtitle,
  className
}) {
  return /* @__PURE__ */ jsxs("div", { className: cn("min-w-0", className), children: [
    /* @__PURE__ */ jsx("h1", { className: "truncate text-lg font-semibold text-gray-900 dark:text-white", children }),
    subtitle && /* @__PURE__ */ jsx("p", { className: "truncate text-sm text-gray-500 dark:text-gray-400", children: subtitle })
  ] });
}
function AppHeaderActions({
  children,
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn("flex items-center gap-2", className), children });
}
function AppHeaderDivider({
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn("mx-2 h-6 w-px bg-gray-200 dark:bg-gray-700", className),
      "aria-hidden": "true"
    }
  );
}
function AppHeaderIconButton({
  icon,
  label,
  onClick,
  badge,
  isActive = false,
  className,
  "data-testid": testId
}) {
  return /* @__PURE__ */ jsxs(
    "button",
    {
      onClick,
      "data-testid": testId,
      className: cn(
        "relative rounded-lg p-2 transition-colors",
        "text-gray-500 dark:text-gray-400",
        "hover:bg-gray-100 dark:hover:bg-gray-800",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        isActive && "text-primary-600 dark:text-primary-400 bg-gray-100 dark:bg-gray-800",
        className
      ),
      "aria-label": label,
      title: label,
      children: [
        /* @__PURE__ */ jsx("span", { className: "h-5 w-5", children: icon }),
        typeof badge === "number" && badge > 0 && /* @__PURE__ */ jsx(
          "span",
          {
            className: cn(
              "absolute -top-1 -right-1 flex items-center justify-center",
              "h-[18px] min-w-[18px] px-1 text-[10px] font-bold",
              "rounded-full bg-red-500 text-white"
            ),
            children: badge > 99 ? "99+" : badge
          }
        )
      ]
    }
  );
}
var SearchIcon = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      }
    )
  }
);
var isMac = typeof window !== "undefined" && typeof window.navigator !== "undefined" && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);
function AppHeaderSearch({
  onClick,
  placeholder = "Search...",
  showOnMobile = false,
  className,
  "data-testid": testId = "app-header-search"
}) {
  return /* @__PURE__ */ jsxs(
    "button",
    {
      onClick,
      "data-testid": testId,
      className: cn(
        "flex items-center gap-3 rounded-lg border border-gray-300 dark:border-gray-600",
        "bg-white px-4 py-2 text-sm text-gray-500 dark:bg-gray-700 dark:text-gray-400",
        "hover:border-gray-400 dark:hover:border-gray-500",
        "transition-colors hover:bg-gray-50 dark:hover:bg-gray-600",
        !showOnMobile && "hidden sm:flex",
        "min-w-[200px] lg:min-w-[300px]",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(SearchIcon, {}),
        /* @__PURE__ */ jsx("span", { className: "flex-1 text-left whitespace-nowrap", children: placeholder }),
        /* @__PURE__ */ jsxs(
          "kbd",
          {
            className: cn(
              "hidden items-center gap-0.5 px-2 py-0.5 sm:inline-flex",
              "rounded border border-gray-200 bg-gray-100 dark:border-gray-500 dark:bg-gray-600",
              "flex-shrink-0 text-xs text-gray-600 dark:text-gray-300"
            ),
            children: [
              isMac ? "\u2318" : "Ctrl",
              "+K"
            ]
          }
        )
      ]
    }
  );
}
function AppHeaderUserMenu({
  name,
  email,
  avatarUrl,
  initials,
  isOpen = false,
  onClick,
  className,
  "data-testid": testId = "app-header-user-menu"
}) {
  const displayInitials = initials ?? name.split(" ").map((n) => n[0]).join("").toUpperCase().slice(0, 2);
  return /* @__PURE__ */ jsxs(
    "button",
    {
      onClick,
      "data-testid": testId,
      className: cn(
        "flex items-center gap-3 rounded-lg px-2 py-1.5 transition-colors",
        "hover:bg-gray-100 dark:hover:bg-gray-800",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        isOpen && "bg-gray-100 dark:bg-gray-800",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "flex h-8 w-8 items-center justify-center overflow-hidden rounded-full",
              "bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-100 text-sm font-medium"
            ),
            children: avatarUrl ? /* @__PURE__ */ jsx(
              "img",
              {
                src: avatarUrl,
                alt: name,
                className: "h-full w-full object-cover"
              }
            ) : displayInitials
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "hidden min-w-0 text-left lg:block", children: [
          /* @__PURE__ */ jsx("div", { className: "max-w-[150px] truncate text-sm font-medium text-gray-900 dark:text-white", children: name }),
          email && /* @__PURE__ */ jsx("div", { className: "max-w-[150px] truncate text-xs text-gray-500 dark:text-gray-400", children: email })
        ] }),
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: cn(
              "hidden h-4 w-4 text-gray-400 transition-transform lg:block",
              isOpen && "rotate-180"
            ),
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            strokeWidth: 2,
            children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 9l-7 7-7-7" })
          }
        )
      ]
    }
  );
}
var DEFAULT_SOCIAL_PROVIDERS = [
  { id: "google", name: "Google", color: "#4285F4" },
  { id: "microsoft", name: "Microsoft", color: "#00A4EF" },
  { id: "linkedin", name: "LinkedIn", color: "#0077B5" },
  { id: "apple", name: "Apple", color: "#000000" }
];
function AuthDialog({
  isOpen,
  onClose,
  mode: controlledMode,
  onModeChange,
  onLogin,
  onSignup,
  onSocialLogin,
  onForgotPassword,
  onResetPassword,
  socialProviders = DEFAULT_SOCIAL_PROVIDERS,
  appName = "BlueHive",
  logoUrl,
  termsUrl = "/terms",
  privacyUrl = "/privacy",
  requireEmailVerification = false,
  className
}) {
  const [internalMode, setInternalMode] = React46.useState("login");
  const [isLoading, setIsLoading] = React46.useState(false);
  const [error, setError] = React46.useState(null);
  const [success, setSuccess] = React46.useState(null);
  const mode = controlledMode ?? internalMode;
  const setMode = (newMode) => {
    setError(null);
    setSuccess(null);
    if (onModeChange) {
      onModeChange(newMode);
    } else {
      setInternalMode(newMode);
    }
  };
  React46.useEffect(() => {
    const handleEscape = (e) => {
      if (e.key === "Escape" && isOpen) onClose();
    };
    document.addEventListener("keydown", handleEscape);
    return () => document.removeEventListener("keydown", handleEscape);
  }, [isOpen, onClose]);
  React46.useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "";
    }
    return () => {
      document.body.style.overflow = "";
    };
  }, [isOpen]);
  if (!isOpen) return null;
  const handleSocialLogin = async (providerId) => {
    if (!onSocialLogin) return;
    setIsLoading(true);
    setError(null);
    try {
      await onSocialLogin(providerId);
      onClose();
    } catch (err) {
      setError(err instanceof Error ? err.message : "Social login failed");
    } finally {
      setIsLoading(false);
    }
  };
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "dialog",
      "aria-modal": "true",
      "aria-labelledby": "auth-dialog-title",
      className: "animate-in fade-in fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm duration-200",
      onClick: (e) => e.target === e.currentTarget && onClose(),
      children: /* @__PURE__ */ jsxs(
        "div",
        {
          className: cn(
            "relative mx-4 w-full max-w-md rounded-2xl bg-white shadow-2xl dark:bg-gray-800",
            "animate-in slide-in-from-bottom-4 duration-300",
            className
          ),
          children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: onClose,
                className: "absolute top-4 right-4 rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",
                "aria-label": "Close",
                children: /* @__PURE__ */ jsx(CloseIcon2, { className: "h-5 w-5" })
              }
            ),
            /* @__PURE__ */ jsxs("div", { className: "px-6 pt-6 pb-4 text-center", children: [
              logoUrl ? /* @__PURE__ */ jsx("img", { src: logoUrl, alt: appName, className: "mx-auto mb-4 h-10" }) : /* @__PURE__ */ jsx("div", { className: "bg-primary-600 mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-xl", children: /* @__PURE__ */ jsx("span", { className: "text-xl font-bold text-white", children: appName.charAt(0) }) }),
              /* @__PURE__ */ jsxs(
                "h2",
                {
                  id: "auth-dialog-title",
                  className: "text-xl font-semibold text-gray-900 dark:text-white",
                  children: [
                    mode === "login" && `Sign in to ${appName}`,
                    mode === "signup" && `Create your account`,
                    mode === "forgotPassword" && "Reset your password",
                    mode === "resetPassword" && "Set new password",
                    mode === "verify" && "Verify your email"
                  ]
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "px-6 pb-6", children: [
              error && /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700 dark:border-red-800 dark:bg-red-900/20 dark:text-red-400", children: error }),
              success && /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-lg border border-green-200 bg-green-50 p-3 text-sm text-green-700 dark:border-green-800 dark:bg-green-900/20 dark:text-green-400", children: success }),
              mode === "login" && /* @__PURE__ */ jsx(
                LoginForm,
                {
                  onSubmit: async (email, password) => {
                    if (!onLogin) return;
                    setIsLoading(true);
                    setError(null);
                    try {
                      await onLogin(email, password);
                      onClose();
                    } catch (err) {
                      setError(err instanceof Error ? err.message : "Login failed");
                    } finally {
                      setIsLoading(false);
                    }
                  },
                  isLoading,
                  onForgotPassword: () => setMode("forgotPassword")
                }
              ),
              mode === "signup" && /* @__PURE__ */ jsx(
                SignupForm,
                {
                  onSubmit: async (data) => {
                    if (!onSignup) return;
                    setIsLoading(true);
                    setError(null);
                    try {
                      await onSignup(data);
                      if (requireEmailVerification) {
                        setMode("verify");
                        setSuccess("Check your email for a verification link.");
                      } else {
                        onClose();
                      }
                    } catch (err) {
                      setError(
                        err instanceof Error ? err.message : "Signup failed"
                      );
                    } finally {
                      setIsLoading(false);
                    }
                  },
                  isLoading,
                  termsUrl,
                  privacyUrl
                }
              ),
              mode === "forgotPassword" && /* @__PURE__ */ jsx(
                ForgotPasswordForm,
                {
                  onSubmit: async (email) => {
                    if (!onForgotPassword) return;
                    setIsLoading(true);
                    setError(null);
                    try {
                      await onForgotPassword(email);
                      setSuccess("Check your email for reset instructions.");
                    } catch (err) {
                      setError(
                        err instanceof Error ? err.message : "Request failed"
                      );
                    } finally {
                      setIsLoading(false);
                    }
                  },
                  isLoading,
                  onBack: () => setMode("login")
                }
              ),
              mode === "resetPassword" && /* @__PURE__ */ jsx(
                ResetPasswordForm,
                {
                  onSubmit: async (password, confirmPassword) => {
                    if (!onResetPassword) return;
                    setIsLoading(true);
                    setError(null);
                    try {
                      await onResetPassword(password, confirmPassword);
                      setSuccess("Password reset successfully!");
                      setTimeout(() => setMode("login"), 2e3);
                    } catch (err) {
                      setError(err instanceof Error ? err.message : "Reset failed");
                    } finally {
                      setIsLoading(false);
                    }
                  },
                  isLoading
                }
              ),
              mode === "verify" && /* @__PURE__ */ jsxs("div", { className: "py-4 text-center", children: [
                /* @__PURE__ */ jsx(MailIcon, { className: "text-primary-600 mx-auto mb-4 h-12 w-12" }),
                /* @__PURE__ */ jsx("p", { className: "mb-4 text-gray-600 dark:text-gray-400", children: "We've sent a verification email to your inbox. Please click the link to verify your account." }),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => setMode("login"),
                    className: "text-primary-600 hover:text-primary-700 text-sm font-medium",
                    children: "Return to login"
                  }
                )
              ] }),
              (mode === "login" || mode === "signup") && socialProviders.length > 0 && /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsxs("div", { className: "relative my-6", children: [
                  /* @__PURE__ */ jsx("div", { className: "absolute inset-0 flex items-center", children: /* @__PURE__ */ jsx("div", { className: "w-full border-t border-gray-200 dark:border-gray-700" }) }),
                  /* @__PURE__ */ jsx("div", { className: "relative flex justify-center text-sm", children: /* @__PURE__ */ jsx("span", { className: "bg-white px-2 text-gray-500 dark:bg-gray-800", children: "Or continue with" }) })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 gap-3", children: socialProviders.map((provider) => /* @__PURE__ */ jsx(
                  SocialButton,
                  {
                    provider,
                    onClick: () => handleSocialLogin(provider.id),
                    disabled: isLoading
                  },
                  provider.id
                )) })
              ] }),
              (mode === "login" || mode === "signup") && /* @__PURE__ */ jsx("p", { className: "mt-6 text-center text-sm text-gray-600 dark:text-gray-400", children: mode === "login" ? /* @__PURE__ */ jsxs(Fragment, { children: [
                "Don't have an account?",
                " ",
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => setMode("signup"),
                    className: "text-primary-600 hover:text-primary-700 font-medium",
                    children: "Sign up"
                  }
                )
              ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                "Already have an account?",
                " ",
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => setMode("login"),
                    className: "text-primary-600 hover:text-primary-700 font-medium",
                    children: "Sign in"
                  }
                )
              ] }) })
            ] })
          ]
        }
      )
    }
  );
}
function LoginForm({ onSubmit, isLoading, onForgotPassword }) {
  const [email, setEmail] = React46.useState("");
  const [password, setPassword] = React46.useState("");
  const [showPassword, setShowPassword] = React46.useState(false);
  const handleSubmit = (e) => {
    e.preventDefault();
    onSubmit(email, password);
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "login-email",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Email"
        }
      ),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: "login-email",
          type: "email",
          value: email,
          onChange: (e) => setEmail(e.target.value),
          required: true,
          autoComplete: "email",
          className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
          placeholder: "you@example.com"
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "login-password",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Password"
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            id: "login-password",
            type: showPassword ? "text" : "password",
            value: password,
            onChange: (e) => setPassword(e.target.value),
            required: true,
            autoComplete: "current-password",
            className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
            placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => setShowPassword(!showPassword),
            className: "absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-gray-600",
            children: showPassword ? /* @__PURE__ */ jsx(EyeOffIcon, { className: "h-4 w-4" }) : /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxs("label", { className: "flex items-center", children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            type: "checkbox",
            className: "text-primary-600 focus:ring-primary-500 rounded border-gray-300"
          }
        ),
        /* @__PURE__ */ jsx("span", { className: "ml-2 text-sm text-gray-600 dark:text-gray-400", children: "Remember me" })
      ] }),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: onForgotPassword,
          className: "text-primary-600 hover:text-primary-700 text-sm",
          children: "Forgot password?"
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading,
        className: "bg-primary-600 hover:bg-primary-700 w-full rounded-lg py-2.5 font-medium text-white transition-colors disabled:cursor-not-allowed disabled:opacity-50",
        children: isLoading ? /* @__PURE__ */ jsx(Spinner2, { className: "mx-auto h-5 w-5" }) : "Sign in"
      }
    )
  ] });
}
function SignupForm({
  onSubmit,
  isLoading,
  termsUrl,
  privacyUrl
}) {
  const [email, setEmail] = React46.useState("");
  const [password, setPassword] = React46.useState("");
  const [confirmPassword, setConfirmPassword] = React46.useState("");
  const [acceptedTerms, setAcceptedTerms] = React46.useState(false);
  const [showPassword, setShowPassword] = React46.useState(false);
  const passwordsMatch = password === confirmPassword;
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!passwordsMatch) return;
    onSubmit({ email, password, acceptedTerms });
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "signup-email",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Email"
        }
      ),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: "signup-email",
          type: "email",
          value: email,
          onChange: (e) => setEmail(e.target.value),
          required: true,
          autoComplete: "email",
          className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
          placeholder: "you@example.com"
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "signup-password",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Password"
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            id: "signup-password",
            type: showPassword ? "text" : "password",
            value: password,
            onChange: (e) => setPassword(e.target.value),
            required: true,
            autoComplete: "new-password",
            minLength: 8,
            className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
            placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => setShowPassword(!showPassword),
            className: "absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-gray-600",
            children: showPassword ? /* @__PURE__ */ jsx(EyeOffIcon, { className: "h-4 w-4" }) : /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "signup-confirm",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Confirm Password"
        }
      ),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: "signup-confirm",
          type: "password",
          value: confirmPassword,
          onChange: (e) => setConfirmPassword(e.target.value),
          required: true,
          autoComplete: "new-password",
          className: cn(
            "focus:ring-primary-500 w-full rounded-lg border bg-white px-3 py-2 text-gray-900 focus:border-transparent focus:ring-2 dark:bg-gray-700 dark:text-white",
            confirmPassword && !passwordsMatch ? "border-red-500" : "border-gray-300 dark:border-gray-600"
          ),
          placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"
        }
      ),
      confirmPassword && !passwordsMatch && /* @__PURE__ */ jsx("p", { className: "mt-1 text-xs text-red-500", children: "Passwords do not match" })
    ] }),
    /* @__PURE__ */ jsxs("label", { className: "flex items-start", children: [
      /* @__PURE__ */ jsx(
        "input",
        {
          type: "checkbox",
          checked: acceptedTerms,
          onChange: (e) => setAcceptedTerms(e.target.checked),
          required: true,
          className: "text-primary-600 focus:ring-primary-500 mt-0.5 rounded border-gray-300"
        }
      ),
      /* @__PURE__ */ jsxs("span", { className: "ml-2 text-sm text-gray-600 dark:text-gray-400", children: [
        "I agree to the",
        " ",
        /* @__PURE__ */ jsx(
          "a",
          {
            href: termsUrl,
            className: "text-primary-600 hover:underline",
            target: "_blank",
            rel: "noopener noreferrer",
            children: "Terms of Service"
          }
        ),
        " ",
        "and",
        " ",
        /* @__PURE__ */ jsx(
          "a",
          {
            href: privacyUrl,
            className: "text-primary-600 hover:underline",
            target: "_blank",
            rel: "noopener noreferrer",
            children: "Privacy Policy"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading || !passwordsMatch || !acceptedTerms,
        className: "bg-primary-600 hover:bg-primary-700 w-full rounded-lg py-2.5 font-medium text-white transition-colors disabled:cursor-not-allowed disabled:opacity-50",
        children: isLoading ? /* @__PURE__ */ jsx(Spinner2, { className: "mx-auto h-5 w-5" }) : "Create account"
      }
    )
  ] });
}
function ForgotPasswordForm({
  onSubmit,
  isLoading,
  onBack
}) {
  const [email, setEmail] = React46.useState("");
  const handleSubmit = (e) => {
    e.preventDefault();
    onSubmit(email);
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
    /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Enter your email address and we'll send you a link to reset your password." }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "forgot-email",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Email"
        }
      ),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: "forgot-email",
          type: "email",
          value: email,
          onChange: (e) => setEmail(e.target.value),
          required: true,
          autoComplete: "email",
          className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
          placeholder: "you@example.com"
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading,
        className: "bg-primary-600 hover:bg-primary-700 w-full rounded-lg py-2.5 font-medium text-white transition-colors disabled:cursor-not-allowed disabled:opacity-50",
        children: isLoading ? /* @__PURE__ */ jsx(Spinner2, { className: "mx-auto h-5 w-5" }) : "Send reset link"
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: onBack,
        className: "w-full py-2 text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",
        children: "\u2190 Back to login"
      }
    )
  ] });
}
function ResetPasswordForm({ onSubmit, isLoading }) {
  const [password, setPassword] = React46.useState("");
  const [confirmPassword, setConfirmPassword] = React46.useState("");
  const [showPassword, setShowPassword] = React46.useState(false);
  const passwordsMatch = password === confirmPassword;
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!passwordsMatch) return;
    onSubmit(password, confirmPassword);
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "reset-password",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "New Password"
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            id: "reset-password",
            type: showPassword ? "text" : "password",
            value: password,
            onChange: (e) => setPassword(e.target.value),
            required: true,
            autoComplete: "new-password",
            minLength: 8,
            className: "focus:ring-primary-500 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-gray-900 focus:border-transparent focus:ring-2 dark:border-gray-600 dark:bg-gray-700 dark:text-white",
            placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => setShowPassword(!showPassword),
            className: "absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-gray-600",
            children: showPassword ? /* @__PURE__ */ jsx(EyeOffIcon, { className: "h-4 w-4" }) : /* @__PURE__ */ jsx(EyeIcon, { className: "h-4 w-4" })
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: "reset-confirm",
          className: "mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300",
          children: "Confirm Password"
        }
      ),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: "reset-confirm",
          type: "password",
          value: confirmPassword,
          onChange: (e) => setConfirmPassword(e.target.value),
          required: true,
          autoComplete: "new-password",
          className: cn(
            "focus:ring-primary-500 w-full rounded-lg border bg-white px-3 py-2 text-gray-900 focus:border-transparent focus:ring-2 dark:bg-gray-700 dark:text-white",
            confirmPassword && !passwordsMatch ? "border-red-500" : "border-gray-300 dark:border-gray-600"
          ),
          placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"
        }
      ),
      confirmPassword && !passwordsMatch && /* @__PURE__ */ jsx("p", { className: "mt-1 text-xs text-red-500", children: "Passwords do not match" })
    ] }),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading || !passwordsMatch,
        className: "bg-primary-600 hover:bg-primary-700 w-full rounded-lg py-2.5 font-medium text-white transition-colors disabled:cursor-not-allowed disabled:opacity-50",
        children: isLoading ? /* @__PURE__ */ jsx(Spinner2, { className: "mx-auto h-5 w-5" }) : "Set new password"
      }
    )
  ] });
}
function SocialButton({ provider, onClick, disabled }) {
  const icons = {
    google: /* @__PURE__ */ jsx(GoogleIcon, { className: "h-5 w-5" }),
    microsoft: /* @__PURE__ */ jsx(MicrosoftIcon, { className: "h-5 w-5" }),
    linkedin: /* @__PURE__ */ jsx(LinkedInIcon, { className: "h-5 w-5" }),
    apple: /* @__PURE__ */ jsx(AppleIcon, { className: "h-5 w-5" })
  };
  return /* @__PURE__ */ jsxs(
    "button",
    {
      type: "button",
      onClick,
      disabled,
      className: "flex items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-gray-700 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",
      children: [
        provider.icon || icons[provider.id] || null,
        /* @__PURE__ */ jsx("span", { className: "text-sm font-medium", children: provider.name })
      ]
    }
  );
}
function CloseIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function EyeIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
          }
        )
      ]
    }
  );
}
function EyeOffIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
        }
      )
    }
  );
}
function MailIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
        }
      )
    }
  );
}
function Spinner2({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className: cn("animate-spin", className),
      fill: "none",
      viewBox: "0 0 24 24",
      children: [
        /* @__PURE__ */ jsx(
          "circle",
          {
            className: "opacity-25",
            cx: "12",
            cy: "12",
            r: "10",
            stroke: "currentColor",
            strokeWidth: "4"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            className: "opacity-75",
            fill: "currentColor",
            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          }
        )
      ]
    }
  );
}
function GoogleIcon({ className }) {
  return /* @__PURE__ */ jsxs("svg", { className, viewBox: "0 0 24 24", children: [
    /* @__PURE__ */ jsx(
      "path",
      {
        fill: "#4285F4",
        d: "M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
      }
    ),
    /* @__PURE__ */ jsx(
      "path",
      {
        fill: "#34A853",
        d: "M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
      }
    ),
    /* @__PURE__ */ jsx(
      "path",
      {
        fill: "#FBBC05",
        d: "M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
      }
    ),
    /* @__PURE__ */ jsx(
      "path",
      {
        fill: "#EA4335",
        d: "M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
      }
    )
  ] });
}
function MicrosoftIcon({ className }) {
  return /* @__PURE__ */ jsxs("svg", { className, viewBox: "0 0 24 24", children: [
    /* @__PURE__ */ jsx("path", { fill: "#F25022", d: "M1 1h10v10H1z" }),
    /* @__PURE__ */ jsx("path", { fill: "#00A4EF", d: "M13 1h10v10H13z" }),
    /* @__PURE__ */ jsx("path", { fill: "#7FBA00", d: "M1 13h10v10H1z" }),
    /* @__PURE__ */ jsx("path", { fill: "#FFB900", d: "M13 13h10v10H13z" })
  ] });
}
function LinkedInIcon({ className }) {
  return /* @__PURE__ */ jsx("svg", { className, viewBox: "0 0 24 24", fill: "#0077B5", children: /* @__PURE__ */ jsx("path", { d: "M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" }) });
}
function AppleIcon({ className }) {
  return /* @__PURE__ */ jsx("svg", { className, viewBox: "0 0 24 24", fill: "currentColor", children: /* @__PURE__ */ jsx("path", { d: "M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z" }) });
}
var inputVariants2 = cva(
  "w-full rounded-lg border bg-white px-4 py-3 text-gray-900 transition-colors focus:outline-none focus:ring-2 dark:bg-gray-800 dark:text-white",
  {
    variants: {
      state: {
        default: "border-gray-300 focus:border-primary-500 focus:ring-primary-500/20 dark:border-gray-600 dark:focus:border-primary-400",
        error: "border-red-500 focus:border-red-500 focus:ring-red-500/20",
        success: "border-green-500 focus:border-green-500 focus:ring-green-500/20"
      }
    },
    defaultVariants: {
      state: "default"
    }
  }
);
function FloatingInput({
  label,
  state,
  error,
  id,
  className,
  ...props
}) {
  const inputId = id || label.toLowerCase().replace(/\s+/g, "-");
  return /* @__PURE__ */ jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ jsx(
      "input",
      {
        id: inputId,
        placeholder: " ",
        className: cn(
          inputVariants2({ state: error ? "error" : state ?? "default" }),
          "peer pt-6 pb-2",
          className
        ),
        ...props
      }
    ),
    /* @__PURE__ */ jsx(
      "label",
      {
        htmlFor: inputId,
        className: cn(
          "absolute top-4 left-4 origin-left transform text-gray-500 transition-all duration-200",
          "peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100",
          "peer-focus:-translate-y-2 peer-focus:scale-75",
          "peer-[:not(:placeholder-shown)]:-translate-y-2 peer-[:not(:placeholder-shown)]:scale-75",
          error && "text-red-500",
          "dark:text-gray-400"
        ),
        children: label
      }
    ),
    error && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-500", children: error })
  ] });
}
function ServiceSelect({
  services,
  selectedServices,
  onChange,
  placeholder = "Select services...",
  error,
  className
}) {
  const [isOpen, setIsOpen] = React46.useState(false);
  const dropdownRef = React46.useRef(null);
  React46.useEffect(() => {
    function handleClickOutside(event) {
      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    }
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  const toggleService = (serviceSlug) => {
    if (selectedServices.includes(serviceSlug)) {
      onChange(selectedServices.filter((s) => s !== serviceSlug));
    } else {
      onChange([...selectedServices, serviceSlug]);
    }
  };
  const selectedServiceNames = services.filter((s) => selectedServices.includes(s.slug)).map((s) => s.name);
  return /* @__PURE__ */ jsxs("div", { ref: dropdownRef, className: cn("relative", className), children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => setIsOpen(!isOpen),
        className: cn(
          "w-full rounded-lg border px-4 py-3 text-left transition-colors",
          "bg-white dark:bg-gray-800",
          "focus:ring-2 focus:outline-none",
          error ? "border-red-500 focus:ring-red-500/20" : "focus:border-primary-500 focus:ring-primary-500/20 dark:focus:border-primary-400 border-gray-300 dark:border-gray-600"
        ),
        children: [
          selectedServiceNames.length > 0 ? /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-1", children: selectedServiceNames.map((name) => /* @__PURE__ */ jsx(
            "span",
            {
              className: "bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-sm",
              children: name
            },
            name
          )) }) : /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: placeholder }),
          /* @__PURE__ */ jsx(
            ChevronDownIcon,
            {
              className: cn(
                "absolute top-1/2 right-4 h-5 w-5 -translate-y-1/2 text-gray-400 transition-transform",
                isOpen && "rotate-180"
              )
            }
          )
        ]
      }
    ),
    isOpen && /* @__PURE__ */ jsxs("div", { className: "absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-lg border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800", children: [
      services.map((service) => /* @__PURE__ */ jsxs(
        "label",
        {
          className: "flex cursor-pointer items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50",
          children: [
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "checkbox",
                checked: selectedServices.includes(service.slug),
                onChange: () => toggleService(service.slug),
                className: "text-primary-600 focus:ring-primary-500 h-4 w-4 rounded border-gray-300 dark:border-gray-600"
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-gray-900 dark:text-white", children: service.name })
          ]
        },
        service.slug
      )),
      services.length === 0 && /* @__PURE__ */ jsx("div", { className: "px-4 py-3 text-center text-gray-500 dark:text-gray-400", children: "No services available" })
    ] }),
    error && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-red-500", children: error })
  ] });
}
function ConsentSwitch({
  id,
  checked,
  onChange,
  label,
  description,
  className
}) {
  return /* @__PURE__ */ jsxs("div", { className: cn("flex items-start gap-3", className), children: [
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        role: "switch",
        "aria-checked": checked,
        id,
        onClick: () => onChange(!checked),
        className: cn(
          "focus:ring-primary-500 relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-offset-2 focus:outline-none",
          checked ? "bg-primary-600" : "bg-gray-200 dark:bg-gray-700"
        ),
        children: /* @__PURE__ */ jsx(
          "span",
          {
            className: cn(
              "pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",
              checked ? "translate-x-5" : "translate-x-0"
            )
          }
        )
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: id,
          className: "cursor-pointer text-sm font-medium text-gray-900 dark:text-white",
          children: label
        }
      ),
      description && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: description })
    ] })
  ] });
}
function DialogOverlay({
  isOpen,
  onClose,
  children,
  className
}) {
  React46.useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "";
    }
    return () => {
      document.body.style.overflow = "";
    };
  }, [isOpen]);
  if (!isOpen) return null;
  return /* @__PURE__ */ jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", children: /* @__PURE__ */ jsxs("div", { className: "flex min-h-screen items-center justify-center p-4", children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 bg-black/50 transition-opacity",
        onClick: onClose,
        "aria-hidden": "true"
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "relative w-full max-w-lg transform rounded-2xl bg-white shadow-2xl transition-all dark:bg-gray-900",
          className
        ),
        role: "dialog",
        "aria-modal": "true",
        children
      }
    )
  ] }) });
}
function BookingDialog({
  isOpen,
  onClose,
  onSubmit,
  onCall,
  provider,
  services = [],
  defaultValues,
  isLoading = false,
  className
}) {
  const [formData, setFormData] = React46.useState({
    firstName: defaultValues?.firstName || "",
    lastName: defaultValues?.lastName || "",
    phoneNumber: defaultValues?.phoneNumber || "",
    selectedServices: defaultValues?.selectedServices || [],
    allowAlternateProviders: defaultValues?.allowAlternateProviders ?? false,
    consentEmail: defaultValues?.consentEmail ?? false,
    consentSms: defaultValues?.consentSms ?? false
  });
  const [errors, setErrors] = React46.useState({});
  const validate = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    }
    if (!formData.phoneNumber.trim()) {
      newErrors.phoneNumber = "Phone number is required";
    }
    if (formData.selectedServices.length === 0) {
      newErrors.services = "Please select at least one service";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (validate()) {
      onSubmit(formData);
    }
  };
  const mapsUrl = `https://www.google.com/maps?daddr=${encodeURIComponent(
    `${provider.address.street1}, ${provider.address.city}, ${provider.address.state} ${provider.address.postalCode}`
  )}`;
  return /* @__PURE__ */ jsxs(DialogOverlay, { isOpen, onClose, className, children: [
    /* @__PURE__ */ jsxs("div", { className: "bg-primary-600 flex items-center justify-between rounded-t-2xl border-b border-gray-200 px-6 py-4 dark:border-gray-700", children: [
      /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-white", children: "Book Appointment" }),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: onClose,
          className: "rounded-lg p-2 text-white transition-colors hover:bg-white/10",
          "aria-label": "Close dialog",
          children: /* @__PURE__ */ jsx(CloseIcon3, { className: "h-5 w-5" })
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
      /* @__PURE__ */ jsxs("div", { className: "max-h-[70vh] space-y-6 overflow-y-auto p-6", children: [
        /* @__PURE__ */ jsxs("div", { className: "border-b border-gray-200 pb-4 dark:border-gray-700", children: [
          /* @__PURE__ */ jsx("h3", { className: "mb-1 text-lg font-bold text-gray-900 dark:text-white", children: provider.name }),
          /* @__PURE__ */ jsxs(
            "a",
            {
              href: mapsUrl,
              target: "_blank",
              rel: "noopener noreferrer",
              className: "hover:text-primary-600 dark:hover:text-primary-400 text-sm text-gray-600 dark:text-gray-400",
              children: [
                provider.address.street1,
                provider.address.street2 && ` ${provider.address.street2}`,
                " ",
                provider.address.city,
                ", ",
                provider.address.state,
                " ",
                provider.address.postalCode
              ]
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h4", { className: "mb-4 text-sm font-semibold text-gray-900 dark:text-white", children: "Contact Information" }),
          /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4 sm:grid-cols-2", children: [
            /* @__PURE__ */ jsx(
              FloatingInput,
              {
                label: "First Name",
                value: formData.firstName,
                onChange: (e) => setFormData({ ...formData, firstName: e.target.value }),
                error: errors.firstName,
                required: true
              }
            ),
            /* @__PURE__ */ jsx(
              FloatingInput,
              {
                label: "Last Name",
                value: formData.lastName,
                onChange: (e) => setFormData({ ...formData, lastName: e.target.value }),
                error: errors.lastName,
                required: true
              }
            )
          ] }),
          /* @__PURE__ */ jsx("div", { className: "mt-4", children: /* @__PURE__ */ jsx(
            FloatingInput,
            {
              label: "Phone Number",
              type: "tel",
              value: formData.phoneNumber,
              onChange: (e) => setFormData({ ...formData, phoneNumber: e.target.value }),
              error: errors.phoneNumber,
              required: true
            }
          ) })
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h4", { className: "mb-4 text-sm font-semibold text-gray-900 dark:text-white", children: "Please select your services" }),
          /* @__PURE__ */ jsx(
            ServiceSelect,
            {
              services,
              selectedServices: formData.selectedServices,
              onChange: (selected) => setFormData({ ...formData, selectedServices: selected }),
              placeholder: "Please select services",
              error: errors.services
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsx(
            ConsentSwitch,
            {
              id: "alternate-providers",
              checked: formData.allowAlternateProviders,
              onChange: (checked) => setFormData({ ...formData, allowAlternateProviders: checked }),
              label: "Allow alternate providers",
              description: "I consent to BlueHive connecting me with an alternate provider if this one is unavailable."
            }
          ),
          /* @__PURE__ */ jsx(
            ConsentSwitch,
            {
              id: "consent-email",
              checked: formData.consentEmail,
              onChange: (checked) => setFormData({ ...formData, consentEmail: checked }),
              label: "Send order update notifications via email"
            }
          ),
          /* @__PURE__ */ jsx(
            ConsentSwitch,
            {
              id: "consent-sms",
              checked: formData.consentSms,
              onChange: (checked) => setFormData({ ...formData, consentSms: checked }),
              label: "Send order update notifications via SMS",
              description: "I consent to receive text messages from BlueHive regarding my appointment."
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-t border-gray-200 px-6 py-4 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onClose,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",
            children: "Close"
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
          provider.phoneNumber && onCall && /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: () => onCall(provider.phoneNumber),
              className: "inline-flex items-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-700",
              children: [
                /* @__PURE__ */ jsx(PhoneIcon2, { className: "h-4 w-4" }),
                "Call Now"
              ]
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "submit",
              disabled: isLoading,
              className: cn(
                "bg-primary-600 hover:bg-primary-700 inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors",
                isLoading && "cursor-not-allowed opacity-50"
              ),
              children: isLoading ? /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx(LoadingSpinner, { className: "h-4 w-4" }),
                "Submitting..."
              ] }) : "Request Booking"
            }
          )
        ] })
      ] })
    ] })
  ] });
}
function InlineBookingForm({
  provider,
  services = [],
  onSubmit,
  defaultValues,
  isLoading = false,
  className
}) {
  const [formData, setFormData] = React46.useState({
    firstName: defaultValues?.firstName || "",
    lastName: defaultValues?.lastName || "",
    phoneNumber: defaultValues?.phoneNumber || "",
    selectedServices: defaultValues?.selectedServices || [],
    allowAlternateProviders: defaultValues?.allowAlternateProviders ?? false,
    consentEmail: defaultValues?.consentEmail ?? false,
    consentSms: defaultValues?.consentSms ?? false
  });
  const [errors, setErrors] = React46.useState({});
  const validate = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    }
    if (!formData.phoneNumber.trim()) {
      newErrors.phoneNumber = "Phone number is required";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (validate()) {
      onSubmit(formData);
    }
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: cn("space-y-6", className), children: [
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4 sm:grid-cols-2", children: [
      /* @__PURE__ */ jsx(
        FloatingInput,
        {
          label: "First Name",
          value: formData.firstName,
          onChange: (e) => setFormData({ ...formData, firstName: e.target.value }),
          error: errors.firstName,
          required: true
        }
      ),
      /* @__PURE__ */ jsx(
        FloatingInput,
        {
          label: "Last Name",
          value: formData.lastName,
          onChange: (e) => setFormData({ ...formData, lastName: e.target.value }),
          error: errors.lastName,
          required: true
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      FloatingInput,
      {
        label: "Phone Number",
        type: "tel",
        value: formData.phoneNumber,
        onChange: (e) => setFormData({ ...formData, phoneNumber: e.target.value }),
        error: errors.phoneNumber,
        required: true
      }
    ),
    services.length > 0 && /* @__PURE__ */ jsx(
      ServiceSelect,
      {
        services,
        selectedServices: formData.selectedServices,
        onChange: (selected) => setFormData({ ...formData, selectedServices: selected }),
        placeholder: "Select services (optional)"
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading,
        className: cn(
          "bg-primary-600 hover:bg-primary-700 w-full rounded-lg px-4 py-3 text-sm font-medium text-white transition-colors",
          isLoading && "cursor-not-allowed opacity-50"
        ),
        children: isLoading ? "Submitting..." : "Request Booking"
      }
    )
  ] });
}
function QuickBookCard({
  provider,
  onBook,
  onCall,
  className
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800",
        className
      ),
      children: [
        /* @__PURE__ */ jsx("h3", { className: "mb-2 text-lg font-semibold text-gray-900 dark:text-white", children: "Schedule an Appointment" }),
        /* @__PURE__ */ jsxs("p", { className: "mb-4 text-sm text-gray-600 dark:text-gray-400", children: [
          "Book your appointment at ",
          provider.name
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
          provider.phoneNumber && onCall && /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: () => onCall(provider.phoneNumber),
              className: "inline-flex flex-1 items-center justify-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",
              children: [
                /* @__PURE__ */ jsx(PhoneIcon2, { className: "h-4 w-4" }),
                "Call"
              ]
            }
          ),
          /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: onBook,
              className: "bg-primary-600 hover:bg-primary-700 inline-flex flex-1 items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors",
              children: [
                /* @__PURE__ */ jsx(CalendarIcon, { className: "h-4 w-4" }),
                "Book Online"
              ]
            }
          )
        ] })
      ]
    }
  );
}
function CloseIcon3({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function ChevronDownIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M19 9l-7 7-7-7"
        }
      )
    }
  );
}
function PhoneIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" })
    }
  );
}
function CalendarIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z" })
    }
  );
}
function LoadingSpinner({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className: cn("animate-spin", className),
      fill: "none",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: [
        /* @__PURE__ */ jsx(
          "circle",
          {
            className: "opacity-25",
            cx: "12",
            cy: "12",
            r: "10",
            stroke: "currentColor",
            strokeWidth: "4"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            className: "opacity-75",
            fill: "currentColor",
            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          }
        )
      ]
    }
  );
}
var DAY_NAMES = {
  0: "Sunday",
  1: "Monday",
  2: "Tuesday",
  3: "Wednesday",
  4: "Thursday",
  5: "Friday",
  6: "Saturday"
};
var DAY_NAMES_SHORT = {
  0: "Sun",
  1: "Mon",
  2: "Tue",
  3: "Wed",
  4: "Thu",
  5: "Fri",
  6: "Sat"
};
function getCurrentDay() {
  return (/* @__PURE__ */ new Date()).getDay();
}
function parseDayToNumber(day) {
  if (typeof day === "number") return day;
  const dayLower = day.toLowerCase();
  const dayMap = {
    sunday: 0,
    sun: 0,
    monday: 1,
    mon: 1,
    tuesday: 2,
    tue: 2,
    wednesday: 3,
    wed: 3,
    thursday: 4,
    thu: 4,
    friday: 5,
    fri: 5,
    saturday: 6,
    sat: 6
  };
  return dayMap[dayLower] ?? parseInt(day, 10);
}
function parseTime(time) {
  if (!time) return null;
  const date = /* @__PURE__ */ new Date();
  if (/^\d{1,2}:\d{2}$/.test(time)) {
    const [hours, minutes] = time.split(":").map(Number);
    date.setHours(hours, minutes, 0, 0);
    return date;
  }
  try {
    const parsed = new Date(time);
    if (!isNaN(parsed.getTime())) {
      return parsed;
    }
  } catch {
  }
  return null;
}
function formatTime3(time, use24Hour = false) {
  if (!time) return "";
  const parsed = parseTime(time);
  if (!parsed) return time;
  if (use24Hour) {
    return parsed.toLocaleTimeString("en-US", {
      hour: "2-digit",
      minute: "2-digit",
      hour12: false
    });
  }
  return parsed.toLocaleTimeString("en-US", {
    hour: "numeric",
    minute: "2-digit",
    hour12: true
  });
}
function is24Hours(start, end) {
  if (!start || !end) return false;
  const startParsed = parseTime(start);
  const endParsed = parseTime(end);
  if (!startParsed || !endParsed) return false;
  return startParsed.getHours() === 0 && startParsed.getMinutes() === 0 && endParsed.getHours() === 23 && endParsed.getMinutes() === 59 || startParsed.getHours() === 0 && endParsed.getHours() === 0;
}
function isCurrentlyOpen(schedule) {
  if (!schedule || schedule.length === 0) return false;
  const now = /* @__PURE__ */ new Date();
  const currentDay = now.getDay();
  const currentTime = now.getHours() * 60 + now.getMinutes();
  const todaySchedule = schedule.find(
    (d) => parseDayToNumber(d.day) === currentDay
  );
  if (!todaySchedule || !todaySchedule.hours || todaySchedule.hours.length === 0) {
    return false;
  }
  return todaySchedule.hours.some((range) => {
    const start = parseTime(range.start || "");
    const end = parseTime(range.end || "");
    if (!start) return false;
    const startMinutes = start.getHours() * 60 + start.getMinutes();
    const endMinutes = end ? end.getHours() * 60 + end.getMinutes() : 24 * 60;
    return currentTime >= startMinutes && currentTime < endMinutes;
  });
}
function getTodayHours(schedule, use24Hour = false) {
  if (!schedule || schedule.length === 0) return "Hours not available";
  const currentDay = (/* @__PURE__ */ new Date()).getDay();
  const todaySchedule = schedule.find(
    (d) => parseDayToNumber(d.day) === currentDay
  );
  if (!todaySchedule || !todaySchedule.hours || todaySchedule.hours.length === 0) {
    return "Closed today";
  }
  const formattedRanges = todaySchedule.hours.map((range) => {
    if (is24Hours(range.start, range.end)) {
      return "24 Hours";
    }
    const start = range.start ? formatTime3(range.start, use24Hour) : "";
    const end = range.end ? formatTime3(range.end, use24Hour) : "";
    if (start && end) return `${start} - ${end}`;
    if (start) return `Opens ${start}`;
    if (end) return `Until ${end}`;
    return "Hours vary";
  }).filter(Boolean);
  return formattedRanges.join(", ") || "Hours vary";
}
var containerVariants = cva("business-hours", {
  variants: {
    variant: {
      default: "",
      card: "rounded-lg border border-neutral-200 dark:border-neutral-700 overflow-hidden",
      compact: "",
      inline: "inline-flex items-center gap-2"
    },
    size: {
      sm: "text-sm",
      md: "text-base",
      lg: "text-lg"
    }
  },
  defaultVariants: {
    variant: "default",
    size: "md"
  }
});
var dayRowVariants = cva("flex justify-between items-start gap-4 py-2", {
  variants: {
    isToday: {
      true: "bg-primary-50 dark:bg-primary-900/20 -mx-3 px-3 rounded-md",
      false: ""
    }
  },
  defaultVariants: {
    isToday: false
  }
});
function ClockIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-5 w-5", className),
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function OpenStatusBadge({ isOpen, className }) {
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "inline-flex items-center gap-1.5 rounded-full px-2 py-0.5 text-sm font-medium",
        isOpen ? "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400" : "bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(
          "span",
          {
            className: cn(
              "h-2 w-2 rounded-full",
              isOpen ? "bg-green-500" : "bg-red-500"
            ),
            "aria-hidden": "true"
          }
        ),
        isOpen ? "Open Now" : "Closed"
      ]
    }
  );
}
function TimeRangeDisplay({ range, use24Hour = false }) {
  if (is24Hours(range.start, range.end)) {
    return /* @__PURE__ */ jsx("span", { children: "24 Hours" });
  }
  const start = range.start ? formatTime3(range.start, use24Hour) : "";
  const end = range.end ? formatTime3(range.end, use24Hour) : "";
  return /* @__PURE__ */ jsxs("span", { className: "hours-range", children: [
    start && end ? /* @__PURE__ */ jsxs(Fragment, { children: [
      start,
      " - ",
      end
    ] }) : start ? /* @__PURE__ */ jsxs(Fragment, { children: [
      "Opens ",
      start
    ] }) : end ? /* @__PURE__ */ jsxs(Fragment, { children: [
      "Until ",
      end
    ] }) : "Hours vary",
    range.description && /* @__PURE__ */ jsx("span", { className: "mt-0.5 block text-xs text-neutral-500 dark:text-neutral-400", children: range.description })
  ] });
}
function DayScheduleRow({
  dayHours,
  isToday = false,
  highlightToday = true,
  useShortDayNames = false,
  use24Hour = false
}) {
  const dayNum = parseDayToNumber(dayHours.day);
  const dayName = useShortDayNames ? DAY_NAMES_SHORT[dayNum] : DAY_NAMES[dayNum];
  const hasHours = dayHours.hours && dayHours.hours.length > 0;
  const hasMultipleRanges = hasHours && dayHours.hours.length > 1;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(dayRowVariants({ isToday: isToday && highlightToday })),
      "data-cy": `provider-day-${dayHours.day}`,
      children: [
        /* @__PURE__ */ jsxs(
          "span",
          {
            className: cn(
              "min-w-[80px] font-medium",
              isToday && highlightToday && "text-primary-700 dark:text-primary-400"
            ),
            children: [
              dayName,
              isToday && highlightToday && /* @__PURE__ */ jsx("span", { className: "text-primary-500 ml-1 text-xs", children: "(Today)" })
            ]
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn("text-right", hasMultipleRanges && "flex flex-col gap-1"),
            "data-cy": `provider-hours-${dayHours.day}`,
            children: hasHours ? dayHours.hours.map((range, idx) => /* @__PURE__ */ jsx(TimeRangeDisplay, { range, use24Hour }, idx)) : /* @__PURE__ */ jsx("span", { className: "text-neutral-500 dark:text-neutral-400", children: "Closed" })
          }
        )
      ]
    }
  );
}
function BusinessHours({
  schedule,
  variant = "default",
  size = "md",
  showStatus = true,
  highlightToday = true,
  useShortDayNames = false,
  use24Hour = false,
  showHeader = true,
  headerText = "Hours",
  className
}) {
  const currentDay = getCurrentDay();
  const isOpen = isCurrentlyOpen(schedule.officeHours);
  if (!schedule.officeHours && schedule.officeHoursText) {
    return /* @__PURE__ */ jsxs("div", { className: cn(containerVariants({ variant, size }), className), children: [
      showHeader && /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-center justify-between", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 font-medium text-neutral-900 dark:text-white", children: [
          /* @__PURE__ */ jsx(ClockIcon, { className: "text-neutral-500" }),
          headerText
        ] }),
        showStatus && /* @__PURE__ */ jsx(OpenStatusBadge, { isOpen: false })
      ] }),
      /* @__PURE__ */ jsx("pre", { className: "m-0 font-sans whitespace-pre-wrap text-neutral-700 dark:text-neutral-300", children: schedule.officeHoursText })
    ] });
  }
  if (!schedule.officeHours || schedule.officeHours.length === 0) {
    return /* @__PURE__ */ jsxs("div", { className: cn(containerVariants({ variant, size }), className), children: [
      showHeader && /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-center gap-2 font-medium text-neutral-900 dark:text-white", children: [
        /* @__PURE__ */ jsx(ClockIcon, { className: "text-neutral-500" }),
        headerText
      ] }),
      /* @__PURE__ */ jsx("p", { className: "text-neutral-500 italic dark:text-neutral-400", children: "Hours not available" })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn(containerVariants({ variant, size }), className), children: [
    variant === "card" && /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b border-neutral-200 bg-neutral-50 px-4 py-3 dark:border-neutral-700 dark:bg-neutral-800", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 font-medium text-neutral-900 dark:text-white", children: [
        /* @__PURE__ */ jsx(ClockIcon, { className: "text-neutral-500" }),
        headerText
      ] }),
      showStatus && /* @__PURE__ */ jsx(OpenStatusBadge, { isOpen })
    ] }),
    variant !== "card" && showHeader && /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-center justify-between", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 font-medium text-neutral-900 dark:text-white", children: [
        /* @__PURE__ */ jsx(ClockIcon, { className: "text-neutral-500" }),
        headerText
      ] }),
      showStatus && /* @__PURE__ */ jsx(OpenStatusBadge, { isOpen })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: cn(variant === "card" && "p-4"), children: [
      /* @__PURE__ */ jsx("div", { className: "space-y-1 divide-y divide-neutral-100 dark:divide-neutral-800", children: schedule.officeHours.map((dayHours, idx) => /* @__PURE__ */ jsx(
        DayScheduleRow,
        {
          dayHours,
          isToday: parseDayToNumber(dayHours.day) === currentDay,
          highlightToday,
          useShortDayNames,
          use24Hour
        },
        idx
      )) }),
      schedule.timezone && /* @__PURE__ */ jsxs("p", { className: "mt-3 text-xs text-neutral-500 dark:text-neutral-400", children: [
        "All times are in ",
        schedule.timezone
      ] })
    ] })
  ] });
}
function CompactHours({
  schedule,
  showStatus = true,
  use24Hour = false,
  className
}) {
  const isOpen = isCurrentlyOpen(schedule.officeHours);
  const todayHours = getTodayHours(schedule.officeHours, use24Hour);
  return /* @__PURE__ */ jsxs("div", { className: cn("flex items-center gap-2 text-sm", className), children: [
    /* @__PURE__ */ jsx(ClockIcon, { className: "h-4 w-4 text-neutral-400" }),
    /* @__PURE__ */ jsx("span", { className: "text-neutral-700 dark:text-neutral-300", children: todayHours }),
    showStatus && /* @__PURE__ */ jsx(OpenStatusBadge, { isOpen, className: "px-1.5 py-0 text-xs" })
  ] });
}
function HoursSummary({
  schedule,
  use24Hour = false,
  defaultExpanded = false,
  className
}) {
  const [isExpanded, setIsExpanded] = React46.useState(defaultExpanded);
  const isOpen = isCurrentlyOpen(schedule.officeHours);
  const todayHours = getTodayHours(schedule.officeHours, use24Hour);
  const hasStructuredHours = schedule.officeHours && schedule.officeHours.length > 0;
  return /* @__PURE__ */ jsxs("div", { className: cn("hours-summary", className), children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => setIsExpanded(!isExpanded),
        className: cn(
          "flex w-full items-center justify-between rounded-lg p-3",
          "bg-neutral-50 hover:bg-neutral-100 dark:bg-neutral-800 dark:hover:bg-neutral-700",
          "transition-colors"
        ),
        "aria-expanded": isExpanded,
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ jsx(OpenStatusBadge, { isOpen }),
            /* @__PURE__ */ jsx("span", { className: "text-neutral-700 dark:text-neutral-300", children: todayHours })
          ] }),
          hasStructuredHours && /* @__PURE__ */ jsx(
            "svg",
            {
              className: cn(
                "h-5 w-5 text-neutral-400 transition-transform",
                isExpanded && "rotate-180"
              ),
              viewBox: "0 0 20 20",
              fill: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  fillRule: "evenodd",
                  d: "M5.22 8.22a.75.75 0 011.06 0L10 11.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.22 9.28a.75.75 0 010-1.06z",
                  clipRule: "evenodd"
                }
              )
            }
          )
        ]
      }
    ),
    isExpanded && hasStructuredHours && /* @__PURE__ */ jsx("div", { className: "mt-2 rounded-lg border border-neutral-200 bg-white p-3 dark:border-neutral-700 dark:bg-neutral-900", children: /* @__PURE__ */ jsx(
      BusinessHours,
      {
        schedule,
        showHeader: false,
        showStatus: false,
        use24Hour
      }
    ) })
  ] });
}
var DAY_NAMES2 = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday"
];
var DAY_NAMES_SHORT2 = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
function generateId2() {
  return Math.random().toString(36).substring(2, 9);
}
function getOrderedDays(weekStartsOn) {
  if (weekStartsOn === 1) {
    return [1, 2, 3, 4, 5, 6, 0];
  }
  return [0, 1, 2, 3, 4, 5, 6];
}
function ensureAllDays(schedule) {
  const result = [];
  for (let day = 0; day < 7; day++) {
    const existing = schedule.find((d) => d.day === day);
    result.push(existing || { day, hours: [] });
  }
  return result;
}
function BusinessHoursEditor({
  value,
  onChange,
  disabled = false,
  showDescription = true,
  use24Hour = false,
  weekStartsOn = 0,
  className,
  addHoursLabel = "Add Hours"
}) {
  const schedule = ensureAllDays(value);
  const orderedDays = getOrderedDays(weekStartsOn);
  const handleAddTimeSlot = useCallback(
    (dayIndex) => {
      const newSchedule = [...schedule];
      const daySchedule = newSchedule.find((d) => d.day === dayIndex);
      if (daySchedule) {
        daySchedule.hours = [
          ...daySchedule.hours,
          { id: generateId2(), start: "09:00", end: "17:00", description: "" }
        ];
        onChange(newSchedule);
      }
    },
    [schedule, onChange]
  );
  const handleRemoveTimeSlot = useCallback(
    (dayIndex, slotIndex) => {
      const newSchedule = [...schedule];
      const daySchedule = newSchedule.find((d) => d.day === dayIndex);
      if (daySchedule) {
        daySchedule.hours = daySchedule.hours.filter((_, i) => i !== slotIndex);
        onChange(newSchedule);
      }
    },
    [schedule, onChange]
  );
  const handleTimeChange = useCallback(
    (dayIndex, slotIndex, field, value2) => {
      const newSchedule = [...schedule];
      const daySchedule = newSchedule.find((d) => d.day === dayIndex);
      if (daySchedule && daySchedule.hours[slotIndex]) {
        daySchedule.hours[slotIndex] = {
          ...daySchedule.hours[slotIndex],
          [field]: value2
        };
        onChange(newSchedule);
      }
    },
    [schedule, onChange]
  );
  const handleCopyToAll = useCallback(
    (sourceDayIndex) => {
      const sourceDay = schedule.find((d) => d.day === sourceDayIndex);
      if (!sourceDay || sourceDay.hours.length === 0) return;
      const newSchedule = schedule.map((day) => {
        if (day.day === sourceDayIndex) return day;
        return {
          ...day,
          hours: sourceDay.hours.map((slot) => ({
            ...slot,
            id: generateId2()
          }))
        };
      });
      onChange(newSchedule);
    },
    [schedule, onChange]
  );
  const handleCopyToWeekdays = useCallback(
    (sourceDayIndex) => {
      const sourceDay = schedule.find((d) => d.day === sourceDayIndex);
      if (!sourceDay || sourceDay.hours.length === 0) return;
      const weekdays = [1, 2, 3, 4, 5];
      const newSchedule = schedule.map((day) => {
        if (day.day === sourceDayIndex || !weekdays.includes(day.day)) return day;
        return {
          ...day,
          hours: sourceDay.hours.map((slot) => ({
            ...slot,
            id: generateId2()
          }))
        };
      });
      onChange(newSchedule);
    },
    [schedule, onChange]
  );
  return /* @__PURE__ */ jsx("div", { className: cn("business-hours-editor space-y-4", className), children: orderedDays.map((dayIndex) => {
    const daySchedule = schedule.find((d) => d.day === dayIndex);
    const hours = daySchedule?.hours || [];
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: "border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-3", children: [
            /* @__PURE__ */ jsx("h4", { className: "text-sm font-medium text-gray-900 dark:text-gray-100", children: DAY_NAMES2[dayIndex] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              hours.length > 0 && /* @__PURE__ */ jsxs("div", { className: "relative group", children: [
                /* @__PURE__ */ jsxs(
                  Button,
                  {
                    type: "button",
                    variant: "ghost",
                    size: "sm",
                    disabled,
                    className: "text-xs",
                    children: [
                      /* @__PURE__ */ jsx(CopyIcon, { className: "h-3 w-3 mr-1" }),
                      "Copy"
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "absolute right-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10", children: [
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      type: "button",
                      className: "block w-full px-3 py-2 text-xs text-left hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",
                      onClick: () => handleCopyToAll(dayIndex),
                      disabled,
                      children: "Copy to all days"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "button",
                    {
                      type: "button",
                      className: "block w-full px-3 py-2 text-xs text-left hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",
                      onClick: () => handleCopyToWeekdays(dayIndex),
                      disabled,
                      children: "Copy to weekdays"
                    }
                  )
                ] })
              ] }),
              /* @__PURE__ */ jsxs(
                Button,
                {
                  type: "button",
                  variant: "ghost",
                  size: "sm",
                  onClick: () => handleAddTimeSlot(dayIndex),
                  disabled,
                  className: "text-xs",
                  children: [
                    /* @__PURE__ */ jsx(PlusIcon2, { className: "h-3 w-3 mr-1" }),
                    addHoursLabel
                  ]
                }
              )
            ] })
          ] }),
          hours.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 italic", children: "Closed" }) : /* @__PURE__ */ jsx("div", { className: "space-y-2", children: hours.map((slot, slotIndex) => /* @__PURE__ */ jsxs(
            "div",
            {
              className: "flex items-center gap-2 flex-wrap sm:flex-nowrap",
              children: [
                /* @__PURE__ */ jsx("div", { className: "w-24 sm:w-28", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "time",
                    value: slot.start,
                    onChange: (e) => handleTimeChange(
                      dayIndex,
                      slotIndex,
                      "start",
                      e.target.value
                    ),
                    disabled,
                    className: "text-sm",
                    "aria-label": `${DAY_NAMES_SHORT2[dayIndex]} start time`
                  }
                ) }),
                /* @__PURE__ */ jsx("span", { className: "text-gray-400", children: "\u2013" }),
                /* @__PURE__ */ jsx("div", { className: "w-24 sm:w-28", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "time",
                    value: slot.end,
                    onChange: (e) => handleTimeChange(
                      dayIndex,
                      slotIndex,
                      "end",
                      e.target.value
                    ),
                    disabled,
                    className: "text-sm",
                    "aria-label": `${DAY_NAMES_SHORT2[dayIndex]} end time`
                  }
                ) }),
                showDescription && /* @__PURE__ */ jsx("div", { className: "flex-1 min-w-[120px]", children: /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "text",
                    value: slot.description || "",
                    onChange: (e) => handleTimeChange(
                      dayIndex,
                      slotIndex,
                      "description",
                      e.target.value
                    ),
                    placeholder: "Description (optional)",
                    disabled,
                    className: "text-sm",
                    "aria-label": `${DAY_NAMES_SHORT2[dayIndex]} description`
                  }
                ) }),
                /* @__PURE__ */ jsx(
                  Button,
                  {
                    type: "button",
                    variant: "ghost",
                    size: "sm",
                    onClick: () => handleRemoveTimeSlot(dayIndex, slotIndex),
                    disabled,
                    className: "text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",
                    "aria-label": `Remove ${DAY_NAMES_SHORT2[dayIndex]} time slot`,
                    children: /* @__PURE__ */ jsx(XIcon, { className: "h-4 w-4" })
                  }
                )
              ]
            },
            slot.id || slotIndex
          )) })
        ]
      },
      dayIndex
    );
  }) });
}
function createDefaultSchedule() {
  return [
    { day: 0, hours: [] },
    // Sunday - Closed
    { day: 1, hours: [{ id: generateId2(), start: "09:00", end: "17:00" }] },
    { day: 2, hours: [{ id: generateId2(), start: "09:00", end: "17:00" }] },
    { day: 3, hours: [{ id: generateId2(), start: "09:00", end: "17:00" }] },
    { day: 4, hours: [{ id: generateId2(), start: "09:00", end: "17:00" }] },
    { day: 5, hours: [{ id: generateId2(), start: "09:00", end: "17:00" }] },
    { day: 6, hours: [] }
    // Saturday - Closed
  ];
}
function create24HourSchedule() {
  return Array.from({ length: 7 }, (_, day) => ({
    day,
    hours: [{ id: generateId2(), start: "00:00", end: "23:59" }]
  }));
}
function createWeekdaySchedule(start = "09:00", end = "17:00") {
  return Array.from({ length: 7 }, (_, day) => ({
    day,
    hours: day >= 1 && day <= 5 ? [{ id: generateId2(), start, end }] : []
  }));
}
function PlusIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { d: "M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" })
    }
  );
}
function XIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { d: "M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" })
    }
  );
}
function CopyIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className,
      "aria-hidden": "true",
      children: [
        /* @__PURE__ */ jsx("path", { d: "M7 3.5A1.5 1.5 0 018.5 2h3.879a1.5 1.5 0 011.06.44l3.122 3.12A1.5 1.5 0 0117 6.622V12.5a1.5 1.5 0 01-1.5 1.5h-1v-3.379a3 3 0 00-.879-2.121L10.5 5.379A3 3 0 008.379 4.5H7v-1z" }),
        /* @__PURE__ */ jsx("path", { d: "M4.5 6A1.5 1.5 0 003 7.5v9A1.5 1.5 0 004.5 18h7a1.5 1.5 0 001.5-1.5v-5.879a1.5 1.5 0 00-.44-1.06L9.44 6.439A1.5 1.5 0 008.378 6H4.5z" })
      ]
    }
  );
}
function CheckrIntegration({
  connected = false,
  account,
  reports = [],
  packages = [],
  onConnect,
  onDisconnect,
  onInviteCandidate,
  onViewReport,
  onRefresh,
  loading = false,
  error,
  className,
  labels = {}
}) {
  const {
    connect = "Connect Checkr",
    disconnect = "Disconnect",
    inviteCandidate = "Invite Candidate",
    viewReports = "View Reports",
    noReports = "No background checks yet",
    refresh = "Refresh",
    pending = "Pending",
    running = "Running",
    complete = "Complete",
    failed = "Failed",
    expired = "Expired",
    clear = "Clear",
    consider = "Consider",
    adverseAction = "Adverse Action",
    name = "Full Name",
    email = "Email",
    phone = "Phone",
    package: packageLabel = "Package",
    submit = "Send Invitation",
    cancel = "Cancel"
  } = labels;
  const [showInviteModal, setShowInviteModal] = React46.useState(false);
  const [candidateName, setCandidateName] = React46.useState("");
  const [candidateEmail, setCandidateEmail] = React46.useState("");
  const [candidatePhone, setCandidatePhone] = React46.useState("");
  const [selectedPackage, setSelectedPackage] = React46.useState(packages[0]?.id || "");
  const statusLabels = {
    pending,
    running,
    complete,
    failed,
    expired
  };
  const resultLabels = {
    clear,
    consider,
    adverse_action: adverseAction
  };
  const statusColors2 = {
    pending: "bg-yellow-100 text-yellow-800",
    running: "bg-blue-100 text-blue-800",
    complete: "bg-green-100 text-green-800",
    failed: "bg-red-100 text-red-800",
    expired: "bg-gray-100 text-gray-800"
  };
  const resultColors = {
    clear: "text-green-600",
    consider: "text-yellow-600",
    adverse_action: "text-red-600"
  };
  const handleInviteSubmit = (e) => {
    e.preventDefault();
    if (candidateName && candidateEmail && selectedPackage) {
      onInviteCandidate?.(
        { name: candidateName, email: candidateEmail, phone: candidatePhone || void 0 },
        selectedPackage
      );
      setShowInviteModal(false);
      setCandidateName("");
      setCandidateEmail("");
      setCandidatePhone("");
    }
  };
  const formatDate4 = (date) => {
    if (!date) return "";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("checkr-integration", className), children: [
    /* @__PURE__ */ jsxs("div", { className: "mb-6 flex items-center justify-between", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsx("div", { className: "flex h-12 w-12 items-center justify-center rounded-lg bg-emerald-100", children: /* @__PURE__ */ jsx("i", { className: "fas fa-user-shield text-xl text-emerald-600" }) }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold", children: "Checkr" }),
          connected && account?.name && /* @__PURE__ */ jsxs("p", { className: "text-sm text-muted-foreground", children: [
            account.name,
            account.plan && /* @__PURE__ */ jsxs("span", { className: "ml-2 text-xs", children: [
              "(",
              account.plan,
              ")"
            ] })
          ] })
        ] })
      ] }),
      connected ? /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: onDisconnect,
          className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
          children: disconnect
        }
      ) : /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: onConnect,
          className: "rounded-lg bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700",
          children: [
            /* @__PURE__ */ jsx("i", { className: "fas fa-link mr-2" }),
            connect
          ]
        }
      )
    ] }),
    error && /* @__PURE__ */ jsxs("div", { className: "mb-4 rounded-lg border border-red-200 bg-red-50 p-4 text-red-600", children: [
      /* @__PURE__ */ jsx("i", { className: "fas fa-exclamation-circle mr-2" }),
      error
    ] }),
    connected && /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-6 flex flex-wrap gap-3", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => setShowInviteModal(true),
            className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-user-plus mr-2" }),
              inviteCandidate
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onRefresh,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-sync-alt mr-2" }),
              refresh
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "rounded-lg border", children: [
        /* @__PURE__ */ jsx("div", { className: "border-b bg-gray-50 px-4 py-3", children: /* @__PURE__ */ jsx("h4", { className: "font-medium", children: viewReports }) }),
        loading ? /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center p-8", children: /* @__PURE__ */ jsx("div", { className: "h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent" }) }) : reports.length > 0 ? /* @__PURE__ */ jsx("div", { className: "divide-y", children: reports.map((report) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "flex items-center justify-between p-4 hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsx("div", { className: "flex items-center gap-4", children: /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium", children: report.candidate.name }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-muted-foreground", children: report.candidate.email }),
                report.packageName && /* @__PURE__ */ jsx("p", { className: "text-xs text-muted-foreground", children: report.packageName })
              ] }) }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
                /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
                  /* @__PURE__ */ jsx(
                    "span",
                    {
                      className: cn(
                        "inline-block rounded-full px-2 py-0.5 text-xs font-medium",
                        statusColors2[report.status]
                      ),
                      children: statusLabels[report.status] || report.status
                    }
                  ),
                  report.result && /* @__PURE__ */ jsx(
                    "p",
                    {
                      className: cn(
                        "mt-1 text-sm font-medium",
                        resultColors[report.result]
                      ),
                      children: resultLabels[report.result] || report.result
                    }
                  ),
                  /* @__PURE__ */ jsx("p", { className: "text-xs text-muted-foreground", children: formatDate4(report.completedAt || report.createdAt) })
                ] }),
                report.reportUrl && /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => onViewReport?.(report),
                    className: "rounded-lg border border-gray-300 p-2 hover:bg-gray-100",
                    title: "View Report",
                    children: /* @__PURE__ */ jsx("i", { className: "fas fa-external-link-alt text-gray-600" })
                  }
                )
              ] })
            ]
          },
          report.id
        )) }) : /* @__PURE__ */ jsxs("div", { className: "py-8 text-center text-muted-foreground", children: [
          /* @__PURE__ */ jsx("i", { className: "fas fa-clipboard-list mb-2 text-3xl text-gray-300" }),
          /* @__PURE__ */ jsx("p", { children: noReports })
        ] })
      ] })
    ] }),
    !connected && !error && /* @__PURE__ */ jsxs("div", { className: "rounded-lg border border-dashed p-8 text-center", children: [
      /* @__PURE__ */ jsx("i", { className: "fas fa-link-slash mb-4 text-4xl text-gray-300" }),
      /* @__PURE__ */ jsx("p", { className: "mb-4 text-muted-foreground", children: "Connect your Checkr account to run background checks on candidates" }),
      /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: onConnect,
          className: "rounded-lg bg-emerald-600 px-6 py-2 text-white hover:bg-emerald-700",
          children: [
            /* @__PURE__ */ jsx("i", { className: "fas fa-link mr-2" }),
            connect
          ]
        }
      )
    ] }),
    showInviteModal && /* @__PURE__ */ jsxs("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", children: [
      /* @__PURE__ */ jsx(
        "div",
        {
          className: "fixed inset-0 bg-black/50",
          onClick: () => setShowInviteModal(false)
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "relative z-10 w-full max-w-md rounded-xl bg-white p-6 shadow-xl", children: [
        /* @__PURE__ */ jsx("h3", { className: "mb-4 text-lg font-semibold", children: inviteCandidate }),
        /* @__PURE__ */ jsxs("form", { onSubmit: handleInviteSubmit, children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: name }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "text",
                  value: candidateName,
                  onChange: (e) => setCandidateName(e.target.value),
                  className: "w-full rounded-lg border border-gray-300 px-3 py-2",
                  required: true
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: email }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "email",
                  value: candidateEmail,
                  onChange: (e) => setCandidateEmail(e.target.value),
                  className: "w-full rounded-lg border border-gray-300 px-3 py-2",
                  required: true
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: phone }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "tel",
                  value: candidatePhone,
                  onChange: (e) => setCandidatePhone(e.target.value),
                  className: "w-full rounded-lg border border-gray-300 px-3 py-2"
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: packageLabel }),
              /* @__PURE__ */ jsx(
                "select",
                {
                  value: selectedPackage,
                  onChange: (e) => setSelectedPackage(e.target.value),
                  className: "w-full rounded-lg border border-gray-300 px-3 py-2",
                  required: true,
                  children: packages.map((pkg) => /* @__PURE__ */ jsx("option", { value: pkg.id, children: pkg.name }, pkg.id))
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-6 flex justify-end gap-3", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: () => setShowInviteModal(false),
                className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
                children: cancel
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "submit",
                className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
                children: submit
              }
            )
          ] })
        ] })
      ] })
    ] })
  ] });
}
var CommandPaletteContext = createContext(
  null
);
function CommandPaletteProvider({
  children,
  enableShortcut = true,
  customEventName
}) {
  const [isOpen, setIsOpen] = useState(false);
  const [query, setQuery] = useState("");
  const [selectedIndex, setSelectedIndex] = useState(-1);
  const [activeCategory, setActiveCategory] = useState(null);
  const [items, setItems] = useState([]);
  const [categories, setCategories] = useState([]);
  const open = useCallback(() => {
    setIsOpen(true);
    setQuery("");
    setSelectedIndex(-1);
    setActiveCategory(null);
  }, []);
  const close = useCallback(() => {
    setIsOpen(false);
    setQuery("");
    setSelectedIndex(-1);
  }, []);
  const toggle = useCallback(() => {
    if (isOpen) {
      close();
    } else {
      open();
    }
  }, [isOpen, open, close]);
  useCommandK(toggle, enableShortcut);
  React46__default.useEffect(() => {
    if (!customEventName) return;
    const handler = () => open();
    document.addEventListener(customEventName, handler);
    return () => document.removeEventListener(customEventName, handler);
  }, [customEventName, open]);
  const contextValue = useMemo(
    () => ({
      isOpen,
      open,
      close,
      toggle,
      query,
      setQuery,
      selectedIndex,
      setSelectedIndex,
      activeCategory,
      setActiveCategory,
      items,
      categories,
      setItems,
      setCategories
    }),
    [
      isOpen,
      open,
      close,
      toggle,
      query,
      selectedIndex,
      activeCategory,
      items,
      categories
    ]
  );
  return /* @__PURE__ */ jsx(CommandPaletteContext.Provider, { value: contextValue, children });
}
function useCommandPalette() {
  const context = useContext(CommandPaletteContext);
  if (!context) {
    throw new Error(
      "useCommandPalette must be used within a CommandPaletteProvider"
    );
  }
  return context;
}
var SearchIcon2 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      }
    )
  }
);
var XIcon2 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-4 w-4",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M6 18L18 6M6 6l12 12"
      }
    )
  }
);
var SpinnerIcon3 = () => /* @__PURE__ */ jsxs("svg", { className: "h-4 w-4 animate-spin", fill: "none", viewBox: "0 0 24 24", children: [
  /* @__PURE__ */ jsx(
    "circle",
    {
      className: "opacity-25",
      cx: "12",
      cy: "12",
      r: "10",
      stroke: "currentColor",
      strokeWidth: "4"
    }
  ),
  /* @__PURE__ */ jsx(
    "path",
    {
      className: "opacity-75",
      fill: "currentColor",
      d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
    }
  )
] });
var isMac2 = typeof window !== "undefined" && typeof window.navigator !== "undefined" && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);
function CommandPalette({
  placeholder = "Search...",
  isLoading = false,
  onSelect,
  emptyState,
  renderItem,
  footer,
  className,
  "data-testid": testId = "command-palette"
}) {
  const {
    isOpen,
    close,
    query,
    setQuery,
    selectedIndex,
    setSelectedIndex,
    activeCategory,
    setActiveCategory,
    items,
    categories
  } = useCommandPalette();
  const inputRef = useRef(null);
  const containerRef = useRef(null);
  const listRef = useRef(null);
  const filteredItems = useMemo(() => {
    let result = items;
    if (activeCategory) {
      result = result.filter((item) => item.category === activeCategory);
    }
    if (query.trim()) {
      const lowerQuery = query.toLowerCase();
      result = result.filter(
        (item) => item.label.toLowerCase().includes(lowerQuery) || item.subtitle?.toLowerCase().includes(lowerQuery) || item.description?.toLowerCase().includes(lowerQuery)
      );
    }
    return result;
  }, [items, query, activeCategory]);
  const groupedItems = useMemo(() => {
    const groups = /* @__PURE__ */ new Map();
    filteredItems.forEach((item) => {
      const category = item.category ?? "Other";
      const group = groups.get(category) ?? [];
      group.push(item);
      groups.set(category, group);
    });
    return groups;
  }, [filteredItems]);
  useEscapeKey(close, isOpen);
  useClickOutside(containerRef, close);
  useEffect(() => {
    if (isOpen) {
      setTimeout(() => inputRef.current?.focus(), 50);
    }
  }, [isOpen]);
  useEffect(() => {
    setSelectedIndex(filteredItems.length > 0 ? 0 : -1);
  }, [filteredItems.length, setSelectedIndex]);
  useEffect(() => {
    if (selectedIndex >= 0 && listRef.current) {
      const selectedElement = listRef.current.querySelector(
        `[data-index="${selectedIndex}"]`
      );
      selectedElement?.scrollIntoView({ block: "nearest" });
    }
  }, [selectedIndex]);
  const handleKeyDown = useCallback(
    (e) => {
      switch (e.key) {
        case "ArrowDown":
          e.preventDefault();
          setSelectedIndex(
            Math.min(selectedIndex + 1, filteredItems.length - 1)
          );
          break;
        case "ArrowUp":
          e.preventDefault();
          setSelectedIndex(Math.max(selectedIndex - 1, 0));
          break;
        case "Enter":
          e.preventDefault();
          if (selectedIndex >= 0 && filteredItems[selectedIndex]) {
            const item = filteredItems[selectedIndex];
            if (!item.disabled) {
              onSelect?.(item);
              close();
            }
          }
          break;
        case "Tab":
          e.preventDefault();
          if (categories.length > 0) {
            const currentIdx = activeCategory ? categories.findIndex((c) => c.id === activeCategory) : -1;
            const nextIdx = e.shiftKey ? currentIdx <= 0 ? categories.length - 1 : currentIdx - 1 : currentIdx >= categories.length - 1 ? -1 : currentIdx + 1;
            setActiveCategory(nextIdx === -1 ? null : categories[nextIdx].id);
          }
          break;
      }
    },
    [
      filteredItems,
      selectedIndex,
      setSelectedIndex,
      onSelect,
      close,
      categories,
      activeCategory,
      setActiveCategory
    ]
  );
  const handleItemClick = useCallback(
    (item) => {
      if (!item.disabled) {
        onSelect?.(item);
        close();
      }
    },
    [onSelect, close]
  );
  const getCategoryInfo = useCallback(
    (categoryId) => {
      return categories.find((c) => c.id === categoryId);
    },
    [categories]
  );
  if (!isOpen) return null;
  let globalIndex = -1;
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 z-50 bg-black/50 backdrop-blur-sm dark:bg-black/70",
        "aria-hidden": "true"
      }
    ),
    /* @__PURE__ */ jsx("div", { className: "fixed inset-x-0 top-20 z-50 mx-auto max-w-2xl px-4", children: /* @__PURE__ */ jsxs(
      "div",
      {
        ref: containerRef,
        "data-testid": testId,
        className: cn(
          "rounded-xl border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800",
          "overflow-hidden shadow-2xl",
          className
        ),
        children: [
          /* @__PURE__ */ jsxs("div", { className: "relative border-b border-gray-200 dark:border-gray-700", children: [
            /* @__PURE__ */ jsx("div", { className: "absolute top-1/2 left-4 -translate-y-1/2 text-gray-400", children: /* @__PURE__ */ jsx(SearchIcon2, {}) }),
            /* @__PURE__ */ jsx(
              "input",
              {
                ref: inputRef,
                type: "text",
                value: query,
                onChange: (e) => setQuery(e.target.value),
                onKeyDown: handleKeyDown,
                placeholder,
                autoFocus: true,
                "data-testid": `${testId}-input`,
                className: cn(
                  "w-full bg-transparent py-4 pr-12 pl-12 text-base",
                  "focus:outline-none dark:text-white dark:placeholder-gray-400"
                )
              }
            ),
            query && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => setQuery(""),
                "data-testid": `${testId}-clear`,
                className: "absolute top-1/2 right-12 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",
                children: /* @__PURE__ */ jsx(XIcon2, {})
              }
            ),
            isLoading && /* @__PURE__ */ jsx("div", { className: "text-primary-500 absolute top-1/2 right-4 -translate-y-1/2", children: /* @__PURE__ */ jsx(SpinnerIcon3, {}) })
          ] }),
          categories.length > 0 && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1 overflow-x-auto border-b border-gray-100 p-2 dark:border-gray-700", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: () => setActiveCategory(null),
                "data-testid": `${testId}-filter-all`,
                className: cn(
                  "rounded px-2 py-1 text-xs font-medium transition-colors",
                  activeCategory === null ? "bg-primary-500 text-white" : "text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"
                ),
                children: "All"
              }
            ),
            categories.map((cat) => /* @__PURE__ */ jsxs(
              "button",
              {
                onClick: () => setActiveCategory(cat.id),
                "data-testid": `${testId}-filter-${cat.id}`,
                className: cn(
                  "flex items-center gap-1 rounded px-2 py-1 text-xs font-medium transition-colors",
                  activeCategory === cat.id ? "bg-primary-500 text-white" : "text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"
                ),
                children: [
                  cat.icon && /* @__PURE__ */ jsx("span", { className: "h-3 w-3", children: cat.icon }),
                  cat.label
                ]
              },
              cat.id
            ))
          ] }),
          /* @__PURE__ */ jsx("div", { ref: listRef, className: "max-h-[60vh] overflow-y-auto", children: filteredItems.length === 0 ? /* @__PURE__ */ jsx("div", { className: "p-8 text-center text-gray-500 dark:text-gray-400", children: emptyState ?? /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsx("div", { className: "mx-auto mb-2 h-8 w-8 opacity-50", children: /* @__PURE__ */ jsx(SearchIcon2, {}) }),
            /* @__PURE__ */ jsx("p", { className: "text-sm", children: query.trim() ? `No results for "${query}"` : "Start typing to search..." })
          ] }) }) : Array.from(groupedItems.entries()).map(
            ([categoryId, categoryItems]) => {
              const categoryInfo = getCategoryInfo(categoryId);
              return /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(
                      "sticky top-0 px-3 py-2 text-xs font-semibold",
                      "text-gray-500 dark:text-gray-400",
                      "bg-gray-50 dark:bg-gray-900/50"
                    ),
                    children: [
                      categoryInfo?.icon && /* @__PURE__ */ jsx(
                        "span",
                        {
                          className: cn(
                            "mr-2 inline-block h-4 w-4 align-middle",
                            categoryInfo.colorClass
                          ),
                          children: categoryInfo.icon
                        }
                      ),
                      categoryInfo?.label ?? categoryId,
                      " (",
                      categoryItems.length,
                      ")"
                    ]
                  }
                ),
                categoryItems.map((item) => {
                  globalIndex++;
                  const currentIndex = globalIndex;
                  const isSelected = currentIndex === selectedIndex;
                  if (renderItem) {
                    return /* @__PURE__ */ jsx(
                      "div",
                      {
                        role: "option",
                        "aria-selected": isSelected,
                        "data-index": currentIndex,
                        onClick: () => handleItemClick(item),
                        onKeyDown: (e) => {
                          if (e.key === "Enter" || e.key === " ") {
                            e.preventDefault();
                            handleItemClick(item);
                          }
                        },
                        onMouseEnter: () => setSelectedIndex(currentIndex),
                        tabIndex: 0,
                        children: renderItem(item, {
                          isSelected,
                          index: currentIndex
                        })
                      },
                      item.id
                    );
                  }
                  return /* @__PURE__ */ jsxs(
                    "button",
                    {
                      "data-index": currentIndex,
                      onClick: () => handleItemClick(item),
                      onMouseEnter: () => setSelectedIndex(currentIndex),
                      disabled: item.disabled,
                      className: cn(
                        "flex w-full items-start gap-3 px-4 py-3 text-left transition-colors",
                        isSelected ? "bg-primary-50 dark:bg-primary-500/20" : "hover:bg-gray-50 dark:hover:bg-gray-700/50",
                        item.disabled && "cursor-not-allowed opacity-50"
                      ),
                      children: [
                        item.icon && /* @__PURE__ */ jsx(
                          "div",
                          {
                            className: cn(
                              "mt-0.5 h-4 w-4 flex-shrink-0",
                              isSelected ? "text-primary-600 dark:text-primary-400" : "text-gray-400"
                            ),
                            children: item.icon
                          }
                        ),
                        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
                          /* @__PURE__ */ jsx("div", { className: "truncate text-sm font-medium text-gray-900 dark:text-white", children: item.label }),
                          item.subtitle && /* @__PURE__ */ jsx("div", { className: "truncate text-xs text-gray-500 dark:text-gray-400", children: item.subtitle }),
                          item.description && /* @__PURE__ */ jsx("div", { className: "mt-0.5 truncate text-xs text-gray-400 dark:text-gray-500", children: item.description })
                        ] }),
                        item.shortcut && /* @__PURE__ */ jsx(
                          "kbd",
                          {
                            className: cn(
                              "hidden items-center px-1.5 py-0.5 text-[10px] sm:inline-flex",
                              "rounded border bg-gray-100 dark:bg-gray-700",
                              "border-gray-200 dark:border-gray-600",
                              "text-gray-600 dark:text-gray-400"
                            ),
                            children: item.shortcut
                          }
                        )
                      ]
                    },
                    item.id
                  );
                })
              ] }, categoryId);
            }
          ) }),
          footer ?? /* @__PURE__ */ jsxs(
            "div",
            {
              className: cn(
                "border-t border-gray-100 p-2 dark:border-gray-700",
                "bg-gray-50 text-xs text-gray-500 dark:bg-gray-900/50 dark:text-gray-400",
                "flex items-center justify-between"
              ),
              children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ jsx("kbd", { className: "rounded border border-gray-200 bg-white px-1 py-0.5 dark:border-gray-600 dark:bg-gray-700", children: "\u2191\u2193" }),
                  /* @__PURE__ */ jsx("span", { children: "navigate" }),
                  /* @__PURE__ */ jsx("kbd", { className: "ml-2 rounded border border-gray-200 bg-white px-1 py-0.5 dark:border-gray-600 dark:bg-gray-700", children: "\u21B5" }),
                  /* @__PURE__ */ jsx("span", { children: "select" }),
                  /* @__PURE__ */ jsx("kbd", { className: "ml-2 rounded border border-gray-200 bg-white px-1 py-0.5 dark:border-gray-600 dark:bg-gray-700", children: "esc" }),
                  /* @__PURE__ */ jsx("span", { children: "close" })
                ] }),
                /* @__PURE__ */ jsxs("span", { children: [
                  filteredItems.length,
                  " results"
                ] })
              ]
            }
          )
        ]
      }
    ) })
  ] });
}
function CommandPaletteTrigger({
  children,
  placeholder = "Search...",
  className,
  "data-testid": testId = "command-palette-trigger"
}) {
  const { open } = useCommandPalette();
  return /* @__PURE__ */ jsx(
    "button",
    {
      onClick: open,
      "data-testid": testId,
      className: cn(
        "flex items-center gap-3 rounded-lg border border-gray-300 dark:border-gray-600",
        "bg-white px-4 py-2.5 text-sm text-gray-500 dark:bg-gray-700 dark:text-gray-400",
        "hover:border-gray-400 dark:hover:border-gray-500",
        "transition-colors hover:bg-gray-50 dark:hover:bg-gray-600",
        "min-w-[200px] sm:min-w-[300px]",
        className
      ),
      children: children ?? /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsx(SearchIcon2, {}),
        /* @__PURE__ */ jsx("span", { className: "flex-1 text-left whitespace-nowrap", children: placeholder }),
        /* @__PURE__ */ jsxs(
          "kbd",
          {
            className: cn(
              "inline-flex items-center gap-0.5 px-2 py-0.5",
              "rounded border border-gray-200 bg-gray-100 dark:border-gray-500 dark:bg-gray-600",
              "flex-shrink-0 text-xs text-gray-600 dark:text-gray-300"
            ),
            children: [
              isMac2 ? "\u2318" : "Ctrl",
              "+K"
            ]
          }
        )
      ] })
    }
  );
}
var overlayVariants = cva(
  "fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",
  {
    variants: {
      animate: {
        true: "animate-in fade-in duration-300",
        false: ""
      }
    },
    defaultVariants: {
      animate: true
    }
  }
);
var cardVariants2 = cva(
  "mx-4 w-full max-w-lg rounded-xl bg-white p-6 shadow-2xl dark:bg-gray-800",
  {
    variants: {
      animate: {
        true: "animate-in slide-in-from-bottom-4 duration-300",
        false: ""
      }
    },
    defaultVariants: {
      animate: true
    }
  }
);
function ConnectionStatusOverlay({
  connection,
  isVisible = true,
  animate = true,
  onReload,
  message,
  logoUrl,
  className
}) {
  if (!isVisible || connection.status === "connected") return null;
  const defaultMessage = "Unable to communicate with the server.";
  const displayMessage = message || defaultMessage;
  const retryTimeFormatted = connection.retryTime ? formatRetryTime(connection.retryTime) : null;
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "alertdialog",
      "aria-label": "Connection status",
      "aria-live": "assertive",
      className: cn(overlayVariants({ animate }), className),
      children: /* @__PURE__ */ jsx("div", { className: cn(cardVariants2({ animate })), children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-4 text-center md:flex-row md:text-left", children: [
        /* @__PURE__ */ jsx("div", { className: "shrink-0", children: /* @__PURE__ */ jsx(ConnectionIcon, { status: connection.status, className: "h-12 w-12" }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
          /* @__PURE__ */ jsx("p", { className: "text-gray-700 dark:text-gray-300", children: displayMessage }),
          /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-gray-500 dark:text-gray-400", children: "Please check your internet connection." }),
          connection.retryCount !== void 0 && connection.retryCount > 0 && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-xs text-gray-400 dark:text-gray-500", children: [
            "Retry attempt #",
            connection.retryCount,
            retryTimeFormatted && ` \u2022 Retrying ${retryTimeFormatted}`
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "shrink-0", children: /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onReload || (() => window.location.reload()),
            className: "bg-primary-600 hover:bg-primary-700 inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors",
            children: [
              /* @__PURE__ */ jsx(ReloadIcon, { className: "h-4 w-4" }),
              "Reload"
            ]
          }
        ) })
      ] }) })
    }
  );
}
function UpdateAvailableOverlay({
  update,
  isVisible = true,
  onUpdateNow,
  onLater,
  logoUrl = "/images/logos/bluehive-icon-blue.svg",
  appName = "BlueHive",
  className
}) {
  if (!isVisible || !update.available) return null;
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "alertdialog",
      "aria-label": "Update available",
      "aria-live": "polite",
      className: cn(overlayVariants({ animate: true }), className),
      children: /* @__PURE__ */ jsx("div", { className: cn(cardVariants2({ animate: true })), children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-4 text-center md:flex-row md:text-left", children: [
        /* @__PURE__ */ jsx("div", { className: "shrink-0", children: logoUrl ? /* @__PURE__ */ jsx(
          "img",
          {
            src: logoUrl,
            alt: appName,
            className: "h-12 w-12 animate-pulse"
          }
        ) : /* @__PURE__ */ jsx(UpdateIcon, { className: "text-primary-600 h-12 w-12 animate-pulse" }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
          /* @__PURE__ */ jsx("p", { className: "font-semibold text-gray-900 dark:text-white", children: "Update Available" }),
          /* @__PURE__ */ jsxs("p", { className: "mt-1 text-sm text-gray-600 dark:text-gray-400", children: [
            "There is an update available for ",
            appName,
            ".",
            update.version && ` Version ${update.version}`
          ] }),
          update.description && /* @__PURE__ */ jsx("p", { className: "mt-1 text-xs text-gray-500 dark:text-gray-500", children: update.description })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex shrink-0 gap-2", children: [
          onLater && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: onLater,
              className: "rounded-lg bg-red-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-600",
              children: "Later"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: onUpdateNow,
              className: "rounded-lg bg-green-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-600",
              children: "Update Now"
            }
          )
        ] })
      ] }) })
    }
  );
}
var badgeVariants2 = cva(
  "inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium",
  {
    variants: {
      status: {
        connected: "bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",
        connecting: "bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",
        disconnected: "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",
        waiting: "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"
      }
    },
    defaultVariants: {
      status: "connected"
    }
  }
);
function ConnectionStatusBadge({
  status,
  showLabel = true,
  className
}) {
  const labels = {
    connected: "Connected",
    connecting: "Connecting...",
    disconnected: "Offline",
    waiting: "Reconnecting..."
  };
  return /* @__PURE__ */ jsxs("span", { className: cn(badgeVariants2({ status }), className), children: [
    /* @__PURE__ */ jsx(ConnectionDot, { status }),
    showLabel && labels[status]
  ] });
}
function ConnectionStatusBar({
  connection,
  isVisible = true,
  position = "top",
  className
}) {
  if (!isVisible || connection.status === "connected") return null;
  const isConnecting = connection.status === "connecting" || connection.status === "waiting";
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "status",
      "aria-live": "polite",
      className: cn(
        "fixed right-0 left-0 z-40 px-4 py-2",
        position === "top" ? "top-0" : "bottom-0",
        isConnecting ? "bg-yellow-500 text-yellow-900" : "bg-red-500 text-white",
        className
      ),
      children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto flex items-center justify-center gap-2 text-sm", children: [
        /* @__PURE__ */ jsx(ConnectionDot, { status: connection.status }),
        /* @__PURE__ */ jsxs("span", { children: [
          connection.status === "disconnected" && "You are offline",
          connection.status === "connecting" && "Connecting...",
          connection.status === "waiting" && /* @__PURE__ */ jsxs(Fragment, { children: [
            "Reconnecting",
            connection.retryCount !== void 0 && connection.retryCount > 0 && /* @__PURE__ */ jsxs("span", { className: "opacity-75", children: [
              " ",
              "(attempt ",
              connection.retryCount,
              ")"
            ] })
          ] })
        ] })
      ] })
    }
  );
}
function ConnectionDot({ status }) {
  const colors = {
    connected: "bg-green-500",
    connecting: "bg-yellow-500 animate-pulse",
    disconnected: "bg-red-500",
    waiting: "bg-red-500 animate-pulse"
  };
  return /* @__PURE__ */ jsx("span", { className: cn("h-2 w-2 rounded-full", colors[status]) });
}
function ConnectionIcon({
  status,
  className
}) {
  if (status === "connected") {
    return /* @__PURE__ */ jsx(
      "svg",
      {
        className: cn("text-green-500", className),
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
        children: /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
          }
        )
      }
    );
  }
  const colorClass = status === "connecting" || status === "waiting" ? "text-yellow-500" : "text-red-500";
  const animateClass = status === "connecting" || status === "waiting" ? "animate-pulse" : "";
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: cn(colorClass, animateClass, className),
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"
        }
      )
    }
  );
}
function ReloadIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
        }
      )
    }
  );
}
function UpdateIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"
        }
      )
    }
  );
}
function formatRetryTime(time) {
  const date = typeof time === "number" ? new Date(time) : time;
  const now = /* @__PURE__ */ new Date();
  const diff = date.getTime() - now.getTime();
  if (diff <= 0) return "now";
  if (diff < 6e4) return `in ${Math.ceil(diff / 1e3)}s`;
  return `in ${Math.ceil(diff / 6e4)}m`;
}
function useConnectionStatus(options = {}) {
  const { onDisconnect, onReconnect } = options;
  const [isOnline, setIsOnline] = React46.useState(() => {
    if (typeof window === "undefined") return true;
    return navigator.onLine;
  });
  React46.useEffect(() => {
    const handleOnline = () => {
      setIsOnline(true);
      onReconnect?.();
    };
    const handleOffline = () => {
      setIsOnline(false);
      onDisconnect?.();
    };
    window.addEventListener("online", handleOnline);
    window.addEventListener("offline", handleOffline);
    return () => {
      window.removeEventListener("online", handleOnline);
      window.removeEventListener("offline", handleOffline);
    };
  }, [onDisconnect, onReconnect]);
  const connection = {
    status: isOnline ? "connected" : "disconnected"
  };
  return { isOnline, connection };
}
var bannerVariants = cva(
  "fixed z-50 transition-all duration-300 ease-in-out",
  {
    variants: {
      position: {
        bottom: "bottom-0 left-0 right-0",
        top: "top-0 left-0 right-0",
        "bottom-left": "bottom-4 left-4 max-w-md",
        "bottom-right": "bottom-4 right-4 max-w-md"
      },
      variant: {
        default: "bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg",
        minimal: "bg-gray-900 text-white",
        branded: "bg-primary-600 text-white"
      }
    },
    defaultVariants: {
      position: "bottom",
      variant: "default"
    }
  }
);
function CookieConsentBanner({
  isVisible = true,
  position = "bottom",
  variant = "default",
  onAccept,
  onDecline,
  onCustomize,
  message,
  termsLink,
  privacyLink,
  cookieLink,
  acceptText = "I Agree",
  declineText = "Decline",
  customizeText = "Customize",
  showDecline = false,
  showCustomize = false,
  appName = "BlueHive",
  isMobileApp = false,
  className
}) {
  const [isAnimating, setIsAnimating] = React46.useState(false);
  const handleAccept = () => {
    setIsAnimating(true);
    setTimeout(() => {
      onAccept();
    }, 200);
  };
  if (!isVisible) return null;
  const defaultMessage = isMobileApp ? "This application uses cookies." : "This application and website use cookies.";
  const displayMessage = message || defaultMessage;
  const legalLinks = [termsLink, privacyLink, cookieLink].filter(Boolean);
  const isCompact = position === "bottom-left" || position === "bottom-right";
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "dialog",
      "aria-label": "Cookie consent",
      "aria-live": "polite",
      className: cn(
        bannerVariants({ position, variant }),
        isAnimating && "translate-y-4 opacity-0",
        isCompact && "rounded-lg shadow-xl",
        className
      ),
      children: /* @__PURE__ */ jsx("div", { className: cn("p-4", !isCompact && "container mx-auto"), children: /* @__PURE__ */ jsxs(
        "div",
        {
          className: cn(
            isCompact ? "space-y-3" : "flex flex-col gap-4 md:flex-row md:items-center md:justify-between"
          ),
          children: [
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: cn(
                  "text-sm",
                  variant === "default" ? "text-gray-700 dark:text-gray-300" : "text-white/90"
                ),
                children: [
                  /* @__PURE__ */ jsx("p", { className: "mb-1", children: /* @__PURE__ */ jsx("strong", { children: displayMessage }) }),
                  /* @__PURE__ */ jsxs(
                    "p",
                    {
                      className: cn(
                        "text-xs",
                        variant === "default" ? "text-gray-600 dark:text-gray-400" : "text-white/80"
                      ),
                      children: [
                        "By using ",
                        appName,
                        " you are agreeing to our",
                        " ",
                        legalLinks.map((link, index) => /* @__PURE__ */ jsxs(React46.Fragment, { children: [
                          index > 0 && (index === legalLinks.length - 1 ? " and " : ", "),
                          /* @__PURE__ */ jsx(
                            "a",
                            {
                              href: link.href,
                              className: cn(
                                "underline hover:no-underline",
                                variant === "default" ? "text-primary-600 hover:text-primary-700 dark:text-primary-400" : "text-white hover:text-white/80"
                              ),
                              children: link.label
                            }
                          )
                        ] }, link.href)),
                        legalLinks.length > 0 && " and our use of cookies."
                      ]
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "div",
              {
                className: cn(
                  "flex gap-2",
                  isCompact ? "flex-col" : "flex-shrink-0"
                ),
                children: [
                  showCustomize && onCustomize && /* @__PURE__ */ jsx(
                    "button",
                    {
                      type: "button",
                      onClick: onCustomize,
                      className: cn(
                        "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
                        variant === "default" ? "text-gray-600 hover:bg-gray-100 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200" : "text-white/80 hover:bg-white/10 hover:text-white"
                      ),
                      children: customizeText
                    }
                  ),
                  showDecline && onDecline && /* @__PURE__ */ jsx(
                    "button",
                    {
                      type: "button",
                      onClick: onDecline,
                      className: cn(
                        "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
                        variant === "default" ? "text-gray-600 hover:bg-gray-100 hover:text-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200" : "text-white/80 hover:bg-white/10 hover:text-white"
                      ),
                      children: declineText
                    }
                  ),
                  /* @__PURE__ */ jsxs(
                    "button",
                    {
                      type: "button",
                      onClick: handleAccept,
                      className: cn(
                        "inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors",
                        variant === "default" ? "bg-primary-600 hover:bg-primary-700 text-white" : "bg-white text-gray-900 hover:bg-gray-100"
                      ),
                      children: [
                        acceptText,
                        /* @__PURE__ */ jsx(CheckIcon, { className: "h-4 w-4" })
                      ]
                    }
                  )
                ]
              }
            )
          ]
        }
      ) })
    }
  );
}
function CompactCookieBanner({
  isVisible = true,
  onAccept,
  privacyHref = "/privacy",
  className
}) {
  if (!isVisible) return null;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      role: "dialog",
      "aria-label": "Cookie consent",
      className: cn(
        "fixed right-4 bottom-4 left-4 md:right-4 md:left-auto md:max-w-sm",
        "z-50 rounded-lg bg-gray-900 p-4 text-white shadow-xl",
        className
      ),
      children: [
        /* @__PURE__ */ jsxs("p", { className: "mb-3 text-sm", children: [
          "We use cookies to improve your experience.",
          " ",
          /* @__PURE__ */ jsx("a", { href: privacyHref, className: "underline hover:no-underline", children: "Learn more" })
        ] }),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onAccept,
            className: "w-full rounded-lg bg-white px-4 py-2 font-medium text-gray-900 transition-colors hover:bg-gray-100",
            children: "Got it"
          }
        )
      ]
    }
  );
}
var COOKIE_CONSENT_KEY = "cookie-consent-accepted";
function useCookieConsent(options = {}) {
  const { storageKey = COOKIE_CONSENT_KEY, onConsent } = options;
  const [hasConsented, setHasConsented] = React46.useState(() => {
    if (typeof window === "undefined") return false;
    return localStorage.getItem(storageKey) === "true";
  });
  const acceptCookies = React46.useCallback(() => {
    localStorage.setItem(storageKey, "true");
    setHasConsented(true);
    onConsent?.();
  }, [storageKey, onConsent]);
  const declineCookies = React46.useCallback(() => {
    localStorage.setItem(storageKey, "declined");
    setHasConsented(true);
  }, [storageKey]);
  const resetConsent = React46.useCallback(() => {
    localStorage.removeItem(storageKey);
    setHasConsented(false);
  }, [storageKey]);
  return {
    hasConsented,
    showBanner: !hasConsented,
    acceptCookies,
    declineCookies,
    resetConsent
  };
}
function CheckIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" })
    }
  );
}
function CSVColumnMapper({
  columns,
  fieldOptions,
  childFieldOptions = {},
  onColumnChange,
  onIgnoreToggle,
  onBulkAction,
  onImport,
  importing = false,
  importProgress = 0,
  className,
  labels = {}
}) {
  const {
    ignoreAll = "Ignore All",
    includeAll = "Include All",
    ignoreUncompleted = "Ignore Uncompleted",
    import: importLabel = "Import",
    ignore = "Ignore",
    include = "Include",
    incomingSample = "Incoming Sample",
    fieldType = "Field Type",
    ensureAccurateData = "Ensure Accurate Employee Data",
    ensureAccurateDataDescription = "Existing employee profiles will be automatically updated.",
    instructions = "Map each column from your CSV to the corresponding employee field."
  } = labels;
  const formatHtmlId = (name, ...parts) => {
    return [name, ...parts].join("-").replace(/[^a-zA-Z0-9-]/g, "-").toLowerCase();
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("csv-column-mapper", className), children: [
    importing && /* @__PURE__ */ jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-lg rounded-lg bg-white shadow-xl", children: [
      /* @__PURE__ */ jsx("div", { className: "bg-primary p-4 text-white", children: /* @__PURE__ */ jsx("h4", { className: "text-lg font-semibold", children: "Processing Employees" }) }),
      /* @__PURE__ */ jsxs("div", { className: "p-6", children: [
        /* @__PURE__ */ jsx("div", { className: "h-4 w-full overflow-hidden rounded-full bg-gray-200", children: /* @__PURE__ */ jsx(
          "div",
          {
            className: "h-full bg-green-500 transition-all duration-300",
            style: { width: `${importProgress}%` }
          }
        ) }),
        /* @__PURE__ */ jsxs("p", { className: "mt-2 text-center text-sm text-muted-foreground", children: [
          importProgress,
          "% complete"
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "mb-4 flex flex-wrap gap-2", children: [
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => onBulkAction?.("ignoreAll"),
          className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
          children: ignoreAll
        }
      ),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => onBulkAction?.("ignoreUncompleted"),
          className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
          children: ignoreUncompleted
        }
      ),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => onBulkAction?.("includeAll"),
          className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
          children: includeAll
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "mb-4 rounded-lg border border-blue-200 bg-blue-50 p-4", children: [
      /* @__PURE__ */ jsx("h4", { className: "mb-1 font-semibold text-blue-800", children: ensureAccurateData }),
      /* @__PURE__ */ jsx("p", { className: "text-sm text-blue-700", children: ensureAccurateDataDescription })
    ] }),
    /* @__PURE__ */ jsx("p", { className: "mb-4 text-muted-foreground", children: instructions }),
    /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4", children: columns.map((column, index) => /* @__PURE__ */ jsx(
      CSVColumnCard,
      {
        column,
        index,
        fieldOptions,
        childFieldOptions: column.mappedTo ? childFieldOptions[column.mappedTo] : void 0,
        onMappingChange: (mappedTo, childField) => onColumnChange?.(index, mappedTo, childField),
        onIgnoreToggle: (ignored) => onIgnoreToggle?.(index, ignored),
        formatHtmlId,
        labels: { ignore, include, incomingSample, fieldType }
      },
      column.name
    )) }),
    /* @__PURE__ */ jsx("div", { className: "mt-6 flex justify-end", children: /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: onImport,
        disabled: importing,
        className: "rounded-lg bg-green-600 px-6 py-2 text-white hover:bg-green-700 disabled:bg-gray-300",
        children: importLabel
      }
    ) })
  ] });
}
function CSVColumnCard({
  column,
  index,
  fieldOptions,
  childFieldOptions,
  onMappingChange,
  onIgnoreToggle,
  formatHtmlId,
  labels
}) {
  const needsMapping = !column.ignored && !column.mappedTo;
  const hasError = column.hasError || needsMapping;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "rounded-lg border bg-white shadow-sm",
        column.ignored && "opacity-50",
        hasError && !column.ignored && "border-red-500"
      ),
      children: [
        /* @__PURE__ */ jsx("div", { className: "border-b bg-gray-50 p-3", children: /* @__PURE__ */ jsx("h6", { className: "truncate text-center text-sm font-medium", title: column.name, children: column.name }) }),
        /* @__PURE__ */ jsxs("div", { className: "p-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "mb-3", children: [
            /* @__PURE__ */ jsx("span", { className: "text-xs text-muted-foreground", children: labels.incomingSample }),
            /* @__PURE__ */ jsx("div", { className: "truncate text-sm", title: column.sampleValue, children: column.sampleValue || /* @__PURE__ */ jsx("em", { className: "text-muted-foreground", children: "Empty" }) })
          ] }),
          /* @__PURE__ */ jsx("hr", { className: "my-3" }),
          /* @__PURE__ */ jsxs("div", { className: "mb-3", children: [
            /* @__PURE__ */ jsx("label", { htmlFor: formatHtmlId(column.name), className: "sr-only", children: labels.fieldType }),
            /* @__PURE__ */ jsxs(
              "select",
              {
                id: formatHtmlId(column.name),
                value: column.mappedTo || "",
                onChange: (e) => onMappingChange(e.target.value, void 0),
                disabled: column.ignored,
                className: cn(
                  "w-full rounded-lg border p-2 text-sm",
                  column.ignored && "cursor-not-allowed bg-gray-100"
                ),
                children: [
                  /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Select field..." }),
                  fieldOptions.map((opt) => /* @__PURE__ */ jsx(
                    "option",
                    {
                      value: opt.value,
                      disabled: opt.disabled,
                      className: opt.disabled ? "text-red-500" : "",
                      children: opt.label
                    },
                    opt.value
                  ))
                ]
              }
            )
          ] }),
          childFieldOptions && childFieldOptions.length > 0 && column.mappedTo && /* @__PURE__ */ jsxs("div", { className: "mb-3", children: [
            /* @__PURE__ */ jsx("label", { htmlFor: formatHtmlId(column.name, column.mappedTo), className: "sr-only", children: "Sub-field" }),
            /* @__PURE__ */ jsxs(
              "select",
              {
                id: formatHtmlId(column.name, column.mappedTo),
                value: column.childField || "",
                onChange: (e) => onMappingChange(column.mappedTo, e.target.value),
                disabled: column.ignored,
                className: cn(
                  "w-full rounded-lg border p-2 text-sm",
                  column.ignored && "cursor-not-allowed bg-gray-100"
                ),
                children: [
                  /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: "Select sub-field..." }),
                  childFieldOptions.map((opt) => /* @__PURE__ */ jsx(
                    "option",
                    {
                      value: opt.value,
                      disabled: opt.disabled,
                      className: opt.disabled ? "text-red-500" : "",
                      children: opt.label
                    },
                    opt.value
                  ))
                ]
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "border-t bg-gray-50 p-3 text-center", children: /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => onIgnoreToggle(!column.ignored),
            className: cn(
              "w-full rounded-lg px-4 py-2 text-sm font-medium",
              column.ignored ? "bg-red-600 text-white hover:bg-red-700" : "bg-primary text-white hover:bg-primary/90"
            ),
            children: column.ignored ? labels.include : labels.ignore
          }
        ) })
      ]
    }
  );
}
function CSVFileUpload({
  onFileSelect,
  processing = false,
  accept = ".csv",
  className,
  labels = {}
}) {
  const {
    selectFile = "Select a file to upload or drag and drop",
    dragAndDrop = "Drag and drop your CSV file here",
    selectButton = "Select File to Upload"
  } = labels;
  const inputRef = React46.useRef(null);
  const [isDragging, setIsDragging] = React46.useState(false);
  const handleDrop = React46.useCallback(
    (e) => {
      e.preventDefault();
      setIsDragging(false);
      const file = e.dataTransfer.files[0];
      if (file && file.name.endsWith(".csv")) {
        onFileSelect?.(file);
      }
    },
    [onFileSelect]
  );
  const handleDragOver = React46.useCallback((e) => {
    e.preventDefault();
    setIsDragging(true);
  }, []);
  const handleDragLeave = React46.useCallback(() => {
    setIsDragging(false);
  }, []);
  const handleFileChange = React46.useCallback(
    (e) => {
      const file = e.target.files?.[0];
      if (file) {
        onFileSelect?.(file);
      }
    },
    [onFileSelect]
  );
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex min-h-[300px] flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 text-center transition-colors",
        isDragging ? "border-primary bg-primary/5" : "border-gray-300 bg-gray-50",
        className
      ),
      onDrop: handleDrop,
      onDragOver: handleDragOver,
      onDragLeave: handleDragLeave,
      children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            ref: inputRef,
            type: "file",
            accept,
            onChange: handleFileChange,
            className: "hidden",
            id: "csv-file-upload"
          }
        ),
        processing ? /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx("div", { className: "h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent" }),
          /* @__PURE__ */ jsx("p", { className: "mt-4 text-muted-foreground", children: "Processing file..." })
        ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx("i", { className: "fas fa-file-csv mb-4 text-5xl text-gray-400" }),
          /* @__PURE__ */ jsx("p", { className: "mb-4 text-lg text-muted-foreground", children: selectFile }),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => inputRef.current?.click(),
              className: "rounded-lg bg-primary px-6 py-3 text-white hover:bg-primary/90",
              children: selectButton
            }
          )
        ] })
      ]
    }
  );
}
function getDefaultPresets(labels = {}) {
  const {
    today = "Today",
    thisWeek = "This Week",
    thisMonth = "This Month",
    lastMonth = "Last Month",
    last15Min = "Last 15 Minutes",
    last30Min = "Last 30 Minutes",
    lastHour = "Last Hour",
    last24Hours = "Last 24 Hours",
    last7Days = "Last 7 Days",
    last30Days = "Last 30 Days",
    last90Days = "Last 90 Days",
    yearToDate = "Year to Date",
    thisYear = "This Year",
    lastYear = "Last Year"
  } = labels;
  return [
    { key: "today", label: today },
    { key: "this-week", label: thisWeek },
    { key: "this-month", label: thisMonth },
    { key: "last-month", label: lastMonth },
    { key: "last-15-min", label: last15Min },
    { key: "last-30-min", label: last30Min },
    { key: "last-hour", label: lastHour },
    { key: "last-24-hours", label: last24Hours },
    { key: "last-7-days", label: last7Days },
    { key: "last-30-days", label: last30Days },
    { key: "last-90-days", label: last90Days },
    { key: "year-to-date", label: yearToDate },
    { key: "this-year", label: thisYear },
    { key: "last-year", label: lastYear }
  ];
}
function calculateDateRange(presetKey) {
  const now = /* @__PURE__ */ new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  switch (presetKey) {
    case "today":
      return {
        start: today,
        end: new Date(today.getTime() + 24 * 60 * 60 * 1e3 - 1)
      };
    case "this-week": {
      const dayOfWeek = today.getDay();
      const sunday = new Date(today);
      sunday.setDate(today.getDate() - dayOfWeek);
      const saturday = new Date(sunday);
      saturday.setDate(sunday.getDate() + 6);
      return { start: sunday, end: saturday };
    }
    case "this-month": {
      const firstDay = new Date(now.getFullYear(), now.getMonth(), 1);
      const lastDay = new Date(now.getFullYear(), now.getMonth() + 1, 0);
      return { start: firstDay, end: lastDay };
    }
    case "last-month": {
      const firstDay = new Date(now.getFullYear(), now.getMonth() - 1, 1);
      const lastDay = new Date(now.getFullYear(), now.getMonth(), 0);
      return { start: firstDay, end: lastDay };
    }
    case "last-15-min":
      return {
        start: new Date(now.getTime() - 15 * 60 * 1e3),
        end: now
      };
    case "last-30-min":
      return {
        start: new Date(now.getTime() - 30 * 60 * 1e3),
        end: now
      };
    case "last-hour":
      return {
        start: new Date(now.getTime() - 60 * 60 * 1e3),
        end: now
      };
    case "last-24-hours":
      return {
        start: new Date(now.getTime() - 24 * 60 * 60 * 1e3),
        end: now
      };
    case "last-7-days":
      return {
        start: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1e3),
        end: now
      };
    case "last-30-days":
      return {
        start: new Date(now.getTime() - 30 * 24 * 60 * 60 * 1e3),
        end: now
      };
    case "last-90-days":
      return {
        start: new Date(now.getTime() - 90 * 24 * 60 * 60 * 1e3),
        end: now
      };
    case "year-to-date": {
      const firstOfYear = new Date(now.getFullYear(), 0, 1);
      return { start: firstOfYear, end: now };
    }
    case "this-year": {
      const firstOfYear = new Date(now.getFullYear(), 0, 1);
      const lastOfYear = new Date(now.getFullYear(), 11, 31);
      return { start: firstOfYear, end: lastOfYear };
    }
    case "last-year": {
      const firstOfLastYear = new Date(now.getFullYear() - 1, 0, 1);
      const lastOfLastYear = new Date(now.getFullYear() - 1, 11, 31);
      return { start: firstOfLastYear, end: lastOfLastYear };
    }
    default:
      return { start: null, end: null };
  }
}
function formatDateRange(range, format) {
  if (!range.start && !range.end) return "";
  const formatDate4 = (d) => {
    if (!d) return "";
    return d.toLocaleDateString("en-US", {
      month: "2-digit",
      day: "2-digit",
      year: "numeric"
    });
  };
  if (range.start && range.end) {
    return `${formatDate4(range.start)} - ${formatDate4(range.end)}`;
  }
  return formatDate4(range.start || range.end);
}
function DateRangePicker({
  value,
  onChange,
  presets,
  activePreset,
  showPrint = false,
  onPrint,
  showExport = false,
  onExport,
  placeholder = "Select a time period",
  dateFormat,
  className,
  labels = {}
}) {
  const finalPresets = presets || getDefaultPresets(labels);
  const handlePresetSelect = (presetKey) => {
    const range = calculateDateRange(presetKey);
    onChange(range, presetKey);
  };
  const displayValue = value ? formatDateRange(value) : "";
  return /* @__PURE__ */ jsxs("div", { className: cn("flex items-center gap-0", className), children: [
    /* @__PURE__ */ jsx(
      Dropdown,
      {
        trigger: /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "primary",
            size: "md",
            className: "rounded-r-none border-r-0",
            "data-cy": "btn-date-filter",
            children: [
              /* @__PURE__ */ jsx(Filter, { className: "h-4 w-4" }),
              /* @__PURE__ */ jsx(ChevronDown, { className: "ml-1 h-3 w-3" })
            ]
          }
        ),
        className: "max-h-[300px] overflow-auto",
        children: /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 gap-0", children: finalPresets.map((preset) => /* @__PURE__ */ jsx(
          DropdownItem,
          {
            onClick: () => handlePresetSelect(preset.key),
            className: cn(
              activePreset === preset.key && "bg-primary text-primary-foreground"
            ),
            "data-cy": "datepicker-filter-range",
            children: preset.label
          },
          preset.key
        )) })
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "relative min-w-[200px] flex-1", children: [
      /* @__PURE__ */ jsx(Calendar, { className: "text-muted-foreground absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2" }),
      /* @__PURE__ */ jsx(
        Input,
        {
          type: "text",
          value: displayValue,
          placeholder,
          readOnly: true,
          className: "rounded-none pl-10"
        }
      )
    ] }),
    showPrint && /* @__PURE__ */ jsx(
      Button,
      {
        variant: "primary",
        size: "md",
        onClick: onPrint,
        className: "rounded-none border-l-0",
        title: labels.print || "Print Report",
        children: /* @__PURE__ */ jsx(Printer, { className: "h-4 w-4" })
      }
    ),
    showExport && /* @__PURE__ */ jsx(
      Button,
      {
        variant: "primary",
        size: "md",
        onClick: onExport,
        className: cn(
          "border-l-0",
          showPrint ? "rounded-l-none" : "rounded-none"
        ),
        title: labels.export || "Export Report",
        children: /* @__PURE__ */ jsx(Download, { className: "h-4 w-4" })
      }
    )
  ] });
}
function DateRangeFilter({
  value,
  onChange,
  presets,
  activePreset,
  variant = "outline",
  className,
  labels = {}
}) {
  const finalPresets = presets || getDefaultPresets(labels);
  const activeLabel = finalPresets.find((p) => p.key === activePreset)?.label;
  const handlePresetSelect = (presetKey) => {
    const range = calculateDateRange(presetKey);
    onChange(range, presetKey);
  };
  return /* @__PURE__ */ jsx(
    Dropdown,
    {
      trigger: /* @__PURE__ */ jsxs(Button, { variant, size: "md", className, children: [
        /* @__PURE__ */ jsx(Calendar, { className: "mr-2 h-4 w-4" }),
        activeLabel || labels.filter || "Filter by Date",
        /* @__PURE__ */ jsx(ChevronDown, { className: "ml-2 h-3 w-3" })
      ] }),
      className: "w-56",
      children: finalPresets.map((preset) => /* @__PURE__ */ jsx(
        DropdownItem,
        {
          onClick: () => handlePresetSelect(preset.key),
          className: cn(
            activePreset === preset.key && "bg-primary/10 text-primary"
          ),
          children: preset.label
        },
        preset.key
      ))
    }
  );
}
function DropZone({
  onFilesSelected,
  acceptedFileTypes,
  multiple,
  disabled = false,
  className,
  children
}) {
  const [isDragging, setIsDragging] = React46.useState(false);
  const inputRef = React46.useRef(null);
  const dropZoneRef = React46.useRef(null);
  const dragCounter = React46.useRef(0);
  const handleDragEnter = React46.useCallback(
    (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (disabled) return;
      dragCounter.current++;
      if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {
        setIsDragging(true);
      }
    },
    [disabled]
  );
  const handleDragLeave = React46.useCallback(
    (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (disabled) return;
      dragCounter.current--;
      if (dragCounter.current === 0) {
        setIsDragging(false);
      }
    },
    [disabled]
  );
  const handleDragOver = React46.useCallback((e) => {
    e.preventDefault();
    e.stopPropagation();
  }, []);
  const handleDrop = React46.useCallback(
    (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (disabled) return;
      setIsDragging(false);
      dragCounter.current = 0;
      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {
        onFilesSelected(e.dataTransfer.files);
      }
    },
    [disabled, onFilesSelected]
  );
  const handleClick = React46.useCallback(() => {
    if (!disabled) {
      inputRef.current?.click();
    }
  }, [disabled]);
  const handleKeyDown = React46.useCallback(
    (e) => {
      if ((e.key === "Enter" || e.key === " ") && !disabled) {
        e.preventDefault();
        inputRef.current?.click();
      }
    },
    [disabled]
  );
  const handleInputChange = React46.useCallback(
    (e) => {
      if (e.target.files && e.target.files.length > 0) {
        onFilesSelected(e.target.files);
        e.target.value = "";
      }
    },
    [onFilesSelected]
  );
  const acceptString = acceptedFileTypes.join(",");
  return /* @__PURE__ */ jsxs(
    "div",
    {
      ref: dropZoneRef,
      role: "button",
      tabIndex: disabled ? -1 : 0,
      "aria-label": "Drop files here or click to browse",
      "aria-disabled": disabled,
      onClick: handleClick,
      onKeyDown: handleKeyDown,
      onDragEnter: handleDragEnter,
      onDragLeave: handleDragLeave,
      onDragOver: handleDragOver,
      onDrop: handleDrop,
      className: cn(
        // Base styles
        "relative flex flex-col items-center justify-center",
        "min-h-[200px] w-full p-6",
        "rounded-xl border-2 border-dashed",
        "transition-all duration-200",
        "cursor-pointer",
        // Default state
        "border-neutral-300 bg-neutral-50",
        "dark:border-neutral-600 dark:bg-neutral-800/50",
        // Hover state
        "hover:border-primary-400 hover:bg-primary-50/50",
        "dark:hover:border-primary-500 dark:hover:bg-primary-900/20",
        // Focus state
        "focus-visible:ring-primary-500 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none",
        // Dragging state
        isDragging && [
          "border-primary-500 bg-primary-50",
          "dark:border-primary-400 dark:bg-primary-900/30",
          "scale-[1.01]"
        ],
        // Disabled state
        disabled && [
          "cursor-not-allowed opacity-50",
          "hover:border-neutral-300 hover:bg-neutral-50",
          "dark:hover:border-neutral-600 dark:hover:bg-neutral-800/50"
        ],
        className
      ),
      children: [
        /* @__PURE__ */ jsx(
          "input",
          {
            ref: inputRef,
            type: "file",
            accept: acceptString,
            multiple,
            onChange: handleInputChange,
            disabled,
            className: "sr-only",
            "aria-hidden": "true",
            tabIndex: -1
          }
        ),
        children,
        isDragging && /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "absolute inset-0 flex items-center justify-center",
              "bg-primary-500/10 rounded-xl",
              "pointer-events-none"
            ),
            children: /* @__PURE__ */ jsx("span", { className: "text-primary-600 dark:text-primary-400 text-lg font-medium", children: "Drop files here" })
          }
        )
      ]
    }
  );
}
DropZone.displayName = "DropZone";
function FilePreviewItem({ file, onRemove, disabled }) {
  const isPdf = file.file.type === "application/pdf";
  const isImage = file.file.type.startsWith("image/");
  const handleRemove = React46.useCallback(() => {
    onRemove(file.id);
  }, [file.id, onRemove]);
  return /* @__PURE__ */ jsxs(
    "div",
    {
      role: "group",
      "aria-label": `File: ${file.file.name}`,
      className: cn(
        "group relative overflow-hidden rounded-lg",
        "border-border bg-card border",
        "focus-within:ring-primary-500 focus-within:ring-2 focus-within:ring-offset-2"
      ),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "relative aspect-[4/3] w-full overflow-hidden bg-neutral-100 dark:bg-neutral-800", children: [
          isImage ? /* @__PURE__ */ jsx(
            "img",
            {
              src: file.previewUrl,
              alt: `Preview of ${file.file.name}`,
              className: "h-full w-full object-cover"
            }
          ) : isPdf ? /* @__PURE__ */ jsxs("div", { className: "flex h-full w-full flex-col items-center justify-center gap-2", children: [
            /* @__PURE__ */ jsx(FileText, { className: "text-muted-foreground h-12 w-12" }),
            /* @__PURE__ */ jsx("span", { className: "text-muted-foreground text-xs", children: "PDF Document" })
          ] }) : /* @__PURE__ */ jsxs("div", { className: "flex h-full w-full flex-col items-center justify-center gap-2", children: [
            /* @__PURE__ */ jsx(Image, { className: "text-muted-foreground h-12 w-12" }),
            /* @__PURE__ */ jsx("span", { className: "text-muted-foreground text-xs", children: "File" })
          ] }),
          /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "absolute inset-0 flex items-center justify-center",
                "bg-black/0 transition-all duration-200",
                "group-hover:bg-black/30",
                disabled && "pointer-events-none"
              ),
              children: /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "danger",
                  size: "icon",
                  onClick: handleRemove,
                  disabled,
                  className: cn(
                    "h-8 w-8 rounded-full",
                    "opacity-0 transition-all duration-200",
                    "group-hover:opacity-100",
                    "focus-visible:opacity-100"
                  ),
                  "aria-label": `Remove ${file.file.name}`,
                  children: /* @__PURE__ */ jsx(X, { className: "h-4 w-4" })
                }
              )
            }
          ),
          /* @__PURE__ */ jsx(
            "span",
            {
              className: cn(
                "absolute bottom-2 left-2 px-2 py-0.5",
                "rounded-full text-xs font-medium",
                "bg-black/50 text-white",
                "capitalize"
              ),
              children: file.source
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "p-2", children: [
          /* @__PURE__ */ jsx(
            "p",
            {
              className: "text-foreground truncate text-sm font-medium",
              title: file.file.name,
              children: file.file.name
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-muted-foreground text-xs", children: formatFileSize3(file.file.size) })
        ] })
      ]
    }
  );
}
function formatFileSize3(bytes) {
  if (bytes === 0) return "0 Bytes";
  const k = 1024;
  const sizes = ["Bytes", "KB", "MB", "GB"];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
}
function FilePreview({ files, onRemove, disabled }) {
  if (files.length === 0) {
    return null;
  }
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "grid gap-4",
        files.length === 1 && "mx-auto max-w-xs grid-cols-1",
        files.length === 2 && "grid-cols-2",
        files.length >= 3 && "grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"
      ),
      role: "list",
      "aria-label": "Selected files",
      children: files.map((file) => /* @__PURE__ */ jsx(
        FilePreviewItem,
        {
          file,
          onRemove,
          disabled
        },
        file.id
      ))
    }
  );
}
FilePreview.displayName = "FilePreview";
function hasCameraSupport() {
  return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);
}
async function checkCameraPermission() {
  if (!hasCameraSupport()) {
    return "unavailable";
  }
  try {
    if (navigator.permissions) {
      const result = await navigator.permissions.query({
        name: "camera"
      });
      return result.state;
    }
    return "prompt";
  } catch {
    return "prompt";
  }
}
function useCamera({
  facingMode: initialFacingMode = "environment",
  width = 1920,
  height = 1080
} = {}) {
  const [permission, setPermission] = React46.useState("prompt");
  const [stream, setStream] = React46.useState(null);
  const [isReady, setIsReady] = React46.useState(false);
  const [error, setError] = React46.useState(null);
  const [currentFacingMode, setCurrentFacingMode] = React46.useState(initialFacingMode);
  const videoRef = React46.useRef(null);
  const canvasRef = React46.useRef(null);
  React46.useEffect(() => {
    checkCameraPermission().then(setPermission);
  }, []);
  React46.useEffect(() => {
    return () => {
      if (stream) {
        stream.getTracks().forEach((track) => track.stop());
      }
    };
  }, [stream]);
  const startCamera = React46.useCallback(async () => {
    if (!hasCameraSupport()) {
      setPermission("unavailable");
      setError(new Error("Camera is not supported on this device"));
      return;
    }
    try {
      setError(null);
      const constraints = {
        video: {
          facingMode: currentFacingMode,
          width: { ideal: width },
          height: { ideal: height }
        },
        audio: false
      };
      const mediaStream = await navigator.mediaDevices.getUserMedia(constraints);
      setStream(mediaStream);
      setPermission("granted");
      if (videoRef.current) {
        videoRef.current.srcObject = mediaStream;
        await videoRef.current.play();
        setIsReady(true);
      }
    } catch (err) {
      const error2 = err;
      setError(error2);
      if (error2.name === "NotAllowedError" || error2.name === "PermissionDeniedError") {
        setPermission("denied");
      } else if (error2.name === "NotFoundError" || error2.name === "DevicesNotFoundError") {
        setPermission("unavailable");
      }
    }
  }, [currentFacingMode, width, height]);
  const stopCamera = React46.useCallback(() => {
    if (stream) {
      stream.getTracks().forEach((track) => track.stop());
      setStream(null);
    }
    setIsReady(false);
    if (videoRef.current) {
      videoRef.current.srcObject = null;
    }
  }, [stream]);
  const shouldRestartRef = React46.useRef(false);
  const switchCamera = React46.useCallback(() => {
    const newFacingMode = currentFacingMode === "user" ? "environment" : "user";
    if (stream) {
      stream.getTracks().forEach((track) => track.stop());
      setStream(null);
      setIsReady(false);
      if (videoRef.current) {
        videoRef.current.srcObject = null;
      }
      shouldRestartRef.current = true;
    }
    setCurrentFacingMode(newFacingMode);
  }, [currentFacingMode, stream]);
  React46.useEffect(() => {
    if (shouldRestartRef.current && !stream) {
      shouldRestartRef.current = false;
      startCamera();
    }
  }, [currentFacingMode, stream, startCamera]);
  const capturePhoto = React46.useCallback(() => {
    if (!videoRef.current || !isReady) {
      return null;
    }
    const video = videoRef.current;
    if (!canvasRef.current) {
      canvasRef.current = document.createElement("canvas");
    }
    const canvas = canvasRef.current;
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    const context = canvas.getContext("2d");
    if (!context) {
      return null;
    }
    context.drawImage(video, 0, 0, canvas.width, canvas.height);
    const dataUrl = canvas.toDataURL("image/jpeg", 0.92);
    const byteString = atob(dataUrl.split(",")[1]);
    const mimeType = dataUrl.split(",")[0].split(":")[1].split(";")[0];
    const arrayBuffer = new ArrayBuffer(byteString.length);
    const uint8Array = new Uint8Array(arrayBuffer);
    for (let i = 0; i < byteString.length; i++) {
      uint8Array[i] = byteString.charCodeAt(i);
    }
    const blob = new Blob([arrayBuffer], { type: mimeType });
    const timestamp = (/* @__PURE__ */ new Date()).toISOString().replace(/[:.]/g, "-");
    const filename = `capture-${timestamp}.jpg`;
    return new File([blob], filename, { type: "image/jpeg" });
  }, [isReady]);
  return {
    permission,
    stream,
    videoRef,
    isReady,
    error,
    startCamera,
    stopCamera,
    capturePhoto,
    switchCamera,
    currentFacingMode
  };
}
var DEFAULT_CONFIG = {
  minFocusScore: 15,
  minBrightness: 30,
  maxBrightness: 240,
  minDocumentCoverage: 10,
  maxDocumentCoverage: 95,
  stabilityDuration: 500,
  captureCountdown: 2,
  detectionFps: 5,
  enableAutoCapture: true
};
var INITIAL_METRICS = {
  focusScore: 0,
  isInFocus: false,
  brightness: 0,
  isBrightnessOk: false,
  boundary: null,
  isDocumentDetected: false,
  documentCoverage: 0,
  isStable: false,
  stabilityDuration: 0
};
var INITIAL_STATE = {
  isDetecting: false,
  metrics: INITIAL_METRICS,
  isReadyForCapture: false,
  captureCountdown: 0,
  error: null
};
function calculateLaplacianVariance(imageData) {
  const { data, width, height } = imageData;
  let sum = 0;
  let sumSq = 0;
  let count = 0;
  const step = 4;
  for (let y = step; y < height - step; y += step) {
    for (let x = step; x < width - step; x += step) {
      const getGray = (px, py) => {
        const idx = (py * width + px) * 4;
        return 0.299 * data[idx] + 0.587 * data[idx + 1] + 0.114 * data[idx + 2];
      };
      const center = getGray(x, y);
      const neighbors = (getGray(x, y - step) + getGray(x - step, y) + getGray(x + step, y) + getGray(x, y + step)) / 4;
      const laplacian = center - neighbors;
      sum += laplacian;
      sumSq += laplacian * laplacian;
      count++;
    }
  }
  if (count === 0) return 0;
  const mean = sum / count;
  const variance = sumSq / count - mean * mean;
  return Math.abs(variance);
}
function calculateBrightness(imageData) {
  const { data } = imageData;
  let sum = 0;
  let count = 0;
  for (let i = 0; i < data.length; i += 64) {
    sum += 0.299 * data[i] + 0.587 * data[i + 1] + 0.114 * data[i + 2];
    count++;
  }
  return count > 0 ? sum / count : 0;
}
function calculateFrameFingerprint(imageData) {
  const { data, width, height } = imageData;
  const gridSize = 8;
  const cellWidth = Math.floor(width / gridSize);
  const cellHeight = Math.floor(height / gridSize);
  const values = [];
  for (let gy = 0; gy < gridSize; gy++) {
    for (let gx = 0; gx < gridSize; gx++) {
      let sum = 0;
      let count = 0;
      const startX = gx * cellWidth;
      const startY = gy * cellHeight;
      for (let y = startY; y < startY + cellHeight; y += 4) {
        for (let x = startX; x < startX + cellWidth; x += 4) {
          const idx = (y * width + x) * 4;
          if (idx < data.length - 2) {
            sum += 0.299 * data[idx] + 0.587 * data[idx + 1] + 0.114 * data[idx + 2];
            count++;
          }
        }
      }
      values.push(count > 0 ? sum / count : 0);
    }
  }
  return values;
}
function compareFingerprints(fp1, fp2) {
  if (fp1.length !== fp2.length || fp1.length === 0) return 0;
  let totalDiff = 0;
  for (let i = 0; i < fp1.length; i++) {
    totalDiff += Math.abs(fp1[i] - fp2[i]) / 255;
  }
  const avgDiff = totalDiff / fp1.length;
  return Math.max(0, Math.min(100, (1 - avgDiff * 5) * 100));
}
function useDocumentDetection(videoRef, config = {}, onAutoCapture) {
  const mergedConfig = useMemo(
    () => ({ ...DEFAULT_CONFIG, ...config }),
    // Intentionally depend on individual properties to avoid unnecessary re-renders
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [
      config.minFocusScore,
      config.minBrightness,
      config.maxBrightness,
      config.minDocumentCoverage,
      config.maxDocumentCoverage,
      config.stabilityDuration,
      config.captureCountdown,
      config.detectionFps,
      config.enableAutoCapture
    ]
  );
  const [state, setState] = useState(INITIAL_STATE);
  const canvasRef = useRef(null);
  const ctxRef = useRef(null);
  const animationFrameRef = useRef(null);
  const lastFingerprintRef = useRef([]);
  const stabilityStartRef = useRef(null);
  const countdownIntervalRef = useRef(null);
  const isDetectingRef = useRef(false);
  const STABILITY_THRESHOLD = 85;
  useEffect(() => {
    canvasRef.current = document.createElement("canvas");
    ctxRef.current = canvasRef.current.getContext("2d", {
      willReadFrequently: true
    });
    return () => {
      canvasRef.current = null;
      ctxRef.current = null;
    };
  }, []);
  const processFrame = useCallback(() => {
    const video = videoRef.current;
    const canvas = canvasRef.current;
    const ctx = ctxRef.current;
    if (!video || !canvas || !ctx || !isDetectingRef.current) {
      return;
    }
    if (video.readyState < 2) {
      animationFrameRef.current = requestAnimationFrame(processFrame);
      return;
    }
    const scale = 0.15;
    const width = Math.floor(video.videoWidth * scale);
    const height = Math.floor(video.videoHeight * scale);
    if (width === 0 || height === 0) {
      animationFrameRef.current = requestAnimationFrame(processFrame);
      return;
    }
    canvas.width = width;
    canvas.height = height;
    ctx.drawImage(video, 0, 0, width, height);
    const imageData = ctx.getImageData(0, 0, width, height);
    const focusScore = calculateLaplacianVariance(imageData);
    const brightness = calculateBrightness(imageData);
    const fingerprint = calculateFrameFingerprint(imageData);
    const now = Date.now();
    const similarity = compareFingerprints(
      fingerprint,
      lastFingerprintRef.current
    );
    const isSimilarFrame = similarity >= STABILITY_THRESHOLD;
    if (isSimilarFrame && lastFingerprintRef.current.length > 0) {
      if (!stabilityStartRef.current) {
        stabilityStartRef.current = now;
      }
    } else {
      stabilityStartRef.current = now;
    }
    lastFingerprintRef.current = fingerprint;
    const stabilityDuration = stabilityStartRef.current ? now - stabilityStartRef.current : 0;
    const isStable = stabilityDuration >= mergedConfig.stabilityDuration;
    const isInFocus = focusScore >= mergedConfig.minFocusScore;
    const isBrightnessOk = brightness >= mergedConfig.minBrightness && brightness <= mergedConfig.maxBrightness;
    const isDocumentDetected = isInFocus && isBrightnessOk;
    const isReadyForCapture = isInFocus && isBrightnessOk && isStable;
    const metrics = {
      focusScore: Math.round(focusScore),
      isInFocus,
      brightness: Math.round(brightness),
      isBrightnessOk,
      boundary: null,
      // No longer doing boundary detection
      isDocumentDetected,
      documentCoverage: isDocumentDetected ? 50 : 0,
      // Dummy value
      isStable,
      stabilityDuration
    };
    setState((prev) => ({
      ...prev,
      metrics,
      isReadyForCapture
    }));
    const frameDelay = 1e3 / mergedConfig.detectionFps;
    setTimeout(() => {
      if (isDetectingRef.current) {
        animationFrameRef.current = requestAnimationFrame(processFrame);
      }
    }, frameDelay);
  }, [videoRef, mergedConfig]);
  useEffect(() => {
    if (state.isReadyForCapture && mergedConfig.enableAutoCapture && state.captureCountdown === 0 && !countdownIntervalRef.current) {
      let countdown = mergedConfig.captureCountdown;
      setState((prev) => ({ ...prev, captureCountdown: countdown }));
      countdownIntervalRef.current = setInterval(() => {
        countdown -= 1;
        if (countdown <= 0) {
          if (countdownIntervalRef.current) {
            clearInterval(countdownIntervalRef.current);
            countdownIntervalRef.current = null;
          }
          setState((prev) => ({ ...prev, captureCountdown: 0 }));
          onAutoCapture?.();
        } else {
          setState((prev) => ({ ...prev, captureCountdown: countdown }));
        }
      }, 1e3);
    } else if (!state.isReadyForCapture && countdownIntervalRef.current) {
      clearInterval(countdownIntervalRef.current);
      countdownIntervalRef.current = null;
      setState((prev) => ({ ...prev, captureCountdown: 0 }));
    }
  }, [
    state.isReadyForCapture,
    mergedConfig.enableAutoCapture,
    mergedConfig.captureCountdown,
    onAutoCapture,
    state.captureCountdown
  ]);
  useEffect(() => {
    return () => {
      if (animationFrameRef.current) {
        cancelAnimationFrame(animationFrameRef.current);
      }
      if (countdownIntervalRef.current) {
        clearInterval(countdownIntervalRef.current);
      }
    };
  }, []);
  const startDetection = useCallback(() => {
    isDetectingRef.current = true;
    setState((prev) => ({ ...prev, isDetecting: true, error: null }));
    processFrame();
  }, [processFrame]);
  const stopDetection = useCallback(() => {
    isDetectingRef.current = false;
    if (animationFrameRef.current) {
      cancelAnimationFrame(animationFrameRef.current);
      animationFrameRef.current = null;
    }
    if (countdownIntervalRef.current) {
      clearInterval(countdownIntervalRef.current);
      countdownIntervalRef.current = null;
    }
    setState((prev) => ({ ...prev, isDetecting: false }));
  }, []);
  const resetDetection = useCallback(() => {
    stopDetection();
    lastFingerprintRef.current = [];
    stabilityStartRef.current = null;
    setState(INITIAL_STATE);
  }, [stopDetection]);
  return {
    ...state,
    startDetection,
    stopDetection,
    resetDetection
  };
}
function StatusPill({
  label,
  isOk,
  value
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: `inline-flex items-center gap-1.5 rounded-full px-2 py-1 text-xs font-medium ${isOk ? "bg-green-500/20 text-green-400" : "bg-red-500/20 text-red-400"} `,
      children: [
        /* @__PURE__ */ jsx(
          "span",
          {
            className: `h-2 w-2 rounded-full ${isOk ? "bg-green-400" : "bg-red-400"}`
          }
        ),
        /* @__PURE__ */ jsx("span", { children: label }),
        value !== void 0 && /* @__PURE__ */ jsxs("span", { className: "opacity-70", children: [
          "(",
          value,
          ")"
        ] })
      ]
    }
  );
}
function CountdownDisplay({ seconds }) {
  if (seconds <= 0) return null;
  return /* @__PURE__ */ jsx("div", { className: "pointer-events-none absolute inset-0 flex items-center justify-center", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ jsx("div", { className: "absolute inset-0 animate-ping rounded-full bg-green-500 opacity-25" }),
    /* @__PURE__ */ jsx("div", { className: "relative flex h-24 w-24 items-center justify-center rounded-full bg-green-500/90", children: /* @__PURE__ */ jsx("span", { className: "text-4xl font-bold text-white", children: seconds }) })
  ] }) });
}
function StabilityBar({
  stabilityDuration,
  targetDuration
}) {
  const progress = Math.min(stabilityDuration / targetDuration * 100, 100);
  const isComplete = progress >= 100;
  return /* @__PURE__ */ jsxs("div", { className: "w-full", children: [
    /* @__PURE__ */ jsxs("div", { className: "mb-1 flex justify-between text-xs text-white/70", children: [
      /* @__PURE__ */ jsx("span", { children: "Stability" }),
      /* @__PURE__ */ jsx("span", { children: isComplete ? "Stable!" : "Hold steady..." })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "h-1.5 overflow-hidden rounded-full bg-white/20", children: /* @__PURE__ */ jsx(
      "div",
      {
        className: `h-full transition-all duration-100 ${isComplete ? "bg-green-400" : "bg-yellow-400"}`,
        style: { width: `${progress}%` }
      }
    ) })
  ] });
}
function DocumentDetectionOverlay({
  metrics,
  isReadyForCapture,
  captureCountdown,
  videoDimensions: _videoDimensions,
  showDetailedMetrics = false
}) {
  const {
    focusScore,
    isInFocus,
    brightness,
    isBrightnessOk,
    isDocumentDetected,
    isStable,
    stabilityDuration
  } = metrics;
  const borderColor = isReadyForCapture ? "border-green-500" : isDocumentDetected ? "border-yellow-400" : "border-white/40";
  return /* @__PURE__ */ jsxs("div", { className: "pointer-events-none absolute inset-0", children: [
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: `absolute inset-4 rounded-lg border-4 transition-colors duration-300 ${borderColor}`,
        children: [
          /* @__PURE__ */ jsx("div", { className: "absolute -top-1 -left-1 h-6 w-6 rounded-tl border-t-4 border-l-4 border-current" }),
          /* @__PURE__ */ jsx("div", { className: "absolute -top-1 -right-1 h-6 w-6 rounded-tr border-t-4 border-r-4 border-current" }),
          /* @__PURE__ */ jsx("div", { className: "absolute -bottom-1 -left-1 h-6 w-6 rounded-bl border-b-4 border-l-4 border-current" }),
          /* @__PURE__ */ jsx("div", { className: "absolute -right-1 -bottom-1 h-6 w-6 rounded-br border-r-4 border-b-4 border-current" })
        ]
      }
    ),
    /* @__PURE__ */ jsx(CountdownDisplay, { seconds: captureCountdown }),
    /* @__PURE__ */ jsxs("div", { className: "absolute top-3 right-3 left-3", children: [
      /* @__PURE__ */ jsx(
        "div",
        {
          className: `mb-2 rounded-lg px-4 py-2 text-center backdrop-blur-sm ${isReadyForCapture ? "bg-green-500/80 text-white" : "bg-black/60 text-white"} `,
          children: isReadyForCapture ? /* @__PURE__ */ jsx("span", { className: "font-medium", children: captureCountdown > 0 ? `Capturing in ${captureCountdown}...` : "\u2713 Ready to capture!" }) : /* @__PURE__ */ jsx("span", { children: !isInFocus ? "\u{1F50D} Hold camera steady" : !isBrightnessOk ? brightness < 40 ? "\u{1F4A1} Need more light" : "\u{1F4A1} Too bright" : !isStable ? "\u270B Hold steady..." : "\u{1F4C4} Position document in frame" })
        }
      ),
      isDocumentDetected && !isStable && /* @__PURE__ */ jsx("div", { className: "px-2", children: /* @__PURE__ */ jsx(
        StabilityBar,
        {
          stabilityDuration,
          targetDuration: 500
        }
      ) })
    ] }),
    showDetailedMetrics && /* @__PURE__ */ jsx("div", { className: "absolute right-3 bottom-3 left-3", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap justify-center gap-2 rounded-lg bg-black/60 p-2 backdrop-blur-sm", children: [
      /* @__PURE__ */ jsx(StatusPill, { label: "Focus", isOk: isInFocus, value: focusScore }),
      /* @__PURE__ */ jsx(
        StatusPill,
        {
          label: "Brightness",
          isOk: isBrightnessOk,
          value: brightness
        }
      ),
      /* @__PURE__ */ jsx(StatusPill, { label: "Stable", isOk: isStable })
    ] }) })
  ] });
}
function CameraViewfinder({
  videoRef,
  isReady,
  detectionOverlay
}) {
  return /* @__PURE__ */ jsxs("div", { className: "relative aspect-[4/3] w-full overflow-hidden rounded-lg bg-black", children: [
    /* @__PURE__ */ jsx(
      "video",
      {
        ref: videoRef,
        autoPlay: true,
        playsInline: true,
        muted: true,
        className: cn(
          "h-full w-full object-cover",
          "transition-opacity duration-300",
          isReady ? "opacity-100" : "opacity-0"
        )
      }
    ),
    !isReady && /* @__PURE__ */ jsxs("div", { className: "absolute inset-0 flex flex-col items-center justify-center gap-3", children: [
      /* @__PURE__ */ jsx(Spinner, { size: "lg" }),
      /* @__PURE__ */ jsx("span", { className: "text-sm text-neutral-400", children: "Starting camera..." })
    ] }),
    isReady && detectionOverlay,
    isReady && !detectionOverlay && /* @__PURE__ */ jsxs("div", { className: "pointer-events-none absolute inset-0", children: [
      /* @__PURE__ */ jsxs("div", { className: "absolute inset-8 rounded-lg border-2 border-white/30", children: [
        /* @__PURE__ */ jsx("div", { className: "absolute -top-0.5 -left-0.5 h-6 w-6 rounded-tl-lg border-t-4 border-l-4 border-white" }),
        /* @__PURE__ */ jsx("div", { className: "absolute -top-0.5 -right-0.5 h-6 w-6 rounded-tr-lg border-t-4 border-r-4 border-white" }),
        /* @__PURE__ */ jsx("div", { className: "absolute -bottom-0.5 -left-0.5 h-6 w-6 rounded-bl-lg border-b-4 border-l-4 border-white" }),
        /* @__PURE__ */ jsx("div", { className: "absolute -right-0.5 -bottom-0.5 h-6 w-6 rounded-br-lg border-r-4 border-b-4 border-white" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "absolute right-0 bottom-4 left-0 text-center", children: /* @__PURE__ */ jsx("span", { className: "rounded-full bg-black/50 px-3 py-1 text-sm text-white", children: "Position document within the frame" }) })
    ] })
  ] });
}
function PermissionDeniedMessage({ onRetry }) {
  return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center gap-4 py-8", children: [
    /* @__PURE__ */ jsxs(Alert, { variant: "warning", className: "w-full", children: [
      /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5" }),
      /* @__PURE__ */ jsx(AlertTitle, { children: "Camera access denied" }),
      /* @__PURE__ */ jsx(AlertDescription, { children: "Please allow camera access in your browser settings to use this feature. You may need to refresh the page after changing permissions." })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-2 text-center", children: [
      /* @__PURE__ */ jsx("p", { className: "text-muted-foreground text-sm", children: "To enable camera access:" }),
      /* @__PURE__ */ jsxs("ol", { className: "text-muted-foreground list-inside list-decimal space-y-1 text-left text-sm", children: [
        /* @__PURE__ */ jsx("li", { children: "Click the camera/lock icon in your browser's address bar" }),
        /* @__PURE__ */ jsx("li", { children: "Allow camera access for this site" }),
        /* @__PURE__ */ jsx("li", { children: "Click the button below to try again" })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Button, { onClick: onRetry, leftIcon: /* @__PURE__ */ jsx(RefreshCw, { className: "h-4 w-4" }), children: "Try again" })
  ] });
}
function CameraUnavailableMessage() {
  return /* @__PURE__ */ jsx("div", { className: "flex flex-col items-center justify-center gap-4 py-8", children: /* @__PURE__ */ jsxs(Alert, { variant: "danger", children: [
    /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5" }),
    /* @__PURE__ */ jsx(AlertTitle, { children: "Camera unavailable" }),
    /* @__PURE__ */ jsx(AlertDescription, { children: "No camera was detected on this device. Please ensure your camera is connected and not in use by another application." })
  ] }) });
}
function PhotoPreview({
  previewUrl,
  onConfirm,
  onRetake
}) {
  return /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4", children: [
    /* @__PURE__ */ jsx("div", { className: "relative aspect-[4/3] w-full overflow-hidden rounded-lg bg-black", children: /* @__PURE__ */ jsx(
      "img",
      {
        src: previewUrl,
        alt: "Captured document",
        className: "h-full w-full object-cover"
      }
    ) }),
    /* @__PURE__ */ jsxs("div", { className: "flex justify-center gap-3", children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          variant: "secondary",
          onClick: onRetake,
          leftIcon: /* @__PURE__ */ jsx(RefreshCw, { className: "h-4 w-4" }),
          children: "Retake"
        }
      ),
      /* @__PURE__ */ jsx(
        Button,
        {
          variant: "primary",
          onClick: onConfirm,
          leftIcon: /* @__PURE__ */ jsx(Check, { className: "h-4 w-4" }),
          children: "Use this photo"
        }
      )
    ] })
  ] });
}
function WebcamModal({
  open,
  onOpenChange,
  onCapture,
  enableAutoCapture = true
}) {
  const {
    permission,
    videoRef,
    isReady,
    startCamera,
    stopCamera,
    capturePhoto,
    switchCamera,
    currentFacingMode
  } = useCamera({
    facingMode: "environment",
    width: 1920,
    height: 1080
  });
  const [capturedFile, setCapturedFile] = React46.useState(null);
  const [previewUrl, setPreviewUrl] = React46.useState(null);
  const [autoDetectEnabled, setAutoDetectEnabled] = React46.useState(enableAutoCapture);
  const [videoDimensions, setVideoDimensions] = React46.useState({
    width: 0,
    height: 0
  });
  const handleAutoCapture = React46.useCallback(() => {
    const file = capturePhoto();
    if (file) {
      setCapturedFile(file);
      setPreviewUrl(URL.createObjectURL(file));
      stopCamera();
    }
  }, [capturePhoto, stopCamera]);
  const detection = useDocumentDetection(
    videoRef,
    {
      enableAutoCapture: autoDetectEnabled,
      minFocusScore: 15,
      // Very forgiving focus threshold
      stabilityDuration: 500,
      // 0.5 seconds of stability
      captureCountdown: 2
      // 2 second countdown
    },
    handleAutoCapture
  );
  const hasStartedRef = React46.useRef(false);
  React46.useEffect(() => {
    const video = videoRef.current;
    if (video && isReady) {
      const updateDimensions = () => {
        setVideoDimensions({
          width: video.videoWidth,
          height: video.videoHeight
        });
      };
      updateDimensions();
      video.addEventListener("resize", updateDimensions);
      return () => video.removeEventListener("resize", updateDimensions);
    }
  }, [isReady, videoRef]);
  React46.useEffect(() => {
    if (open && permission !== "denied" && permission !== "unavailable") {
      if (!hasStartedRef.current) {
        hasStartedRef.current = true;
        startCamera();
      }
    } else if (!open) {
      hasStartedRef.current = false;
      stopCamera();
      detection.stopDetection();
      setCapturedFile(null);
      setPreviewUrl((prev) => {
        if (prev) {
          URL.revokeObjectURL(prev);
        }
        return null;
      });
    }
  }, [open, permission]);
  React46.useEffect(() => {
    if (isReady && autoDetectEnabled && !capturedFile) {
      detection.startDetection();
    }
    return () => {
      detection.stopDetection();
    };
  }, [isReady, autoDetectEnabled, capturedFile]);
  const handleCapture = React46.useCallback(() => {
    const file = capturePhoto();
    if (file) {
      setCapturedFile(file);
      setPreviewUrl(URL.createObjectURL(file));
      stopCamera();
    }
  }, [capturePhoto, stopCamera]);
  const handleRetake = React46.useCallback(() => {
    if (previewUrl) {
      URL.revokeObjectURL(previewUrl);
    }
    setCapturedFile(null);
    setPreviewUrl(null);
    detection.resetDetection();
    startCamera();
  }, [previewUrl, startCamera, detection]);
  const handleConfirm = React46.useCallback(() => {
    if (capturedFile) {
      onCapture(capturedFile);
      onOpenChange(false);
    }
  }, [capturedFile, onCapture, onOpenChange]);
  const handleClose = React46.useCallback(() => {
    stopCamera();
    detection.stopDetection();
    if (previewUrl) {
      URL.revokeObjectURL(previewUrl);
    }
    setCapturedFile(null);
    setPreviewUrl(null);
    onOpenChange(false);
  }, [stopCamera, detection, previewUrl, onOpenChange]);
  const renderContent = () => {
    if (permission === "denied") {
      return /* @__PURE__ */ jsx(PermissionDeniedMessage, { onRetry: startCamera });
    }
    if (permission === "unavailable") {
      return /* @__PURE__ */ jsx(CameraUnavailableMessage, {});
    }
    if (capturedFile && previewUrl) {
      return /* @__PURE__ */ jsx(
        PhotoPreview,
        {
          previewUrl,
          onConfirm: handleConfirm,
          onRetake: handleRetake
        }
      );
    }
    return /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4", children: [
      /* @__PURE__ */ jsx(
        CameraViewfinder,
        {
          videoRef,
          isReady,
          detectionOverlay: autoDetectEnabled && isReady ? /* @__PURE__ */ jsx(
            DocumentDetectionOverlay,
            {
              metrics: detection.metrics,
              isReadyForCapture: detection.isReadyForCapture,
              captureCountdown: detection.captureCountdown,
              videoDimensions,
              showDetailedMetrics: false
            }
          ) : void 0
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-3", children: [
        /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center gap-2", children: /* @__PURE__ */ jsx(
          Button,
          {
            variant: autoDetectEnabled ? "primary" : "secondary",
            size: "sm",
            onClick: () => {
              setAutoDetectEnabled(!autoDetectEnabled);
              if (!autoDetectEnabled) {
                detection.startDetection();
              } else {
                detection.stopDetection();
              }
            },
            leftIcon: /* @__PURE__ */ jsx(ScanLine, { className: "h-4 w-4" }),
            children: autoDetectEnabled ? "Auto-capture ON" : "Auto-capture OFF"
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "flex justify-center gap-3", children: [
          /* @__PURE__ */ jsx(
            Button,
            {
              variant: "secondary",
              size: "icon",
              onClick: switchCamera,
              disabled: !isReady,
              "aria-label": `Switch to ${currentFacingMode === "user" ? "back" : "front"} camera`,
              children: /* @__PURE__ */ jsx(RefreshCw, { className: "h-5 w-5" })
            }
          ),
          /* @__PURE__ */ jsx(
            Button,
            {
              variant: "primary",
              size: "lg",
              onClick: handleCapture,
              disabled: !isReady,
              leftIcon: /* @__PURE__ */ jsx(Camera, { className: "h-5 w-5" }),
              children: autoDetectEnabled ? "Manual Capture" : "Capture"
            }
          )
        ] })
      ] })
    ] });
  };
  return /* @__PURE__ */ jsxs(
    Modal,
    {
      open,
      onOpenChange: handleClose,
      size: "lg",
      "aria-label": "Webcam capture",
      children: [
        /* @__PURE__ */ jsxs(ModalHeader, { children: [
          /* @__PURE__ */ jsx(ModalTitle, { children: "Take a Photo" }),
          /* @__PURE__ */ jsx(ModalClose, {})
        ] }),
        /* @__PURE__ */ jsx(ModalBody, { children: renderContent() }),
        permission !== "denied" && permission !== "unavailable" && !capturedFile && /* @__PURE__ */ jsx(ModalFooter, { children: /* @__PURE__ */ jsx(Button, { variant: "secondary", onClick: handleClose, children: "Cancel" }) })
      ]
    }
  );
}
WebcamModal.displayName = "WebcamModal";

// src/components/DocumentScanner/types.ts
var DEFAULT_ACCEPTED_FILE_TYPES = [
  "image/jpeg",
  "image/jpg",
  "image/png",
  "image/heic",
  "image/webp",
  "application/pdf"
];
var DEFAULT_MAX_FILE_SIZE_MB = 10;

// src/components/DocumentScanner/useFileUpload.ts
function generateFileId() {
  return `file-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
}
function validateFile2(file, acceptedTypes, maxSizeMb) {
  if (!acceptedTypes.includes(file.type)) {
    return {
      file,
      type: "type",
      message: `File type "${file.type || "unknown"}" is not supported. Accepted types: ${acceptedTypes.join(", ")}`
    };
  }
  const maxSizeBytes = maxSizeMb * 1024 * 1024;
  if (file.size > maxSizeBytes) {
    return {
      file,
      type: "size",
      message: `File size (${(file.size / 1024 / 1024).toFixed(2)} MB) exceeds the maximum allowed size of ${maxSizeMb} MB`
    };
  }
  return null;
}
function createPreviewUrl(file) {
  return URL.createObjectURL(file);
}
function useFileUpload({
  acceptedFileTypes = [...DEFAULT_ACCEPTED_FILE_TYPES],
  maxFileSizeMb = DEFAULT_MAX_FILE_SIZE_MB,
  multiple = false,
  onValidationError
} = {}) {
  const [files, setFiles] = React46.useState([]);
  React46.useEffect(() => {
    return () => {
      files.forEach((f) => URL.revokeObjectURL(f.previewUrl));
    };
  }, []);
  const addFiles = React46.useCallback(
    (fileList, source = "upload") => {
      const newFiles = [];
      const errors = [];
      Array.from(fileList).forEach((file) => {
        const error = validateFile2(file, acceptedFileTypes, maxFileSizeMb);
        if (error) {
          errors.push(error);
        } else {
          newFiles.push({
            file,
            previewUrl: createPreviewUrl(file),
            source,
            id: generateFileId()
          });
        }
      });
      if (errors.length > 0) {
        onValidationError?.(errors);
      }
      if (newFiles.length > 0) {
        setFiles((prev) => {
          if (!multiple) {
            prev.forEach((f) => URL.revokeObjectURL(f.previewUrl));
            return newFiles.slice(0, 1);
          }
          return [...prev, ...newFiles];
        });
      }
    },
    [acceptedFileTypes, maxFileSizeMb, multiple, onValidationError]
  );
  const addFile = React46.useCallback(
    (file, source = "upload") => {
      const dataTransfer = new DataTransfer();
      dataTransfer.items.add(file);
      addFiles(dataTransfer.files, source);
    },
    [addFiles]
  );
  const removeFile = React46.useCallback((id) => {
    setFiles((prev) => {
      const fileToRemove = prev.find((f) => f.id === id);
      if (fileToRemove) {
        URL.revokeObjectURL(fileToRemove.previewUrl);
      }
      return prev.filter((f) => f.id !== id);
    });
  }, []);
  const clearFiles = React46.useCallback(() => {
    setFiles((prev) => {
      prev.forEach((f) => URL.revokeObjectURL(f.previewUrl));
      return [];
    });
  }, []);
  const getFiles = React46.useCallback(() => {
    return files.map((f) => f.file);
  }, [files]);
  return {
    files,
    addFiles,
    addFile,
    removeFile,
    clearFiles,
    getFiles,
    hasFiles: files.length > 0
  };
}
function DocumentScanner({
  onScan,
  onResult,
  multiple = false,
  acceptedFileTypes = [...DEFAULT_ACCEPTED_FILE_TYPES],
  maxFileSizeMb = DEFAULT_MAX_FILE_SIZE_MB,
  disabled = false,
  enableWebcam = true,
  enableCamera = true,
  title = "Scan your document",
  description = "Upload a file, take a photo, or use your webcam",
  className,
  onValidationError,
  onStateChange
}) {
  const [state, setState] = React46.useState("idle");
  const [error, setError] = React46.useState(null);
  const [isWebcamOpen, setIsWebcamOpen] = React46.useState(false);
  const [validationErrors, setValidationErrors] = React46.useState([]);
  const isMobile = useIsMobile();
  const cameraInputRef = React46.useRef(null);
  const {
    files,
    addFiles,
    addFile,
    removeFile,
    clearFiles,
    getFiles,
    hasFiles
  } = useFileUpload({
    acceptedFileTypes,
    maxFileSizeMb,
    multiple,
    onValidationError: (errors) => {
      setValidationErrors(errors);
      onValidationError?.(errors);
    }
  });
  React46.useEffect(() => {
    onStateChange?.(state);
  }, [state, onStateChange]);
  React46.useEffect(() => {
    if (hasFiles && state === "idle") {
      setState("preview");
    } else if (!hasFiles && state === "preview") {
      setState("idle");
    }
  }, [hasFiles, state]);
  const handleFilesSelected = React46.useCallback(
    (fileList) => {
      setError(null);
      setValidationErrors([]);
      addFiles(fileList, "upload");
    },
    [addFiles]
  );
  const handleCameraCapture = React46.useCallback(() => {
    cameraInputRef.current?.click();
  }, []);
  const handleCameraInputChange = React46.useCallback(
    (e) => {
      if (e.target.files && e.target.files.length > 0) {
        setError(null);
        setValidationErrors([]);
        addFiles(e.target.files, "camera");
        e.target.value = "";
      }
    },
    [addFiles]
  );
  const handleWebcamCapture = React46.useCallback(
    (file) => {
      setError(null);
      setValidationErrors([]);
      addFile(file, "webcam");
    },
    [addFile]
  );
  const handleScan = React46.useCallback(async () => {
    if (!hasFiles) return;
    try {
      setState("processing");
      setError(null);
      const filesToScan = getFiles();
      const result = await onScan(filesToScan);
      setState("success");
      onResult(result);
      setTimeout(() => {
        clearFiles();
        setState("idle");
      }, 2e3);
    } catch (err) {
      setState("error");
      const errorMessage = err instanceof Error ? err.message : "An error occurred while processing your document. Please try again.";
      setError(errorMessage);
    }
  }, [hasFiles, getFiles, onScan, onResult, clearFiles]);
  const handleRetry = React46.useCallback(() => {
    setState("preview");
    setError(null);
  }, []);
  const handleClearAll = React46.useCallback(() => {
    clearFiles();
    setError(null);
    setValidationErrors([]);
    setState("idle");
  }, [clearFiles]);
  const cameraAcceptString = acceptedFileTypes.filter((type) => type.startsWith("image/")).join(",");
  const renderContent = () => {
    if (state === "processing") {
      return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center gap-4 py-12", children: [
        /* @__PURE__ */ jsx(
          SpinnerWithLabel,
          {
            size: "xl",
            label: "Analyzing your document...",
            labelPosition: "bottom"
          }
        ),
        /* @__PURE__ */ jsx(Text, { variant: "muted", size: "sm", className: "max-w-xs text-center", children: "Our AI is extracting information from your document. This usually takes a few seconds." })
      ] });
    }
    if (state === "success") {
      return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center gap-4 py-12", children: [
        /* @__PURE__ */ jsx("div", { className: "flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30", children: /* @__PURE__ */ jsx(CheckCircle, { className: "h-8 w-8 text-green-600 dark:text-green-400" }) }),
        /* @__PURE__ */ jsx(Text, { weight: "semibold", size: "lg", children: "Document scanned successfully!" }),
        /* @__PURE__ */ jsx(Text, { variant: "muted", size: "sm", children: "The extracted data has been processed." })
      ] });
    }
    if (state === "error") {
      return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-4 py-8", children: [
        /* @__PURE__ */ jsxs(Alert, { variant: "danger", className: "w-full", children: [
          /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5" }),
          /* @__PURE__ */ jsx(AlertTitle, { children: "Processing failed" }),
          /* @__PURE__ */ jsx(AlertDescription, { children: error })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
          /* @__PURE__ */ jsx(Button, { variant: "secondary", onClick: handleClearAll, children: "Start over" }),
          /* @__PURE__ */ jsx(Button, { variant: "primary", onClick: handleRetry, children: "Try again" })
        ] })
      ] });
    }
    if (state === "preview" && hasFiles) {
      return /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-6", children: [
        /* @__PURE__ */ jsx(
          FilePreview,
          {
            files,
            onRemove: removeFile,
            disabled
          }
        ),
        validationErrors.length > 0 && /* @__PURE__ */ jsxs(
          Alert,
          {
            variant: "warning",
            dismissible: true,
            onDismiss: () => setValidationErrors([]),
            children: [
              /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5" }),
              /* @__PURE__ */ jsx(AlertTitle, { children: "Some files were not added" }),
              /* @__PURE__ */ jsx(AlertDescription, { children: /* @__PURE__ */ jsx("ul", { className: "mt-2 list-inside list-disc space-y-1", children: validationErrors.map((err, index) => /* @__PURE__ */ jsxs("li", { className: "text-sm", children: [
                /* @__PURE__ */ jsxs("strong", { children: [
                  err.file.name,
                  ":"
                ] }),
                " ",
                err.message
              ] }, index)) }) })
            ]
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center justify-center gap-3", children: [
          multiple && /* @__PURE__ */ jsx(Fragment, { children: /* @__PURE__ */ jsx(
            Button,
            {
              variant: "secondary",
              onClick: () => {
                const input = document.createElement("input");
                input.type = "file";
                input.accept = acceptedFileTypes.join(",");
                input.multiple = multiple;
                input.onchange = (e) => {
                  const files2 = e.target.files;
                  if (files2) addFiles(files2, "upload");
                };
                input.click();
              },
              leftIcon: /* @__PURE__ */ jsx(Upload, { className: "h-4 w-4" }),
              disabled,
              children: "Add more files"
            }
          ) }),
          /* @__PURE__ */ jsx(
            Button,
            {
              variant: "secondary",
              onClick: handleClearAll,
              leftIcon: /* @__PURE__ */ jsx(Trash2, { className: "h-4 w-4" }),
              disabled,
              children: "Clear all"
            }
          ),
          /* @__PURE__ */ jsxs(
            Button,
            {
              variant: "primary",
              onClick: handleScan,
              leftIcon: /* @__PURE__ */ jsx(Scan, { className: "h-4 w-4" }),
              disabled,
              children: [
                "Scan ",
                files.length > 1 ? `${files.length} documents` : "document"
              ]
            }
          )
        ] })
      ] });
    }
    return /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-6", children: [
      /* @__PURE__ */ jsx(
        DropZone,
        {
          onFilesSelected: handleFilesSelected,
          acceptedFileTypes,
          multiple,
          disabled,
          className: "min-h-[240px]",
          children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-4 text-center", children: [
            /* @__PURE__ */ jsx("div", { className: "bg-primary-100 dark:bg-primary-900/30 flex h-14 w-14 items-center justify-center rounded-full", children: /* @__PURE__ */ jsx(Upload, { className: "text-primary-600 dark:text-primary-400 h-7 w-7" }) }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-1", children: [
              /* @__PURE__ */ jsx(Text, { weight: "medium", children: "Drag and drop your files here" }),
              /* @__PURE__ */ jsx(Text, { variant: "muted", size: "sm", children: "or click to browse" })
            ] }),
            /* @__PURE__ */ jsxs(Text, { variant: "muted", size: "xs", className: "max-w-xs", children: [
              "Supported formats: JPEG, PNG, HEIC, WebP, PDF",
              /* @__PURE__ */ jsx("br", {}),
              "Max size: ",
              maxFileSizeMb,
              " MB"
            ] })
          ] })
        }
      ),
      (enableCamera || enableWebcam) && /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-3", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex w-full max-w-xs items-center gap-3", children: [
          /* @__PURE__ */ jsx("div", { className: "bg-border h-px flex-1" }),
          /* @__PURE__ */ jsx(Text, { variant: "muted", size: "sm", children: "or" }),
          /* @__PURE__ */ jsx("div", { className: "bg-border h-px flex-1" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap justify-center gap-3", children: [
          enableCamera && isMobile && /* @__PURE__ */ jsx(
            Button,
            {
              variant: "secondary",
              onClick: handleCameraCapture,
              leftIcon: /* @__PURE__ */ jsx(Camera, { className: "h-4 w-4" }),
              disabled,
              children: "Take a photo"
            }
          ),
          enableWebcam && !isMobile && /* @__PURE__ */ jsx(
            Button,
            {
              variant: "secondary",
              onClick: () => setIsWebcamOpen(true),
              leftIcon: /* @__PURE__ */ jsx(Camera, { className: "h-4 w-4" }),
              disabled,
              children: "Use webcam"
            }
          )
        ] })
      ] }),
      validationErrors.length > 0 && /* @__PURE__ */ jsxs(
        Alert,
        {
          variant: "warning",
          dismissible: true,
          onDismiss: () => setValidationErrors([]),
          children: [
            /* @__PURE__ */ jsx(AlertCircle, { className: "h-5 w-5" }),
            /* @__PURE__ */ jsx(AlertTitle, { children: "Invalid files" }),
            /* @__PURE__ */ jsx(AlertDescription, { children: /* @__PURE__ */ jsx("ul", { className: "mt-2 list-inside list-disc space-y-1", children: validationErrors.map((err, index) => /* @__PURE__ */ jsxs("li", { className: "text-sm", children: [
              /* @__PURE__ */ jsxs("strong", { children: [
                err.file.name,
                ":"
              ] }),
              " ",
              err.message
            ] }, index)) }) })
          ]
        }
      )
    ] });
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "border-border bg-card w-full rounded-xl border p-6",
        "shadow-sm",
        className
      ),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "mb-6 text-center", children: [
          /* @__PURE__ */ jsx(Text, { as: "h2", size: "xl", weight: "semibold", className: "mb-1", children: title }),
          /* @__PURE__ */ jsx(Text, { variant: "muted", size: "sm", children: description })
        ] }),
        renderContent(),
        /* @__PURE__ */ jsx(
          "input",
          {
            ref: cameraInputRef,
            type: "file",
            accept: cameraAcceptString,
            capture: "environment",
            onChange: handleCameraInputChange,
            className: "sr-only",
            "aria-hidden": "true",
            tabIndex: -1
          }
        ),
        /* @__PURE__ */ jsx(
          WebcamModal,
          {
            open: isWebcamOpen,
            onOpenChange: setIsWebcamOpen,
            onCapture: handleWebcamCapture
          }
        )
      ]
    }
  );
}
DocumentScanner.displayName = "DocumentScanner";
var iconMap = {
  upload: Upload,
  file: FileUp,
  folder: FolderUp
};
function DropzoneOverlay({
  isVisible,
  message = "Drop to upload file",
  icon = "upload",
  className,
  variant = "default",
  size = "default"
}) {
  const IconComponent = typeof icon === "string" && icon in iconMap ? iconMap[icon] : null;
  const variantStyles2 = {
    default: "bg-background/90 border-border text-muted-foreground",
    primary: "bg-primary/10 border-primary text-primary",
    success: "bg-success/10 border-success text-success"
  };
  const sizeStyles = {
    default: {
      container: "fixed inset-0",
      icon: "h-16 w-16 mb-4",
      text: "text-xl"
    },
    compact: {
      container: "absolute inset-0",
      icon: "h-8 w-8 mb-2",
      text: "text-sm"
    }
  };
  if (!isVisible) return null;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        sizeStyles[size].container,
        "z-50 flex flex-col items-center justify-center",
        "border-4 border-dashed transition-all duration-200",
        variantStyles2[variant],
        className
      ),
      role: "status",
      "aria-live": "polite",
      children: [
        IconComponent ? /* @__PURE__ */ jsx(IconComponent, { className: cn(sizeStyles[size].icon, "opacity-70") }) : icon,
        /* @__PURE__ */ jsx("p", { className: cn(sizeStyles[size].text, "font-medium"), children: message })
      ]
    }
  );
}
function useDropzone({
  onDrop,
  accept,
  multiple = false,
  disabled = false
}) {
  const [isDragging, setIsDragging] = React46.useState(false);
  const inputRef = React46.useRef(null);
  const dragCounter = React46.useRef(0);
  const handleDragEnter = React46.useCallback(
    (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (disabled) return;
      dragCounter.current++;
      if (dragCounter.current === 1) {
        setIsDragging(true);
      }
    },
    [disabled]
  );
  const handleDragOver = React46.useCallback((e) => {
    e.preventDefault();
    e.stopPropagation();
  }, []);
  const handleDragLeave = React46.useCallback((e) => {
    e.preventDefault();
    e.stopPropagation();
    dragCounter.current--;
    if (dragCounter.current === 0) {
      setIsDragging(false);
    }
  }, []);
  const handleDrop = React46.useCallback(
    (e) => {
      e.preventDefault();
      e.stopPropagation();
      dragCounter.current = 0;
      setIsDragging(false);
      if (disabled) return;
      const files = Array.from(e.dataTransfer.files);
      if (files.length > 0) {
        onDrop(multiple ? files : [files[0]]);
      }
    },
    [disabled, multiple, onDrop]
  );
  const handleInputChange = React46.useCallback(
    (e) => {
      const files = e.target.files ? Array.from(e.target.files) : [];
      if (files.length > 0) {
        onDrop(files);
      }
      e.target.value = "";
    },
    [onDrop]
  );
  const open = React46.useCallback(() => {
    if (!disabled) {
      inputRef.current?.click();
    }
  }, [disabled]);
  return {
    isDragging,
    getRootProps: () => ({
      onDragEnter: handleDragEnter,
      onDragOver: handleDragOver,
      onDragLeave: handleDragLeave,
      onDrop: handleDrop
    }),
    open,
    getInputProps: () => ({
      type: "file",
      ref: inputRef,
      onChange: handleInputChange,
      accept: accept?.join(","),
      multiple,
      style: { display: "none" }
    })
  };
}
var DEFAULT_ROLE_OPTIONS = [
  { value: "owner", label: "Owner / Principal" },
  { value: "admin", label: "Administrator" },
  { value: "manager", label: "Office Manager" },
  { value: "staff", label: "Staff Member" },
  { value: "other", label: "Other" }
];
var DEFAULT_LANGUAGE_OPTIONS = [
  { value: "en", label: "English" },
  { value: "es", label: "Spanish" },
  { value: "fr", label: "French" },
  { value: "de", label: "German" },
  { value: "zh", label: "Chinese" }
];
function ClaimProviderForm({
  providerName,
  providerAddress,
  roleOptions = DEFAULT_ROLE_OPTIONS,
  languageOptions = DEFAULT_LANGUAGE_OPTIONS,
  onSubmit,
  onCancel,
  isSubmitting = false,
  errorMessage,
  termsUrl = "/terms",
  className = ""
}) {
  const [formData, setFormData] = React46.useState({
    firstName: "",
    lastName: "",
    email: "",
    phone: "",
    role: "",
    occupation: "",
    preferredLanguage: "en",
    agreedToTerms: false
  });
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!formData.firstName || !formData.lastName || !formData.email || !formData.role || !formData.agreedToTerms) {
      return;
    }
    onSubmit?.(formData);
  };
  const isValid = formData.firstName.trim() && formData.lastName.trim() && formData.email.trim() && formData.role && formData.agreedToTerms;
  return /* @__PURE__ */ jsxs(Card, { className, children: [
    /* @__PURE__ */ jsxs(CardHeader, { children: [
      /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Claim Provider Listing" }),
      providerName && /* @__PURE__ */ jsxs("div", { className: "mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-blue-900 dark:text-blue-100", children: providerName }),
        providerAddress && /* @__PURE__ */ jsx("p", { className: "text-xs text-blue-600 dark:text-blue-400 mt-0.5", children: providerAddress })
      ] })
    ] }),
    /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Contact Information" }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "First Name",
              value: formData.firstName,
              onChange: (e) => setFormData((prev) => ({ ...prev, firstName: e.target.value })),
              placeholder: "John",
              required: true
            }
          ),
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "Last Name",
              value: formData.lastName,
              onChange: (e) => setFormData((prev) => ({ ...prev, lastName: e.target.value })),
              placeholder: "Smith",
              required: true
            }
          )
        ] }),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Email Address",
            type: "email",
            value: formData.email,
            onChange: (e) => setFormData((prev) => ({ ...prev, email: e.target.value })),
            placeholder: "john.smith@example.com",
            required: true
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Phone Number (Optional)",
            type: "tel",
            value: formData.phone || "",
            onChange: (e) => setFormData((prev) => ({ ...prev, phone: e.target.value })),
            placeholder: "(555) 123-4567"
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Your Role" }),
        /* @__PURE__ */ jsx(
          Select,
          {
            label: "Role at this Organization",
            value: formData.role,
            onValueChange: (value) => setFormData((prev) => ({ ...prev, role: value })),
            placeholder: "Select your role...",
            options: roleOptions
          }
        ),
        formData.role === "other" && /* @__PURE__ */ jsx(
          Input,
          {
            label: "Please specify your role",
            value: formData.occupation || "",
            onChange: (e) => setFormData((prev) => ({ ...prev, occupation: e.target.value })),
            placeholder: "e.g., Consultant"
          }
        )
      ] }),
      /* @__PURE__ */ jsx("div", { className: "space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(
        Select,
        {
          label: "Preferred Language",
          value: formData.preferredLanguage || "en",
          onValueChange: (value) => setFormData((prev) => ({ ...prev, preferredLanguage: value })),
          options: languageOptions
        }
      ) }),
      /* @__PURE__ */ jsx("div", { className: "pt-4 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsxs("label", { className: "flex items-start gap-3 cursor-pointer", children: [
        /* @__PURE__ */ jsx(
          Checkbox,
          {
            checked: formData.agreedToTerms,
            onChange: (e) => setFormData((prev) => ({
              ...prev,
              agreedToTerms: e.target.checked
            })),
            className: "mt-0.5"
          }
        ),
        /* @__PURE__ */ jsxs("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
          "I agree to the",
          " ",
          /* @__PURE__ */ jsx(
            "a",
            {
              href: termsUrl,
              target: "_blank",
              rel: "noopener noreferrer",
              className: "text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 underline",
              children: "Terms of Service"
            }
          ),
          " ",
          "and certify that I am authorized to claim this provider listing."
        ] })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex gap-3 pt-4", children: [
        onCancel && /* @__PURE__ */ jsx(
          Button,
          {
            type: "button",
            variant: "outline",
            onClick: onCancel,
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ jsx(
          Button,
          {
            type: "submit",
            disabled: !isValid || isSubmitting,
            className: "flex-1",
            children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
              /* @__PURE__ */ jsxs(
                "svg",
                {
                  className: "animate-spin -ml-1 mr-2 h-4 w-4",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  children: [
                    /* @__PURE__ */ jsx(
                      "circle",
                      {
                        className: "opacity-25",
                        cx: "12",
                        cy: "12",
                        r: "10",
                        stroke: "currentColor",
                        strokeWidth: "4"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "path",
                      {
                        className: "opacity-75",
                        fill: "currentColor",
                        d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                      }
                    )
                  ]
                }
              ),
              "Submitting Claim..."
            ] }) : "Submit Claim Request"
          }
        )
      ] })
    ] }) })
  ] });
}
function CreateInvoiceModal({
  open,
  onOpenChange,
  onSubmit,
  employers,
  orders = [],
  onEmployerChange,
  isLoadingOrders = false,
  isSubmitting = false,
  errorMessage,
  currency = "$",
  defaultDueDays = 30
}) {
  const [step, setStep] = React46.useState(1);
  const [employerId, setEmployerId] = React46.useState("");
  const [selectedOrders, setSelectedOrders] = React46.useState(
    /* @__PURE__ */ new Set()
  );
  const [dueDate, setDueDate] = React46.useState("");
  const [notes, setNotes] = React46.useState("");
  React46.useEffect(() => {
    if (!open) {
      setStep(1);
      setEmployerId("");
      setSelectedOrders(/* @__PURE__ */ new Set());
      setDueDate("");
      setNotes("");
    }
  }, [open]);
  React46.useEffect(() => {
    if (!dueDate && open) {
      const date = /* @__PURE__ */ new Date();
      date.setDate(date.getDate() + defaultDueDays);
      setDueDate(date.toISOString().split("T")[0]);
    }
  }, [open, dueDate, defaultDueDays]);
  const handleEmployerChange = (value) => {
    setEmployerId(value);
    setSelectedOrders(/* @__PURE__ */ new Set());
    onEmployerChange?.(value);
  };
  const toggleOrder = (orderId) => {
    setSelectedOrders((prev) => {
      const next = new Set(prev);
      if (next.has(orderId)) {
        next.delete(orderId);
      } else {
        next.add(orderId);
      }
      return next;
    });
  };
  const toggleAllOrders = () => {
    if (selectedOrders.size === orders.length) {
      setSelectedOrders(/* @__PURE__ */ new Set());
    } else {
      setSelectedOrders(new Set(orders.map((o) => o.id)));
    }
  };
  const totalAmount = orders.filter((o) => selectedOrders.has(o.id)).reduce((sum, o) => sum + o.amount, 0);
  const formatCurrency3 = (amount) => {
    return `${currency}${amount.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
  };
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!employerId || selectedOrders.size === 0 || !onSubmit) return;
    onSubmit({
      employerId,
      orderIds: Array.from(selectedOrders),
      dueDate,
      notes: notes.trim() || void 0
    });
  };
  const canProceed = step === 1 ? employerId : selectedOrders.size > 0;
  const canSubmit = employerId && selectedOrders.size > 0 && dueDate;
  const employerOptions = employers.map((emp) => ({
    value: emp.id,
    label: emp.name
  }));
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "lg", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
      /* @__PURE__ */ jsx(ModalTitle, { children: "Create Invoice" }),
      /* @__PURE__ */ jsxs(Badge, { variant: "secondary", children: [
        "Step ",
        step,
        " of 3"
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      step === 1 && /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Select the employer you want to create an invoice for." }),
        /* @__PURE__ */ jsx(
          Select,
          {
            label: "Employer",
            options: employerOptions,
            value: employerId,
            onValueChange: handleEmployerChange,
            placeholder: "Select an employer"
          }
        )
      ] }),
      step === 2 && /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Select the completed orders to include in this invoice." }),
          orders.length > 0 && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: toggleAllOrders,
              className: "text-sm text-blue-600 dark:text-blue-400 hover:underline",
              children: selectedOrders.size === orders.length ? "Deselect All" : "Select All"
            }
          )
        ] }),
        isLoadingOrders ? /* @__PURE__ */ jsx("div", { className: "space-y-2", children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
          "div",
          {
            className: "h-16 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"
          },
          i
        )) }) : orders.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "text-center py-8 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-10 h-10 mx-auto text-gray-400 dark:text-gray-600 mb-2",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 1.5,
                  d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "No unbilled orders found for this employer" })
        ] }) : /* @__PURE__ */ jsx("div", { className: "space-y-2 max-h-60 overflow-y-auto", children: orders.map((order) => {
          const isSelected = selectedOrders.has(order.id);
          return /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => toggleOrder(order.id),
              className: `
                          w-full p-3 rounded-lg border text-left transition-colors
                          ${isSelected ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20" : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                        `,
              children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: `
                              w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0
                              ${isSelected ? "border-blue-500 bg-blue-500" : "border-gray-300 dark:border-gray-600"}
                            `,
                    children: isSelected && /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "w-3 h-3 text-white",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 3,
                            d: "M5 13l4 4L19 7"
                          }
                        )
                      }
                    )
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.orderNumber }),
                    /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 dark:text-white", children: formatCurrency3(order.amount) })
                  ] }),
                  /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
                    order.employeeName,
                    " \u2022 ",
                    order.serviceName,
                    " \u2022",
                    " ",
                    formatDate4(order.date)
                  ] })
                ] })
              ] })
            },
            order.id
          );
        }) }),
        selectedOrders.size > 0 && /* @__PURE__ */ jsxs("div", { className: "p-3 bg-gray-50 dark:bg-gray-800 rounded-lg flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
            selectedOrders.size,
            " order",
            selectedOrders.size > 1 ? "s" : "",
            " selected"
          ] }),
          /* @__PURE__ */ jsx("span", { className: "text-lg font-bold text-gray-900 dark:text-white", children: formatCurrency3(totalAmount) })
        ] })
      ] }),
      step === 3 && /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Review and configure the invoice details." }),
        /* @__PURE__ */ jsxs("div", { className: "p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Employer" }),
            /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-gray-900 dark:text-white", children: employers.find((e) => e.id === employerId)?.name })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Orders" }),
            /* @__PURE__ */ jsxs("span", { className: "text-sm font-medium text-gray-900 dark:text-white", children: [
              selectedOrders.size,
              " items"
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700", children: [
            /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 dark:text-white", children: "Total" }),
            /* @__PURE__ */ jsx("span", { className: "text-xl font-bold text-gray-900 dark:text-white", children: formatCurrency3(totalAmount) })
          ] })
        ] }),
        /* @__PURE__ */ jsx(
          Input,
          {
            type: "date",
            label: "Due Date",
            value: dueDate,
            onChange: (e) => setDueDate(e.target.value),
            required: true
          }
        ),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Notes (Optional)" }),
          /* @__PURE__ */ jsx(
            "textarea",
            {
              className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
              rows: 3,
              value: notes,
              onChange: (e) => setNotes(e.target.value),
              placeholder: "Add any notes for this invoice..."
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx(ModalFooter, { children: /* @__PURE__ */ jsxs("div", { className: "flex justify-between w-full", children: [
      /* @__PURE__ */ jsx("div", { children: step > 1 && /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "ghost",
          onClick: () => setStep(step - 1),
          disabled: isSubmitting,
          children: "Back"
        }
      ) }),
      /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ jsx(
          Button,
          {
            type: "button",
            variant: "outline",
            onClick: () => onOpenChange(false),
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        step < 3 ? /* @__PURE__ */ jsx(
          Button,
          {
            type: "button",
            onClick: () => setStep(step + 1),
            disabled: !canProceed,
            children: "Continue"
          }
        ) : /* @__PURE__ */ jsx(Button, { type: "submit", disabled: !canSubmit || isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsxs(
            "svg",
            {
              className: "animate-spin -ml-1 mr-2 h-4 w-4",
              fill: "none",
              viewBox: "0 0 24 24",
              children: [
                /* @__PURE__ */ jsx(
                  "circle",
                  {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  }
                )
              ]
            }
          ),
          "Creating..."
        ] }) : "Create Invoice" })
      ] })
    ] }) })
  ] }) });
}
function CreateReferralModal({
  open,
  onOpenChange,
  onSubmit,
  employee,
  services = [],
  employerName,
  isSubmitting = false,
  errorMessage,
  currency = "$"
}) {
  const [selectedServices, setSelectedServices] = React46.useState(
    /* @__PURE__ */ new Set()
  );
  const [notes, setNotes] = React46.useState("");
  const [priority, setPriority] = React46.useState(
    "normal"
  );
  React46.useEffect(() => {
    if (!open) {
      setSelectedServices(/* @__PURE__ */ new Set());
      setNotes("");
      setPriority("normal");
    }
  }, [open]);
  const toggleService = (serviceId) => {
    setSelectedServices((prev) => {
      const next = new Set(prev);
      if (next.has(serviceId)) {
        next.delete(serviceId);
      } else {
        next.add(serviceId);
      }
      return next;
    });
  };
  const totalPrice = services.filter((s) => selectedServices.has(s.id)).reduce((sum, s) => sum + s.price, 0);
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!employee || selectedServices.size === 0 || !onSubmit) return;
    onSubmit({
      employeeId: employee.id,
      serviceIds: Array.from(selectedServices),
      notes: notes.trim() || void 0,
      priority
    });
  };
  const isValid = employee && selectedServices.size > 0;
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "lg", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Create Referral" }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      employee && /* @__PURE__ */ jsxs("div", { className: "p-4 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1", children: "Employee" }),
        /* @__PURE__ */ jsxs("p", { className: "font-medium text-gray-900 dark:text-white", children: [
          employee.firstName,
          " ",
          employee.lastName
        ] }),
        employee.email && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: employee.email }),
        employerName && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: employerName })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "Select Services" }),
        services.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 py-4 text-center", children: "No services available" }) : /* @__PURE__ */ jsx("div", { className: "space-y-2 max-h-60 overflow-y-auto", children: services.map((service) => {
          const isSelected = selectedServices.has(service.id);
          return /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => toggleService(service.id),
              className: `
                        w-full p-3 rounded-lg border text-left transition-colors
                        ${isSelected ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20" : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                      `,
              children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsx(
                    "div",
                    {
                      className: `
                            w-5 h-5 rounded border-2 flex items-center justify-center transition-colors
                            ${isSelected ? "border-blue-500 bg-blue-500" : "border-gray-300 dark:border-gray-600"}
                          `,
                      children: isSelected && /* @__PURE__ */ jsx(
                        "svg",
                        {
                          className: "w-3 h-3 text-white",
                          fill: "none",
                          stroke: "currentColor",
                          viewBox: "0 0 24 24",
                          children: /* @__PURE__ */ jsx(
                            "path",
                            {
                              strokeLinecap: "round",
                              strokeLinejoin: "round",
                              strokeWidth: 3,
                              d: "M5 13l4 4L19 7"
                            }
                          )
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsxs("div", { children: [
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: service.name }),
                    service.description && /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: service.description })
                  ] })
                ] }),
                /* @__PURE__ */ jsxs("span", { className: "font-medium text-gray-900 dark:text-white", children: [
                  currency,
                  service.price.toFixed(2)
                ] })
              ] })
            },
            service.id
          );
        }) })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "Priority" }),
        /* @__PURE__ */ jsx("div", { className: "flex gap-2", children: ["normal", "urgent", "stat"].map((p) => /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => setPriority(p),
            className: `
                    px-3 py-1.5 rounded-full text-sm font-medium transition-colors
                    ${priority === p ? p === "stat" ? "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400" : p === "urgent" ? "bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400" : "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400" : "bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}
                  `,
            children: p.charAt(0).toUpperCase() + p.slice(1)
          },
          p
        )) })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Notes (Optional)" }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 2,
            value: notes,
            onChange: (e) => setNotes(e.target.value),
            placeholder: "Add any special instructions..."
          }
        )
      ] }),
      selectedServices.size > 0 && /* @__PURE__ */ jsx("div", { className: "p-4 bg-gray-50 dark:bg-gray-800 rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
          selectedServices.size,
          " service",
          selectedServices.size > 1 ? "s" : "",
          " selected"
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
          /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Estimated Total" }),
          /* @__PURE__ */ jsxs("p", { className: "text-xl font-bold text-gray-900 dark:text-white", children: [
            currency,
            totalPrice.toFixed(2)
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ jsx(Button, { type: "submit", disabled: !isValid || isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "animate-spin -ml-1 mr-2 h-4 w-4",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                }
              )
            ]
          }
        ),
        "Creating..."
      ] }) : "Create Referral" })
    ] })
  ] }) });
}
function EditUserRoleModal({
  open,
  onOpenChange,
  onSave,
  user,
  roles,
  isSubmitting = false,
  errorMessage
}) {
  const [selectedRoleId, setSelectedRoleId] = React46.useState(
    user?.currentRoleId || ""
  );
  React46.useEffect(() => {
    if (user?.currentRoleId) {
      setSelectedRoleId(user.currentRoleId);
    }
  }, [user?.currentRoleId]);
  React46.useEffect(() => {
    if (!open && user?.currentRoleId) {
      setSelectedRoleId(user.currentRoleId);
    }
  }, [open, user?.currentRoleId]);
  const selectedRole = roles.find((r) => r.id === selectedRoleId);
  const hasChanged = selectedRoleId !== user?.currentRoleId;
  const handleSave = () => {
    if (!user || !selectedRoleId || !onSave) return;
    onSave({ userId: user.id, roleId: selectedRoleId });
  };
  return /* @__PURE__ */ jsxs(Modal, { open, onOpenChange, size: "md", children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Edit User Role" }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      user && /* @__PURE__ */ jsxs("div", { className: "p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: user.name }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: user.email })
      ] }),
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-5 h-5 text-red-500",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage })
      ] }) }),
      /* @__PURE__ */ jsx(
        Select,
        {
          label: "Role",
          value: selectedRoleId,
          onValueChange: setSelectedRoleId,
          placeholder: "Select a role...",
          options: roles.map((role) => ({
            value: role.id,
            label: role.name
          }))
        }
      ),
      selectedRole?.description && /* @__PURE__ */ jsx("div", { className: "p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-blue-700 dark:text-blue-300", children: selectedRole.description }) }),
      selectedRole?.permissions && selectedRole.permissions.length > 0 && /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "Permissions" }),
        /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: selectedRole.permissions.map((permission) => /* @__PURE__ */ jsx(
          "span",
          {
            className: "px-2 py-1 text-xs font-medium rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",
            children: permission
          },
          permission
        )) })
      ] })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          onClick: handleSave,
          disabled: !hasChanged || isSubmitting,
          children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsxs(
              "svg",
              {
                className: "animate-spin -ml-1 mr-2 h-4 w-4",
                fill: "none",
                viewBox: "0 0 24 24",
                children: [
                  /* @__PURE__ */ jsx(
                    "circle",
                    {
                      className: "opacity-25",
                      cx: "12",
                      cy: "12",
                      r: "10",
                      stroke: "currentColor",
                      strokeWidth: "4"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "path",
                    {
                      className: "opacity-75",
                      fill: "currentColor",
                      d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                    }
                  )
                ]
              }
            ),
            "Saving..."
          ] }) : "Save Changes"
        }
      )
    ] })
  ] });
}
var phoneTypeOptions = [
  { value: "cell", label: "Cell" },
  { value: "landline", label: "Landline" },
  { value: "home", label: "Home" },
  { value: "work", label: "Work" },
  { value: "fax", label: "Fax" }
];
function EmployeeForm({
  initialData = {},
  departments = [],
  isNew = true,
  isUserLinked = false,
  mode = "create",
  onSubmit,
  onCancel,
  customFields,
  labels = {},
  className
}) {
  const {
    required = "Required",
    firstName: firstNameLabel = "First Name",
    lastName: lastNameLabel = "Last Name",
    email: emailLabel = "Email",
    dob: dobLabel = "Date of Birth",
    department: departmentLabel = "Department",
    selectDepartments = "Please select departments",
    title: titleLabel = "Title",
    address: addressLabel = "Address",
    phone: phoneLabel = "Phone",
    accountStatus = "Account Status",
    active = "Active",
    inactive = "Inactive",
    additionalInformation = "Additional Information",
    inviteEmployee = "Invite Employee",
    save = "Save",
    startOrder = "Start Order",
    cancel = "Cancel",
    firstNameRequired = "First name is required",
    lastNameRequired = "Last name is required",
    emailRequired = "Email is required",
    dobRequired = "Date of birth is required"
  } = labels;
  const [firstName, setFirstName] = React46.useState(initialData.firstName ?? "");
  const [lastName, setLastName] = React46.useState(initialData.lastName ?? "");
  const [email, setEmail] = React46.useState(initialData.email ?? "");
  const [dob, setDob] = React46.useState(initialData.dob ?? "");
  const [selectedDepartments, setSelectedDepartments] = React46.useState(initialData.departments ?? []);
  const [title, setTitle] = React46.useState(initialData.title ?? "");
  const [address, setAddress] = React46.useState(
    initialData.address ?? {}
  );
  const [phones, setPhones] = React46.useState(
    initialData.phones ?? [{ number: "", type: "cell" }]
  );
  const [isActive, setIsActive] = React46.useState(initialData.isActive ?? true);
  const [additionalInfo, setAdditionalInfo] = React46.useState(
    initialData.additionalInfo ?? ""
  );
  const [sendInvite, setSendInvite] = React46.useState(false);
  const [errors, setErrors] = React46.useState({});
  const validate = () => {
    const newErrors = {};
    if (!firstName.trim()) newErrors.firstName = firstNameRequired;
    if (!lastName.trim()) newErrors.lastName = lastNameRequired;
    if (!email.trim()) newErrors.email = emailRequired;
    if (!dob) newErrors.dob = dobRequired;
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!validate()) return;
    onSubmit({
      firstName,
      lastName,
      email,
      dob,
      departments: selectedDepartments.length > 0 ? selectedDepartments : void 0,
      title: title || void 0,
      address: Object.values(address).some(Boolean) ? address : void 0,
      phones: phones.filter((p) => p.number).length > 0 ? phones.filter((p) => p.number) : void 0,
      isActive,
      additionalInfo: additionalInfo || void 0,
      sendInvite: isNew && !isUserLinked ? sendInvite : void 0
    });
  };
  const updatePhone = (index, field, value) => {
    setPhones(
      (prev) => prev.map(
        (phone, i) => i === index ? { ...phone, [field]: value } : phone
      )
    );
  };
  const addPhone = () => {
    setPhones((prev) => [...prev, { number: "", type: "cell" }]);
  };
  const removePhone = (index) => {
    setPhones((prev) => prev.filter((_, i) => i !== index));
  };
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: cn("space-y-6", className), children: [
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx("h3", { className: "mb-4 text-lg font-semibold", children: required }),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-1 gap-4 sm:grid-cols-2", children: [
        /* @__PURE__ */ jsx(
          Input,
          {
            label: firstNameLabel,
            value: firstName,
            onChange: (e) => setFirstName(e.target.value),
            error: errors.firstName,
            required: true
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: lastNameLabel,
            value: lastName,
            onChange: (e) => setLastName(e.target.value),
            error: errors.lastName,
            required: true
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2", children: [
        /* @__PURE__ */ jsx(
          Input,
          {
            type: "email",
            label: emailLabel,
            value: email,
            onChange: (e) => setEmail(e.target.value),
            error: errors.email,
            required: true
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            type: "date",
            label: dobLabel,
            value: dob,
            onChange: (e) => setDob(e.target.value),
            error: errors.dob,
            required: true
          }
        )
      ] })
    ] }),
    departments.length > 0 && /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx("h3", { className: "mb-4 text-lg font-semibold", children: departmentLabel }),
      /* @__PURE__ */ jsx(
        Select,
        {
          label: selectDepartments,
          value: selectedDepartments[0] ?? "",
          onValueChange: (value) => setSelectedDepartments(value ? [value] : []),
          options: [
            { value: "", label: selectDepartments },
            ...departments.map((d) => ({ value: d.id, label: d.name }))
          ]
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      Input,
      {
        label: titleLabel,
        value: title,
        onChange: (e) => setTitle(e.target.value)
      }
    ),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx("h3", { className: "mb-4 text-lg font-semibold", children: addressLabel }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Address Line 1",
            value: address.street1 ?? "",
            onChange: (e) => setAddress((prev) => ({ ...prev, street1: e.target.value }))
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Address Line 2",
            value: address.street2 ?? "",
            onChange: (e) => setAddress((prev) => ({ ...prev, street2: e.target.value }))
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 sm:grid-cols-4", children: [
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "City",
              value: address.city ?? "",
              onChange: (e) => setAddress((prev) => ({ ...prev, city: e.target.value }))
            }
          ),
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "State",
              value: address.state ?? "",
              onChange: (e) => setAddress((prev) => ({ ...prev, state: e.target.value }))
            }
          ),
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "Postal Code",
              value: address.postalCode ?? "",
              onChange: (e) => setAddress((prev) => ({ ...prev, postalCode: e.target.value }))
            }
          ),
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "Country",
              value: address.country ?? "",
              onChange: (e) => setAddress((prev) => ({ ...prev, country: e.target.value }))
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx("h3", { className: "mb-4 text-lg font-semibold", children: phoneLabel }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        phones.map((phone, index) => /* @__PURE__ */ jsxs("div", { className: "flex items-end gap-3", children: [
          /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx(
            Input,
            {
              label: index === 0 ? "Phone Number" : void 0,
              value: phone.number,
              onChange: (e) => updatePhone(index, "number", e.target.value),
              placeholder: "(555) 555-5555"
            }
          ) }),
          /* @__PURE__ */ jsx("div", { className: "w-32", children: /* @__PURE__ */ jsx(
            Select,
            {
              label: index === 0 ? "Type" : void 0,
              value: phone.type,
              onValueChange: (value) => updatePhone(index, "type", value),
              options: phoneTypeOptions
            }
          ) }),
          phones.length > 1 && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => removePhone(index),
              className: "text-destructive hover:text-destructive/80 p-2",
              children: "\u2715"
            }
          )
        ] }, index)),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: addPhone,
            className: "text-primary text-sm hover:underline",
            children: "+ Add another phone"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
      /* @__PURE__ */ jsx(
        Switch,
        {
          checked: isActive,
          onCheckedChange: setIsActive,
          id: "account-status"
        }
      ),
      /* @__PURE__ */ jsxs("label", { htmlFor: "account-status", className: "text-sm", children: [
        accountStatus,
        ": ",
        /* @__PURE__ */ jsx("strong", { children: isActive ? active : inactive })
      ] })
    ] }),
    /* @__PURE__ */ jsx(
      Textarea,
      {
        label: additionalInformation,
        value: additionalInfo,
        onChange: (e) => setAdditionalInfo(e.target.value),
        rows: 4
      }
    ),
    customFields,
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col justify-between gap-4 border-t pt-4 sm:flex-row", children: [
      /* @__PURE__ */ jsx("div", { children: isNew && !isUserLinked && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: sendInvite,
            onCheckedChange: setSendInvite,
            id: "invite-employee"
          }
        ),
        /* @__PURE__ */ jsx("label", { htmlFor: "invite-employee", className: "text-sm", children: inviteEmployee })
      ] }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex justify-end gap-3", children: [
        onCancel && /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onCancel,
            className: "border-input hover:bg-muted rounded-md border px-4 py-2 text-sm",
            children: cancel
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "submit",
            className: "bg-primary text-primary-foreground hover:bg-primary/90 rounded-md px-4 py-2 text-sm",
            children: mode === "order" ? startOrder : save
          }
        )
      ] })
    ] })
  ] });
}
function formatPhoneNumber2(phone) {
  const cleaned = phone.replace(/\D/g, "");
  if (cleaned.length === 10) {
    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;
  }
  return phone;
}
function formatDate(date) {
  const d = typeof date === "string" ? new Date(date) : date;
  return d.toLocaleDateString("en-US", {
    month: "2-digit",
    day: "2-digit",
    year: "numeric"
  });
}
function calculateAge2(dateOfBirth) {
  const dob = typeof dateOfBirth === "string" ? new Date(dateOfBirth) : dateOfBirth;
  const today = /* @__PURE__ */ new Date();
  let age = today.getFullYear() - dob.getFullYear();
  const monthDiff = today.getMonth() - dob.getMonth();
  if (monthDiff < 0 || monthDiff === 0 && today.getDate() < dob.getDate()) {
    age--;
  }
  return age;
}
function formatAddress(address) {
  const parts = [];
  if (address.street1) parts.push(address.street1);
  if (address.street2) parts.push(address.street2);
  const cityState = [address.city, address.state, address.postalCode].filter(Boolean).join(", ");
  if (cityState) parts.push(cityState);
  return parts.join("\n");
}
function EmployeeProfileCard({
  employee,
  showPhotoEdit = false,
  onPhotoEdit,
  defaultExpanded = false,
  showPaymentStatus = false,
  className,
  labels = {}
}) {
  const [isExpanded, setIsExpanded] = React46.useState(defaultExpanded);
  const fileInputRef = React46.useRef(null);
  const {
    moreDetails = "more details",
    lessDetails = "less details",
    paid = "Paid",
    paymentPending = "Payment Pending",
    yearsOld = "y/o"
  } = labels;
  const fullName = `${employee.firstName} ${employee.lastName}`;
  const handleFileChange = (e) => {
    const file = e.target.files?.[0];
    if (file && onPhotoEdit) {
      onPhotoEdit(file);
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("bg-card rounded-lg", className), children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center p-4 text-center", children: [
      /* @__PURE__ */ jsxs("div", { className: "relative mb-3", children: [
        /* @__PURE__ */ jsx(
          Avatar,
          {
            src: employee.photoUrl,
            alt: fullName,
            name: fullName,
            size: "xl"
          }
        ),
        showPhotoEdit && /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              ref: fileInputRef,
              type: "file",
              accept: "image/*",
              className: "hidden",
              onChange: handleFileChange,
              "data-cy": "input-employee-photo"
            }
          ),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => fileInputRef.current?.click(),
              className: "bg-primary text-primary-foreground hover:bg-primary/90 absolute right-0 bottom-0 rounded-full p-1.5 shadow-md transition-colors",
              "aria-label": "Edit photo",
              children: /* @__PURE__ */ jsx(Edit2, { className: "h-3 w-3" })
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs(
        "div",
        {
          className: "mb-1 flex items-center gap-2",
          "data-cy": "header-employee-name",
          children: [
            employee.isActive !== void 0 && /* @__PURE__ */ jsx(
              "span",
              {
                className: cn(
                  "flex h-5 w-5 items-center justify-center rounded-full text-white",
                  employee.isActive ? "bg-success" : "bg-destructive"
                ),
                children: employee.isActive ? /* @__PURE__ */ jsx(Check, { className: "h-3 w-3" }) : /* @__PURE__ */ jsx(X, { className: "h-3 w-3" })
              }
            ),
            /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold", children: fullName })
          ]
        }
      ),
      /* @__PURE__ */ jsxs(
        "p",
        {
          className: "text-muted-foreground text-sm",
          "data-cy": "paragraph-employee-title",
          children: [
            employee.title && /* @__PURE__ */ jsx("span", { children: employee.title }),
            employee.title && employee.companyName && /* @__PURE__ */ jsx("br", {}),
            employee.companyName && /* @__PURE__ */ jsx("span", { children: employee.companyName })
          ]
        }
      ),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => setIsExpanded(!isExpanded),
          className: "text-primary mt-2 flex items-center gap-1 text-sm hover:underline",
          "aria-expanded": isExpanded,
          "aria-controls": "employee-details",
          children: isExpanded ? /* @__PURE__ */ jsxs(Fragment, { children: [
            lessDetails,
            /* @__PURE__ */ jsx(ChevronUp, { className: "h-4 w-4" })
          ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
            moreDetails,
            /* @__PURE__ */ jsx(ChevronDown, { className: "h-4 w-4" })
          ] })
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      "div",
      {
        id: "employee-details",
        className: cn(
          "overflow-hidden transition-all duration-300",
          isExpanded ? "max-h-[1000px] opacity-100" : "max-h-0 opacity-0"
        ),
        children: /* @__PURE__ */ jsxs("div", { className: "space-y-3 px-4 pb-4 text-sm", children: [
          employee.dateOfBirth && /* @__PURE__ */ jsxs(
            "div",
            {
              className: "flex items-center gap-2",
              "data-cy": "header-employee-dob",
              children: [
                /* @__PURE__ */ jsx(Calendar, { className: "text-muted-foreground h-4 w-4" }),
                /* @__PURE__ */ jsx("span", { children: formatDate(employee.dateOfBirth) }),
                /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground text-xs", children: [
                  "(",
                  calculateAge2(employee.dateOfBirth),
                  " ",
                  yearsOld,
                  ")"
                ] })
              ]
            }
          ),
          employee.phone?.map(
            (p, idx) => p.number ? /* @__PURE__ */ jsxs(
              "div",
              {
                className: "flex items-center gap-2",
                "data-cy": "header-employee-phone-number",
                children: [
                  /* @__PURE__ */ jsx(Phone, { className: "text-muted-foreground h-4 w-4" }),
                  /* @__PURE__ */ jsx("a", { href: `tel:${p.number}`, className: "hover:underline", children: formatPhoneNumber2(p.number) }),
                  /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground", children: [
                    "(",
                    p.type,
                    ")"
                  ] })
                ]
              },
              idx
            ) : null
          ),
          employee.email && /* @__PURE__ */ jsxs(
            "div",
            {
              className: "flex items-center gap-2",
              "data-cy": "header-employee-email",
              children: [
                /* @__PURE__ */ jsx(Mail, { className: "text-muted-foreground h-4 w-4" }),
                /* @__PURE__ */ jsx("a", { href: `mailto:${employee.email}`, className: "hover:underline", children: employee.email })
              ]
            }
          ),
          employee.department && employee.department.length > 0 && /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-1", children: employee.department.map((dept, idx) => /* @__PURE__ */ jsx(Badge, { variant: "secondary", size: "sm", children: dept }, idx)) }),
          showPaymentStatus && /* @__PURE__ */ jsx(
            "div",
            {
              className: "flex items-center gap-2",
              "data-cy": "header-payment-status",
              children: employee.isPaid ? /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx(Check, { className: "text-success h-4 w-4" }),
                /* @__PURE__ */ jsx("span", { className: "text-success", children: paid })
              ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx(Clock, { className: "text-muted-foreground h-4 w-4" }),
                /* @__PURE__ */ jsx("span", { children: paymentPending })
              ] })
            }
          ),
          employee.address && employee.address.street1 && /* @__PURE__ */ jsxs(
            "div",
            {
              className: "flex items-start gap-2",
              "data-cy": "div-employee-address",
              children: [
                /* @__PURE__ */ jsx(MapPin, { className: "text-muted-foreground mt-0.5 h-4 w-4" }),
                /* @__PURE__ */ jsx("span", { className: "whitespace-pre-line", children: formatAddress(employee.address) })
              ]
            }
          ),
          employee.blurb && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground", "data-cy": "div-employee-blurb", children: employee.blurb }),
          employee.extendedFields && employee.extendedFields.length > 0 && /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsx("hr", { className: "border-border" }),
            employee.extendedFields.map((field, idx) => /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
              /* @__PURE__ */ jsxs("span", { className: "font-medium", children: [
                field.name,
                ":"
              ] }),
              /* @__PURE__ */ jsx("span", { children: field.value })
            ] }, idx))
          ] })
        ] })
      }
    )
  ] });
}
function OrderSidebarTabs({
  tabs,
  activeTab,
  onTabChange,
  orientation = "horizontal",
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "flex gap-0",
        orientation === "vertical" ? "flex-col" : "flex-row",
        className
      ),
      role: "tablist",
      "aria-orientation": orientation,
      children: tabs.map((tab) => /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          role: "tab",
          "aria-selected": activeTab === tab.id,
          "aria-controls": `panel-${tab.id}`,
          onClick: () => onTabChange(tab.id),
          "data-cy": tab.dataCy,
          className: cn(
            "px-4 py-2 text-sm font-medium transition-colors",
            "focus-visible:ring-ring focus:outline-none focus-visible:ring-2",
            activeTab === tab.id ? "bg-primary text-primary-foreground" : "text-muted-foreground hover:text-foreground hover:bg-muted"
          ),
          children: tab.label
        },
        tab.id
      ))
    }
  );
}
function OrderDetailSidebar({
  employee,
  children,
  tabs,
  activeTab = "timeline",
  onTabChange,
  showPhotoEdit = false,
  onPhotoEdit,
  showPaymentStatus = false,
  className,
  labels = {}
}) {
  const {
    timeline = "Timeline",
    services = "Services",
    attachments = "Attachments",
    ...profileLabels
  } = labels;
  const defaultTabs = [
    { id: "timeline", label: timeline, dataCy: "btn-view-timeline" },
    { id: "services", label: services },
    { id: "attachments", label: attachments, dataCy: "btn-view-attachments" }
  ];
  const finalTabs = tabs || defaultTabs;
  return /* @__PURE__ */ jsxs("div", { className: cn("flex h-full flex-col", className), children: [
    /* @__PURE__ */ jsx("div", { className: "px-3", children: /* @__PURE__ */ jsx(
      EmployeeProfileCard,
      {
        employee,
        showPhotoEdit,
        onPhotoEdit,
        showPaymentStatus,
        labels: profileLabels
      }
    ) }),
    onTabChange && /* @__PURE__ */ jsx(
      OrderSidebarTabs,
      {
        tabs: finalTabs,
        activeTab,
        onTabChange,
        orientation: "horizontal",
        className: "mt-3 md:flex-col"
      }
    ),
    children && /* @__PURE__ */ jsx("div", { className: "flex-1 overflow-auto p-3", children })
  ] });
}
function EmployerContactCard({
  contacts,
  onContactClick,
  onAddContact,
  onEmail,
  onCall,
  showActions = true,
  title = "Contacts",
  isLoading = false,
  className = ""
}) {
  if (isLoading) {
    return /* @__PURE__ */ jsxs(Card, { className, children: [
      /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { children: title }) }),
      /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsx("div", { className: "space-y-3", children: [1, 2].map((i) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 animate-pulse", children: [
        /* @__PURE__ */ jsx("div", { className: "w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full" }),
        /* @__PURE__ */ jsxs("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ jsx("div", { className: "h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded" }),
          /* @__PURE__ */ jsx("div", { className: "h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded" })
        ] })
      ] }, i)) }) })
    ] });
  }
  return /* @__PURE__ */ jsxs(Card, { className, children: [
    /* @__PURE__ */ jsxs(CardHeader, { className: "flex flex-row items-center justify-between", children: [
      /* @__PURE__ */ jsx(CardTitle, { children: title }),
      showActions && onAddContact && /* @__PURE__ */ jsxs(Button, { variant: "ghost", size: "sm", onClick: onAddContact, children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-4 h-4 mr-1",
            fill: "none",
            stroke: "currentColor",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 4v16m8-8H4"
              }
            )
          }
        ),
        "Add"
      ] })
    ] }),
    /* @__PURE__ */ jsx(CardContent, { children: contacts.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "text-center py-6", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-10 h-10 mx-auto text-gray-400 dark:text-gray-600 mb-2",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "No contacts added yet" }),
      showActions && onAddContact && /* @__PURE__ */ jsx(
        Button,
        {
          variant: "outline",
          size: "sm",
          className: "mt-3",
          onClick: onAddContact,
          children: "Add Contact"
        }
      )
    ] }) : /* @__PURE__ */ jsx("div", { className: "space-y-3", children: contacts.map((contact) => /* @__PURE__ */ jsxs(
      "div",
      {
        className: `
                  flex items-center gap-3 p-2 rounded-lg
                  ${onContactClick ? "cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800" : ""}
                `,
        onClick: () => onContactClick?.(contact),
        children: [
          /* @__PURE__ */ jsx(Avatar, { name: contact.name, size: "sm" }),
          /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white truncate", children: contact.name }),
              contact.isPrimary && /* @__PURE__ */ jsx("span", { className: "text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 px-1.5 py-0.5 rounded", children: "Primary" })
            ] }),
            contact.role && /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 truncate", children: contact.role })
          ] }),
          showActions && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
            contact.email && onEmail && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: (e) => {
                  e.stopPropagation();
                  onEmail(contact);
                },
                className: "p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",
                title: `Email ${contact.name}`,
                children: /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-4 h-4",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                      }
                    )
                  }
                )
              }
            ),
            contact.phone && onCall && /* @__PURE__ */ jsx(
              "button",
              {
                onClick: (e) => {
                  e.stopPropagation();
                  onCall(contact);
                },
                className: "p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",
                title: `Call ${contact.name}`,
                children: /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-4 h-4",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                      }
                    )
                  }
                )
              }
            )
          ] })
        ]
      },
      contact.id
    )) }) })
  ] });
}
function EmployerList({
  employers,
  onEmployerClick,
  onAddEmployer,
  onSearch,
  isLoading = false,
  showSearch = true,
  emptyMessage = "No employers linked yet",
  className = ""
}) {
  const [searchQuery, setSearchQuery] = React46.useState("");
  const handleSearch = (e) => {
    const query = e.target.value;
    setSearchQuery(query);
    onSearch?.(query);
  };
  const filteredEmployers = React46.useMemo(() => {
    if (!searchQuery.trim()) return employers;
    const q = searchQuery.toLowerCase();
    return employers.filter(
      (emp) => emp.name.toLowerCase().includes(q) || emp.email?.toLowerCase().includes(q)
    );
  }, [employers, searchQuery]);
  const formatDate4 = (date) => {
    if (!date) return "";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "active":
        return "success";
      case "pending":
        return "warning";
      case "inactive":
        return "secondary";
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-4 ${className}`, children: [
      showSearch && /* @__PURE__ */ jsx("div", { className: "h-10 bg-gray-200 dark:bg-gray-700 rounded animate-pulse" }),
      /* @__PURE__ */ jsx("div", { className: "space-y-2", children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
        "div",
        {
          className: "h-20 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"
        },
        i
      )) })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-4 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
      showSearch && /* @__PURE__ */ jsxs("div", { className: "flex-1 relative", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",
            fill: "none",
            stroke: "currentColor",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            type: "text",
            placeholder: "Search employers...",
            value: searchQuery,
            onChange: handleSearch,
            className: "pl-9"
          }
        )
      ] }),
      onAddEmployer && /* @__PURE__ */ jsxs(Button, { onClick: onAddEmployer, size: "sm", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-4 h-4 mr-1",
            fill: "none",
            stroke: "currentColor",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 4v16m8-8H4"
              }
            )
          }
        ),
        "Add"
      ] })
    ] }),
    filteredEmployers.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "text-center py-12 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-3",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400 mb-3", children: emptyMessage }),
      onAddEmployer && !searchQuery && /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onAddEmployer, children: "Link Employer" })
    ] }) : /* @__PURE__ */ jsx("div", { className: "space-y-2", children: filteredEmployers.map((employer) => /* @__PURE__ */ jsx(
      "div",
      {
        onClick: () => onEmployerClick?.(employer),
        className: `
                p-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg
                ${onEmployerClick ? "cursor-pointer hover:border-gray-300 dark:hover:border-gray-600 hover:shadow-sm transition-all" : ""}
              `,
        children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
          employer.logoUrl ? /* @__PURE__ */ jsx(
            "img",
            {
              src: employer.logoUrl,
              alt: employer.name,
              className: "w-10 h-10 rounded object-contain bg-gray-50 dark:bg-gray-800"
            }
          ) : /* @__PURE__ */ jsx("div", { className: "w-10 h-10 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center", children: /* @__PURE__ */ jsx("span", { className: "text-lg font-bold text-blue-600 dark:text-blue-400", children: employer.name.charAt(0) }) }),
          /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 dark:text-white truncate", children: employer.name }),
              /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(employer.status), children: employer.status })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4 mt-0.5", children: [
              employer.email && /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 dark:text-gray-400 truncate", children: employer.email }),
              employer.linkedDate && /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-400 dark:text-gray-500", children: [
                "Linked ",
                formatDate4(employer.linkedDate)
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "hidden sm:flex items-center gap-4 text-center", children: [
            employer.activeEmployees !== void 0 && /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("p", { className: "text-lg font-bold text-gray-900 dark:text-white", children: employer.activeEmployees }),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Employees" })
            ] }),
            employer.pendingOrders !== void 0 && /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx(
                "p",
                {
                  className: `text-lg font-bold ${employer.pendingOrders > 0 ? "text-orange-600 dark:text-orange-400" : "text-gray-900 dark:text-white"}`,
                  children: employer.pendingOrders
                }
              ),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Pending" })
            ] })
          ] }),
          onEmployerClick && /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-5 h-5 text-gray-400",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M9 5l7 7-7 7"
                }
              )
            }
          )
        ] })
      },
      employer.id
    )) })
  ] });
}
function EmployerPricingCard({
  serviceName,
  basePrice,
  tiers = [],
  currency = "$",
  onEdit,
  onRemove,
  editable = true,
  isActive = true,
  notes,
  className = ""
}) {
  const formatPrice = (price) => {
    return `${currency}${price.toFixed(2)}`;
  };
  const formatQuantityRange = (tier) => {
    if (tier.minQuantity !== void 0 && tier.maxQuantity !== void 0) {
      return `${tier.minQuantity}-${tier.maxQuantity}`;
    }
    if (tier.minQuantity !== void 0) {
      return `${tier.minQuantity}+`;
    }
    return "Any quantity";
  };
  return /* @__PURE__ */ jsxs(
    Card,
    {
      className: `${className} ${!isActive ? "opacity-60" : ""}`,
      children: [
        /* @__PURE__ */ jsxs(CardHeader, { className: "flex flex-row items-start justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsx(CardTitle, { className: "text-base font-semibold", children: serviceName }),
            !isActive && /* @__PURE__ */ jsx(Badge, { variant: "secondary", className: "mt-1", children: "Inactive" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
            /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: formatPrice(basePrice) }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "base price" })
          ] })
        ] }),
        /* @__PURE__ */ jsxs(CardContent, { className: "pt-0", children: [
          tiers.length > 0 && /* @__PURE__ */ jsxs("div", { className: "mt-3 space-y-2", children: [
            /* @__PURE__ */ jsx("p", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Volume Pricing" }),
            /* @__PURE__ */ jsx("div", { className: "space-y-1", children: tiers.map((tier) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: "flex items-center justify-between py-1.5 px-2 rounded bg-gray-50 dark:bg-gray-800/50",
                children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-600 dark:text-gray-300", children: tier.name }),
                    /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-400", children: [
                      "(",
                      formatQuantityRange(tier),
                      ")"
                    ] }),
                    tier.isDefault && /* @__PURE__ */ jsx(Badge, { variant: "outline", className: "text-xs", children: "Default" })
                  ] }),
                  /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-gray-900 dark:text-white", children: formatPrice(tier.price) })
                ]
              },
              tier.id
            )) })
          ] }),
          notes && /* @__PURE__ */ jsx("div", { className: "mt-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-800", children: /* @__PURE__ */ jsxs("p", { className: "text-xs text-yellow-800 dark:text-yellow-200", children: [
            /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Note:" }),
            " ",
            notes
          ] }) }),
          editable && /* @__PURE__ */ jsxs("div", { className: "mt-4 flex gap-2", children: [
            onEdit && /* @__PURE__ */ jsxs(Button, { variant: "outline", size: "sm", onClick: onEdit, children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-3.5 h-3.5 mr-1",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
                    }
                  )
                }
              ),
              "Edit Pricing"
            ] }),
            onRemove && /* @__PURE__ */ jsxs(Button, { variant: "ghost", size: "sm", onClick: onRemove, children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-3.5 h-3.5 mr-1 text-red-500",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                    }
                  )
                }
              ),
              "Remove"
            ] })
          ] })
        ] })
      ]
    }
  );
}
function EmployerView({
  employer,
  onEdit,
  onContact,
  onViewOrder,
  onViewInvoice,
  onCreateOrder,
  onCreateInvoice,
  isLoading = false,
  defaultTab = "overview",
  className = ""
}) {
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const formatCurrency3 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD"
    }).format(amount);
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "active":
      case "completed":
      case "paid":
        return "success";
      case "pending":
      case "scheduled":
      case "draft":
      case "sent":
        return "warning";
      case "inactive":
      case "cancelled":
      case "overdue":
        return "danger";
      default:
        return "default";
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-4 animate-pulse ${className}`, children: [
      /* @__PURE__ */ jsx("div", { className: "h-32 bg-gray-200 dark:bg-gray-700 rounded-lg" }),
      /* @__PURE__ */ jsx("div", { className: "h-64 bg-gray-200 dark:bg-gray-700 rounded-lg" })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsx(Card, { children: /* @__PURE__ */ jsxs(CardContent, { className: "p-6", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
          employer.logoUrl ? /* @__PURE__ */ jsx(
            "img",
            {
              src: employer.logoUrl,
              alt: employer.name,
              className: "w-16 h-16 rounded-lg object-cover"
            }
          ) : /* @__PURE__ */ jsx("div", { className: "w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ jsx("span", { className: "text-2xl font-bold text-gray-500 dark:text-gray-400", children: employer.name.charAt(0) }) }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: employer.name }),
              /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(employer.status), children: employer.status })
            ] }),
            /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
              "Linked since ",
              formatDate4(employer.linkedDate)
            ] }),
            employer.address && /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: [
              employer.address.city,
              ", ",
              employer.address.state
            ] })
          ] })
        ] }),
        onEdit && /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onEdit, children: "Edit Employer" })
      ] }),
      employer.stats && /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 md:grid-cols-5 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: employer.stats.totalOrders }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Total Orders" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-green-600 dark:text-green-400", children: employer.stats.completedOrders }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Completed" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-yellow-600 dark:text-yellow-400", children: employer.stats.pendingOrders }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Pending" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: formatCurrency3(employer.stats.totalRevenue) }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Total Revenue" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-orange-600 dark:text-orange-400", children: formatCurrency3(employer.stats.outstandingBalance) }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Outstanding" })
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs(Tabs, { defaultValue: defaultTab, children: [
      /* @__PURE__ */ jsxs(TabsList, { children: [
        /* @__PURE__ */ jsx(TabsTrigger, { value: "overview", children: "Overview" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "orders", children: "Orders" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "invoices", children: "Invoices" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "contacts", children: "Contacts" })
      ] }),
      /* @__PURE__ */ jsx(TabsContent, { value: "overview", children: /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-6", children: [
        employer.address && /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Address" }) }),
          /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsxs("address", { className: "not-italic text-gray-700 dark:text-gray-300", children: [
            employer.address.street,
            employer.address.street2 && /* @__PURE__ */ jsxs(Fragment, { children: [
              /* @__PURE__ */ jsx("br", {}),
              employer.address.street2
            ] }),
            /* @__PURE__ */ jsx("br", {}),
            employer.address.city,
            ", ",
            employer.address.state,
            " ",
            employer.address.zip
          ] }) })
        ] }),
        employer.contacts.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Primary Contact" }) }),
          /* @__PURE__ */ jsx(CardContent, { children: (() => {
            const primary = employer.contacts.find((c) => c.isPrimary) || employer.contacts[0];
            return /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(Avatar, { name: primary.name, size: "md" }),
              /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: primary.name }),
                primary.role && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: primary.role }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: primary.email })
              ] }),
              onContact && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "outline",
                  size: "sm",
                  onClick: () => onContact(primary),
                  children: "Contact"
                }
              )
            ] });
          })() })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "orders", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsxs(CardHeader, { className: "flex flex-row items-center justify-between", children: [
          /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Recent Orders" }),
          onCreateOrder && /* @__PURE__ */ jsx(Button, { size: "sm", onClick: onCreateOrder, children: "New Order" })
        ] }),
        /* @__PURE__ */ jsx(CardContent, { children: employer.recentOrders.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-8", children: "No orders yet" }) : /* @__PURE__ */ jsx("div", { className: "space-y-3", children: employer.recentOrders.map((order) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",
            children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.orderNumber }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: order.patientName }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: order.services.join(", ") })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
                /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(order.status), children: order.status }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: formatDate4(order.createdDate) })
              ] }),
              onViewOrder && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => onViewOrder(order),
                  children: "View"
                }
              )
            ]
          },
          order.id
        )) }) })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "invoices", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsxs(CardHeader, { className: "flex flex-row items-center justify-between", children: [
          /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Recent Invoices" }),
          onCreateInvoice && /* @__PURE__ */ jsx(Button, { size: "sm", onClick: onCreateInvoice, children: "New Invoice" })
        ] }),
        /* @__PURE__ */ jsx(CardContent, { children: employer.recentInvoices.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-8", children: "No invoices yet" }) : /* @__PURE__ */ jsx("div", { className: "space-y-3", children: employer.recentInvoices.map((invoice) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",
            children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: invoice.invoiceNumber }),
                /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: [
                  "Due: ",
                  formatDate4(invoice.dueDate)
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "text-right", children: [
                /* @__PURE__ */ jsx("p", { className: "font-semibold text-gray-900 dark:text-white", children: formatCurrency3(invoice.amount) }),
                /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(invoice.status), children: invoice.status })
              ] }),
              onViewInvoice && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => onViewInvoice(invoice),
                  children: "View"
                }
              )
            ]
          },
          invoice.id
        )) }) })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "contacts", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "All Contacts" }) }),
        /* @__PURE__ */ jsx(CardContent, { children: employer.contacts.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-8", children: "No contacts added" }) : /* @__PURE__ */ jsx("div", { className: "space-y-4", children: employer.contacts.map((contact) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",
            children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ jsx(Avatar, { name: contact.name, size: "sm" }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: contact.name }),
                    contact.isPrimary && /* @__PURE__ */ jsx(Badge, { variant: "default", children: "Primary" })
                  ] }),
                  contact.role && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: contact.role }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: contact.email }),
                  contact.phone && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: contact.phone })
                ] })
              ] }),
              onContact && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "outline",
                  size: "sm",
                  onClick: () => onContact(contact),
                  children: "Contact"
                }
              )
            ]
          },
          contact.id
        )) }) })
      ] }) })
    ] })
  ] });
}
function EmployerServiceModal({
  open,
  onOpenChange,
  onSave,
  employer,
  service,
  existingConfig,
  isSubmitting = false,
  errorMessage
}) {
  const [config, setConfig] = React46.useState({
    serviceId: service?.id || "",
    employerId: employer?.id || "",
    customPrice: existingConfig?.customPrice,
    useBasePrice: existingConfig?.useBasePrice ?? true,
    autoAccept: existingConfig?.autoAccept ?? false,
    requiresApproval: existingConfig?.requiresApproval ?? false,
    notifyOnOrder: existingConfig?.notifyOnOrder ?? true,
    notificationEmail: existingConfig?.notificationEmail,
    notes: existingConfig?.notes,
    billingCode: existingConfig?.billingCode
  });
  React46.useEffect(() => {
    setConfig({
      serviceId: service?.id || "",
      employerId: employer?.id || "",
      customPrice: existingConfig?.customPrice,
      useBasePrice: existingConfig?.useBasePrice ?? true,
      autoAccept: existingConfig?.autoAccept ?? false,
      requiresApproval: existingConfig?.requiresApproval ?? false,
      notifyOnOrder: existingConfig?.notifyOnOrder ?? true,
      notificationEmail: existingConfig?.notificationEmail,
      notes: existingConfig?.notes,
      billingCode: existingConfig?.billingCode
    });
  }, [service, employer, existingConfig]);
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!onSave) return;
    onSave(config);
  };
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "lg", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsxs(ModalTitle, { children: [
      "Configure Service for ",
      employer?.name || "Employer"
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      service && /* @__PURE__ */ jsxs("div", { className: "p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-blue-900 dark:text-blue-100", children: service.name }),
        /* @__PURE__ */ jsxs("p", { className: "text-xs text-blue-600 dark:text-blue-400", children: [
          "Base price: $",
          service.basePrice.toFixed(2)
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Pricing" }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-900 dark:text-white", children: "Use Base Price" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Use the service's default pricing" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: config.useBasePrice,
              onCheckedChange: (checked) => setConfig((prev) => ({
                ...prev,
                useBasePrice: checked,
                customPrice: checked ? void 0 : prev.customPrice
              }))
            }
          )
        ] }),
        !config.useBasePrice && /* @__PURE__ */ jsxs("div", { className: "ml-4 pl-4 border-l-2 border-gray-200 dark:border-gray-700", children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Custom Price" }),
          /* @__PURE__ */ jsxs("div", { className: "relative w-40", children: [
            /* @__PURE__ */ jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-500", children: "$" }),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "number",
                min: "0",
                step: "0.01",
                className: "w-full pl-7 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
                value: config.customPrice ?? "",
                onChange: (e) => setConfig((prev) => ({
                  ...prev,
                  customPrice: parseFloat(e.target.value) || void 0
                })),
                placeholder: "0.00"
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: "Billing Code (Optional)",
          value: config.billingCode || "",
          onChange: (e) => setConfig((prev) => ({ ...prev, billingCode: e.target.value })),
          placeholder: "e.g., ACME-001"
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Order Handling" }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-900 dark:text-white", children: "Auto-Accept Orders" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Automatically accept orders from this employer" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: config.autoAccept,
              onCheckedChange: (checked) => setConfig((prev) => ({ ...prev, autoAccept: checked }))
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-900 dark:text-white", children: "Requires Approval" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Orders need manual approval before processing" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: config.requiresApproval,
              onCheckedChange: (checked) => setConfig((prev) => ({ ...prev, requiresApproval: checked }))
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Notifications" }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-900 dark:text-white", children: "Notify on New Orders" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Send email when orders are placed" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: config.notifyOnOrder,
              onCheckedChange: (checked) => setConfig((prev) => ({ ...prev, notifyOnOrder: checked }))
            }
          )
        ] }),
        config.notifyOnOrder && /* @__PURE__ */ jsx("div", { className: "ml-4 pl-4 border-l-2 border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(
          Input,
          {
            label: "Notification Email",
            type: "email",
            value: config.notificationEmail || "",
            onChange: (e) => setConfig((prev) => ({
              ...prev,
              notificationEmail: e.target.value
            })),
            placeholder: "notifications@example.com"
          }
        ) })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Internal Notes" }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 3,
            value: config.notes || "",
            onChange: (e) => setConfig((prev) => ({ ...prev, notes: e.target.value })),
            placeholder: "Notes about this employer's service configuration..."
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ jsx(Button, { type: "submit", disabled: isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "animate-spin -ml-1 mr-2 h-4 w-4",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                }
              )
            ]
          }
        ),
        "Saving..."
      ] }) : "Save Configuration" })
    ] })
  ] }) });
}
var DEFAULT_ERROR_CONFIGS = {
  "404": {
    code: "404",
    title: "Page Not Found",
    description: "Sorry, we couldn't find the page you're looking for. It might have been moved or doesn't exist."
  },
  "500": {
    code: "500",
    title: "Server Error",
    description: "Something went wrong on our end. Our team has been notified and is working to fix it."
  },
  "403": {
    code: "403",
    title: "Access Denied",
    description: "You don't have permission to access this page. Please contact support if you think this is a mistake."
  },
  "401": {
    code: "401",
    title: "Unauthorized",
    description: "Please sign in to access this page."
  },
  offline: {
    title: "You're Offline",
    description: "Check your internet connection and try again."
  },
  maintenance: {
    title: "Under Maintenance",
    description: "We're currently performing scheduled maintenance. We'll be back shortly!"
  },
  generic: {
    title: "Something Went Wrong",
    description: "An unexpected error occurred. Please try again later."
  }
};
var errorPageVariants = cva(
  "flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 text-center",
  {
    variants: {
      size: {
        sm: "min-h-[40vh] py-8",
        md: "min-h-[60vh] py-12",
        lg: "min-h-screen py-16"
      }
    },
    defaultVariants: {
      size: "md"
    }
  }
);
function ErrorPage({
  type = "generic",
  code,
  title,
  description,
  illustration,
  primaryAction,
  secondaryAction,
  showHomeButton = true,
  homeHref = "/",
  showBackButton = true,
  children,
  size,
  className
}) {
  const config = DEFAULT_ERROR_CONFIGS[type];
  const displayCode = code ?? config.code;
  const displayTitle = title ?? config.title;
  const displayDescription = description ?? config.description;
  const handleBack = () => {
    if (typeof window !== "undefined") {
      window.history.back();
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: cn(errorPageVariants({ size }), className), children: [
    /* @__PURE__ */ jsx("div", { className: "mb-8", children: illustration || /* @__PURE__ */ jsx(DefaultIllustration, { type }) }),
    displayCode && /* @__PURE__ */ jsx("div", { className: "mb-4 text-6xl font-bold text-gray-200 sm:text-8xl dark:text-gray-700", children: displayCode }),
    /* @__PURE__ */ jsx("h1", { className: "mb-3 text-2xl font-bold text-gray-900 sm:text-3xl dark:text-white", children: displayTitle }),
    /* @__PURE__ */ jsx("p", { className: "mb-8 max-w-md text-gray-600 dark:text-gray-400", children: displayDescription }),
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-3 sm:flex-row", children: [
      primaryAction && /* @__PURE__ */ jsx(
        ActionButton,
        {
          label: primaryAction.label,
          onClick: primaryAction.onClick,
          href: primaryAction.href,
          variant: "primary"
        }
      ),
      secondaryAction && /* @__PURE__ */ jsx(
        ActionButton,
        {
          label: secondaryAction.label,
          onClick: secondaryAction.onClick,
          href: secondaryAction.href,
          variant: "secondary"
        }
      ),
      showHomeButton && !primaryAction && /* @__PURE__ */ jsx(
        ActionButton,
        {
          label: "Take Me Home",
          href: homeHref,
          variant: "primary"
        }
      ),
      showBackButton && /* @__PURE__ */ jsx(
        ActionButton,
        {
          label: "Go Back",
          onClick: handleBack,
          variant: "secondary"
        }
      )
    ] }),
    children && /* @__PURE__ */ jsx("div", { className: "mt-8", children })
  ] });
}
function NotFoundPage(props) {
  return /* @__PURE__ */ jsx(ErrorPage, { type: "404", ...props });
}
function ServerErrorPage({
  error,
  showErrorDetails = false,
  children,
  ...props
}) {
  const errorMessage = error instanceof Error ? error.message : error;
  const errorStack = error instanceof Error ? error.stack : void 0;
  return /* @__PURE__ */ jsxs(ErrorPage, { type: "500", ...props, children: [
    showErrorDetails && errorMessage && /* @__PURE__ */ jsx("div", { className: "mt-4 max-w-2xl text-left", children: /* @__PURE__ */ jsxs("details", { className: "rounded-lg bg-gray-100 p-4 dark:bg-gray-800", children: [
      /* @__PURE__ */ jsx("summary", { className: "cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300", children: "Error Details" }),
      /* @__PURE__ */ jsxs("div", { className: "mt-3 space-y-2", children: [
        /* @__PURE__ */ jsx("p", { className: "font-mono text-sm text-red-600 dark:text-red-400", children: errorMessage }),
        errorStack && /* @__PURE__ */ jsx("pre", { className: "overflow-x-auto rounded bg-gray-50 p-2 text-xs text-gray-600 dark:bg-gray-900 dark:text-gray-400", children: errorStack })
      ] })
    ] }) }),
    children
  ] });
}
function OfflinePage({ onRetry, ...props }) {
  return /* @__PURE__ */ jsx(
    ErrorPage,
    {
      type: "offline",
      primaryAction: onRetry ? { label: "Try Again", onClick: onRetry } : { label: "Refresh", onClick: () => window.location.reload() },
      showHomeButton: false,
      showBackButton: false,
      ...props
    }
  );
}
function MaintenancePage({
  estimatedTime,
  statusUrl,
  description,
  children,
  ...props
}) {
  const fullDescription = description ?? DEFAULT_ERROR_CONFIGS.maintenance.description;
  const descriptionWithTime = estimatedTime ? `${fullDescription} Estimated time: ${estimatedTime}.` : fullDescription;
  return /* @__PURE__ */ jsxs(
    ErrorPage,
    {
      type: "maintenance",
      description: descriptionWithTime,
      showHomeButton: false,
      showBackButton: false,
      ...props,
      children: [
        statusUrl && /* @__PURE__ */ jsx(
          "a",
          {
            href: statusUrl,
            target: "_blank",
            rel: "noopener noreferrer",
            className: "text-primary-600 hover:text-primary-700 text-sm font-medium",
            children: "Check Status Page \u2192"
          }
        ),
        children
      ]
    }
  );
}
function AccessDeniedPage({
  showSignInButton = false,
  onSignIn,
  signInHref = "/login",
  ...props
}) {
  return /* @__PURE__ */ jsx(
    ErrorPage,
    {
      type: "403",
      primaryAction: showSignInButton ? { label: "Sign In", onClick: onSignIn, href: signInHref } : void 0,
      ...props
    }
  );
}
function ActionButton({ label, onClick, href, variant }) {
  const baseClasses = "px-6 py-2.5 rounded-lg font-medium transition-colors min-w-[140px]";
  const variantClasses = variant === "primary" ? "bg-primary-600 text-white hover:bg-primary-700" : "bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600";
  if (href) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href,
        className: cn(baseClasses, variantClasses, "inline-block text-center"),
        children: label
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick,
      className: cn(baseClasses, variantClasses),
      children: label
    }
  );
}
function DefaultIllustration({ type }) {
  const iconClasses = "h-24 w-24 text-gray-300 dark:text-gray-600";
  switch (type) {
    case "404":
      return /* @__PURE__ */ jsx(Search404Icon, { className: iconClasses });
    case "500":
      return /* @__PURE__ */ jsx(ServerErrorIcon, { className: iconClasses });
    case "403":
    case "401":
      return /* @__PURE__ */ jsx(LockIcon, { className: iconClasses });
    case "offline":
      return /* @__PURE__ */ jsx(WifiOffIcon, { className: iconClasses });
    case "maintenance":
      return /* @__PURE__ */ jsx(WrenchIcon, { className: iconClasses });
    default:
      return /* @__PURE__ */ jsx(AlertIcon, { className: iconClasses });
  }
}
function Search404Icon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M10 8.5v0m0 3.5v.01"
          }
        )
      ]
    }
  );
}
function ServerErrorIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
        }
      )
    }
  );
}
function LockIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"
        }
      )
    }
  );
}
function WifiOffIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z"
          }
        ),
        /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3 3l18 18" })
      ]
    }
  );
}
function WrenchIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            d: "M4.867 19.125h.008v.008h-.008v-.008z"
          }
        )
      ]
    }
  );
}
function AlertIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"
        }
      )
    }
  );
}
function formatFileSize4(bytes) {
  if (bytes === 0) return "0 B";
  const k = 1024;
  const sizes = ["B", "KB", "MB", "GB"];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + " " + sizes[i];
}
function getFileIcon(extension) {
  const ext = extension.toLowerCase().replace(".", "");
  if (["pdf"].includes(ext)) {
    return /* @__PURE__ */ jsx(
      "svg",
      {
        className: "w-5 h-5 text-red-500",
        fill: "currentColor",
        viewBox: "0 0 20 20",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            fillRule: "evenodd",
            d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",
            clipRule: "evenodd"
          }
        )
      }
    );
  }
  if (["doc", "docx"].includes(ext)) {
    return /* @__PURE__ */ jsx(
      "svg",
      {
        className: "w-5 h-5 text-blue-500",
        fill: "currentColor",
        viewBox: "0 0 20 20",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            fillRule: "evenodd",
            d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",
            clipRule: "evenodd"
          }
        )
      }
    );
  }
  if (["xls", "xlsx", "csv"].includes(ext)) {
    return /* @__PURE__ */ jsx(
      "svg",
      {
        className: "w-5 h-5 text-green-500",
        fill: "currentColor",
        viewBox: "0 0 20 20",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            fillRule: "evenodd",
            d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",
            clipRule: "evenodd"
          }
        )
      }
    );
  }
  if (["jpg", "jpeg", "png", "gif", "webp", "svg"].includes(ext)) {
    return /* @__PURE__ */ jsx(
      "svg",
      {
        className: "w-5 h-5 text-purple-500",
        fill: "currentColor",
        viewBox: "0 0 20 20",
        children: /* @__PURE__ */ jsx(
          "path",
          {
            fillRule: "evenodd",
            d: "M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",
            clipRule: "evenodd"
          }
        )
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className: "w-5 h-5 text-gray-400",
      fill: "currentColor",
      viewBox: "0 0 20 20",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function FileManager({
  files,
  totalStorageUsed,
  storageLimit,
  onUpload,
  onDelete,
  onDownload,
  onPreview,
  uploadProgress,
  isUploading = false,
  showDropzone = true,
  acceptedFileTypes,
  errorMessage,
  className = ""
}) {
  const [isDragging, setIsDragging] = React46.useState(false);
  const fileInputRef = React46.useRef(null);
  const handleDragOver = (e) => {
    e.preventDefault();
    setIsDragging(true);
  };
  const handleDragLeave = (e) => {
    e.preventDefault();
    setIsDragging(false);
  };
  const handleDrop = (e) => {
    e.preventDefault();
    setIsDragging(false);
    if (onUpload && e.dataTransfer.files.length > 0) {
      onUpload(e.dataTransfer.files);
    }
  };
  const handleFileSelect = (e) => {
    if (onUpload && e.target.files && e.target.files.length > 0) {
      onUpload(e.target.files);
      e.target.value = "";
    }
  };
  const handleUploadClick = () => {
    fileInputRef.current?.click();
  };
  return /* @__PURE__ */ jsxs("div", { className, children: [
    showDropzone && /* @__PURE__ */ jsx(
      Card,
      {
        className: `
            mb-4 border-2 border-dashed transition-all duration-200 cursor-pointer
            ${isDragging ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20" : "border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}
          `.trim(),
        onDragOver: handleDragOver,
        onDragLeave: handleDragLeave,
        onDrop: handleDrop,
        onClick: handleUploadClick,
        children: /* @__PURE__ */ jsxs("div", { className: "p-6 flex flex-col items-center justify-center", children: [
          /* @__PURE__ */ jsx(
            "div",
            {
              className: `w-12 h-12 rounded-full flex items-center justify-center mb-3 ${isDragging ? "bg-blue-100 dark:bg-blue-800" : "bg-gray-100 dark:bg-gray-800"}`,
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: `w-6 h-6 ${isDragging ? "text-blue-500" : "text-gray-400"}`,
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M12 4v16m8-8H4"
                    }
                  )
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: isDragging ? "Drop files here" : "Add File" }),
          /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-500 mt-1", children: "Click or drag and drop" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              ref: fileInputRef,
              type: "file",
              className: "hidden",
              multiple: true,
              accept: acceptedFileTypes,
              onChange: handleFileSelect
            }
          )
        ] })
      }
    ),
    isUploading && uploadProgress !== void 0 && /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2", children: [
        /* @__PURE__ */ jsx("span", { children: "Uploading..." }),
        /* @__PURE__ */ jsxs("span", { children: [
          uploadProgress,
          "%"
        ] })
      ] }),
      /* @__PURE__ */ jsx(Progress, { value: uploadProgress, max: 100 })
    ] }),
    errorMessage && /* @__PURE__ */ jsx("div", { className: "mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
    totalStorageUsed !== void 0 && /* @__PURE__ */ jsx("div", { className: "mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg text-center", children: /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
      "Used Storage:",
      " ",
      /* @__PURE__ */ jsx("span", { className: "font-semibold text-gray-900 dark:text-white", children: formatFileSize4(totalStorageUsed) }),
      storageLimit && /* @__PURE__ */ jsxs("span", { className: "text-gray-500", children: [
        " / ",
        formatFileSize4(storageLimit)
      ] })
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
      /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("th", { className: "text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-3", children: "Filename" }),
        /* @__PURE__ */ jsx("th", { className: "text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-3", children: "Extension" }),
        /* @__PURE__ */ jsx("th", { className: "text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-3", children: "Size" }),
        /* @__PURE__ */ jsx("th", { className: "text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-3", children: "Actions" })
      ] }) }),
      /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-100 dark:divide-gray-800", children: files.length > 0 ? files.map((file) => /* @__PURE__ */ jsxs("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800/50", children: [
        /* @__PURE__ */ jsx("td", { className: "py-3", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          getFileIcon(file.fileExtension),
          /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-900 dark:text-white truncate max-w-xs", children: file.filename })
        ] }) }),
        /* @__PURE__ */ jsx("td", { className: "py-3 text-center", children: /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-500 dark:text-gray-400 uppercase", children: file.fileExtension.replace(".", "") }) }),
        /* @__PURE__ */ jsx("td", { className: "py-3 text-center", children: /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: formatFileSize4(file.fileSize) }) }),
        /* @__PURE__ */ jsx("td", { className: "py-3", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end gap-1", children: [
          onPreview && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => onPreview(file.id),
              className: "p-1.5 text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",
              title: "Preview",
              children: /* @__PURE__ */ jsxs(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: [
                    /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                      }
                    ),
                    /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                      }
                    )
                  ]
                }
              )
            }
          ),
          onDownload && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => onDownload(file.id),
              className: "p-1.5 text-gray-400 hover:text-green-500 dark:hover:text-green-400 transition-colors",
              title: "Download",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                    }
                  )
                }
              )
            }
          ),
          onDelete && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => onDelete(file.id),
              className: "p-1.5 text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",
              title: "Delete",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                    }
                  )
                }
              )
            }
          )
        ] }) })
      ] }, file.id)) : /* @__PURE__ */ jsx("tr", { children: /* @__PURE__ */ jsx("td", { colSpan: 4, className: "py-8", children: /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 1.5,
                d: "M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 font-medium", children: "No Files" }),
        /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-400 dark:text-gray-500 mt-1", children: "Upload files to get started" })
      ] }) }) }) })
    ] }) })
  ] });
}
function HelpSupportPanel({
  faqs = [],
  contacts = [],
  onSubmitRequest,
  onStartChat,
  chatAvailable = false,
  docsUrl,
  isSubmitting = false,
  successMessage,
  className = ""
}) {
  const [searchTerm, setSearchTerm] = React46.useState("");
  const [expandedFaq, setExpandedFaq] = React46.useState(null);
  const [formData, setFormData] = React46.useState({
    subject: "",
    message: "",
    email: ""
  });
  const [showSuccess, setShowSuccess] = React46.useState(false);
  const filteredFaqs = faqs.filter(
    (faq) => faq.question.toLowerCase().includes(searchTerm.toLowerCase()) || faq.answer.toLowerCase().includes(searchTerm.toLowerCase())
  );
  const handleSubmit = (e) => {
    e.preventDefault();
    if (onSubmitRequest) {
      onSubmitRequest(formData);
      setShowSuccess(true);
      setFormData({ subject: "", message: "", email: "" });
      setTimeout(() => setShowSuccess(false), 5e3);
    }
  };
  const getContactIcon = (type) => {
    switch (type) {
      case "email":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" }) });
      case "phone":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" }) });
      case "chat":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" }) });
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: "Help & Support" }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Find answers or get in touch with our support team" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        docsUrl && /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "outline",
            onClick: () => window.open(docsUrl, "_blank"),
            children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 mr-2",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                    }
                  )
                }
              ),
              "Documentation"
            ]
          }
        ),
        onStartChat && chatAvailable && /* @__PURE__ */ jsxs(Button, { onClick: onStartChat, children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 mr-2",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                }
              )
            }
          ),
          "Start Chat"
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-3 gap-6", children: [
      /* @__PURE__ */ jsxs("div", { className: "md:col-span-2 space-y-4", children: [
        faqs.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Frequently Asked Questions" }) }),
          /* @__PURE__ */ jsxs(CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ jsx(
              Input,
              {
                placeholder: "Search FAQs...",
                value: searchTerm,
                onChange: (e) => setSearchTerm(e.target.value)
              }
            ),
            filteredFaqs.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-4", children: "No FAQs match your search" }) : /* @__PURE__ */ jsx("div", { className: "space-y-2", children: filteredFaqs.map((faq) => /* @__PURE__ */ jsxs(
              "div",
              {
                className: "border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",
                children: [
                  /* @__PURE__ */ jsxs(
                    "button",
                    {
                      className: "w-full px-4 py-3 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",
                      onClick: () => setExpandedFaq(
                        expandedFaq === faq.id ? null : faq.id
                      ),
                      children: [
                        /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 dark:text-white", children: faq.question }),
                        /* @__PURE__ */ jsx(
                          "svg",
                          {
                            className: `w-5 h-5 text-gray-400 transition-transform ${expandedFaq === faq.id ? "rotate-180" : ""}`,
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: /* @__PURE__ */ jsx(
                              "path",
                              {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M19 9l-7 7-7-7"
                              }
                            )
                          }
                        )
                      ]
                    }
                  ),
                  expandedFaq === faq.id && /* @__PURE__ */ jsx("div", { className: "px-4 py-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx("p", { className: "text-gray-600 dark:text-gray-300", children: faq.answer }) })
                ]
              },
              faq.id
            )) })
          ] })
        ] }),
        onSubmitRequest && /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Contact Support" }) }),
          /* @__PURE__ */ jsxs(CardContent, { children: [
            showSuccess && successMessage && /* @__PURE__ */ jsx("div", { className: "mb-4 p-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-lg", children: successMessage }),
            /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Your Email" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    type: "email",
                    required: true,
                    value: formData.email,
                    onChange: (e) => setFormData((prev) => ({
                      ...prev,
                      email: e.target.value
                    })),
                    placeholder: "you@example.com"
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Subject" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    required: true,
                    value: formData.subject,
                    onChange: (e) => setFormData((prev) => ({
                      ...prev,
                      subject: e.target.value
                    })),
                    placeholder: "How can we help?"
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Message" }),
                /* @__PURE__ */ jsx(
                  Textarea,
                  {
                    required: true,
                    rows: 4,
                    value: formData.message,
                    onChange: (e) => setFormData((prev) => ({
                      ...prev,
                      message: e.target.value
                    })),
                    placeholder: "Describe your issue or question..."
                  }
                )
              ] }),
              /* @__PURE__ */ jsx(Button, { type: "submit", disabled: isSubmitting, children: isSubmitting ? "Sending..." : "Send Message" })
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        contacts.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Contact Us" }) }),
          /* @__PURE__ */ jsx(CardContent, { className: "space-y-4", children: contacts.map((contact, index) => /* @__PURE__ */ jsxs(
            "div",
            {
              className: "flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",
              children: [
                /* @__PURE__ */ jsx("div", { className: "text-gray-500 dark:text-gray-400", children: getContactIcon(contact.type) }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: contact.label }),
                  contact.type === "email" ? /* @__PURE__ */ jsx(
                    "a",
                    {
                      href: `mailto:${contact.value}`,
                      className: "text-sm text-blue-600 dark:text-blue-400 hover:underline",
                      children: contact.value
                    }
                  ) : contact.type === "phone" ? /* @__PURE__ */ jsx(
                    "a",
                    {
                      href: `tel:${contact.value}`,
                      className: "text-sm text-blue-600 dark:text-blue-400 hover:underline",
                      children: contact.value
                    }
                  ) : /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: contact.value }),
                  contact.availability && /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: contact.availability })
                ] })
              ]
            },
            index
          )) })
        ] }),
        /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Quick Links" }) }),
          /* @__PURE__ */ jsxs(CardContent, { className: "space-y-2", children: [
            /* @__PURE__ */ jsxs(
              "a",
              {
                href: "#",
                className: "flex items-center gap-2 p-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) }),
                  "Getting Started Guide"
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "a",
              {
                href: "#",
                className: "flex items-center gap-2 p-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" }) }),
                  "Video Tutorials"
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "a",
              {
                href: "#",
                className: "flex items-center gap-2 p-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" }) }),
                  "Release Notes"
                ]
              }
            ),
            /* @__PURE__ */ jsxs(
              "a",
              {
                href: "#",
                className: "flex items-center gap-2 p-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",
                children: [
                  /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" }) }),
                  "System Status"
                ]
              }
            )
          ] })
        ] })
      ] })
    ] })
  ] });
}
function HRISProviderSelector({
  providers,
  currentProvider,
  onProviderSelect,
  onDisconnect,
  onRefreshSync,
  loading = false,
  searchQuery = "",
  onSearchChange,
  showCSVOption = true,
  onCSVImport,
  className,
  labels = {}
}) {
  const {
    search = "Search HR Providers...",
    importCSV = "Import from CSV",
    connected = "Connected",
    lastSync = "Last HRIS Sync",
    disconnect = "Disconnect",
    refreshSync = "Update Employees",
    noProviders = "No providers found",
    syncPending = "We are still waiting on data from your HRIS Provider. Please check back later.",
    supportEmail = "support@bluehive.com"
  } = labels;
  const filteredProviders = React46.useMemo(() => {
    if (!searchQuery.trim()) return providers;
    const query = searchQuery.toLowerCase();
    return providers.filter(
      (p) => p.displayName.toLowerCase().includes(query)
    );
  }, [providers, searchQuery]);
  const formatLastSync = (date) => {
    if (!date) return "Never";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleString();
  };
  if (currentProvider) {
    return /* @__PURE__ */ jsx("div", { className: cn("hris-provider-selector", className), children: /* @__PURE__ */ jsxs("div", { className: "rounded-lg border bg-gray-50 p-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 md:flex-row md:items-center", children: [
        currentProvider.logoUrl && /* @__PURE__ */ jsx("div", { className: "flex-shrink-0", children: /* @__PURE__ */ jsx(
          "img",
          {
            src: currentProvider.logoUrl,
            alt: currentProvider.displayName,
            className: "h-16 w-auto object-contain"
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
          /* @__PURE__ */ jsx("h4", { className: "text-lg font-bold", children: currentProvider.displayName }),
          /* @__PURE__ */ jsxs("p", { className: "text-sm text-muted-foreground", children: [
            "Your data will automatically sync as we receive updates from",
            " ",
            currentProvider.displayName,
            ". For issues, change requests, or additional information regarding your HRIS connection, please email",
            " ",
            /* @__PURE__ */ jsx("a", { href: `mailto:${supportEmail}`, className: "text-primary hover:underline", children: supportEmail }),
            "."
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mt-2 text-sm", children: [
            /* @__PURE__ */ jsxs("strong", { children: [
              lastSync,
              ":"
            ] }),
            " ",
            /* @__PURE__ */ jsx("span", { className: "text-primary", children: formatLastSync(currentProvider.lastSync) })
          ] }),
          !currentProvider.lastSync && /* @__PURE__ */ jsxs("div", { className: "mt-3 flex items-center gap-2 rounded-lg border border-yellow-300 bg-yellow-50 p-3 text-yellow-800", children: [
            /* @__PURE__ */ jsx("i", { className: "fas fa-exclamation-triangle text-lg" }),
            /* @__PURE__ */ jsx("span", { className: "text-sm", children: syncPending })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mt-4 flex flex-wrap gap-2", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onDisconnect,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-100",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-link-slash mr-2" }),
              disconnect
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onRefreshSync,
            className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-rotate mr-2" }),
              refreshSync
            ]
          }
        )
      ] })
    ] }) });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("hris-provider-selector", className), children: [
    /* @__PURE__ */ jsx("div", { className: "mb-4", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
      /* @__PURE__ */ jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-400", children: /* @__PURE__ */ jsx("i", { className: "fas fa-search" }) }),
      /* @__PURE__ */ jsx(
        "input",
        {
          type: "search",
          placeholder: search,
          value: searchQuery,
          onChange: (e) => onSearchChange?.(e.target.value),
          className: "w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"
        }
      )
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4", children: [
      showCSVOption && /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: onCSVImport,
          className: "flex flex-col items-center justify-center rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md",
          children: [
            /* @__PURE__ */ jsxs("div", { className: "mb-3 flex h-16 w-16 items-center justify-center", children: [
              /* @__PURE__ */ jsx(
                "img",
                {
                  src: "/images/app/icon-csv.svg",
                  alt: "CSV",
                  className: "h-12 w-12 object-contain",
                  onError: (e) => {
                    e.currentTarget.style.display = "none";
                    e.currentTarget.nextElementSibling?.classList.remove("hidden");
                  }
                }
              ),
              /* @__PURE__ */ jsx("i", { className: "fas fa-file-csv hidden text-4xl text-gray-400" })
            ] }),
            /* @__PURE__ */ jsx("span", { className: "text-center text-sm font-medium", children: importCSV })
          ]
        }
      ),
      loading && /* @__PURE__ */ jsx(Fragment, { children: [1, 2, 3, 4, 5, 6].map((i) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "flex flex-col items-center justify-center rounded-lg border border-gray-200 bg-white p-4 shadow-sm",
          children: [
            /* @__PURE__ */ jsx("div", { className: "mb-3 h-16 w-16 animate-pulse rounded-lg bg-gray-200" }),
            /* @__PURE__ */ jsx("div", { className: "h-4 w-20 animate-pulse rounded bg-gray-200" })
          ]
        },
        i
      )) }),
      !loading && filteredProviders.map((provider) => /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => onProviderSelect?.(provider),
          className: "flex flex-col items-center justify-center rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition-shadow hover:shadow-md",
          children: [
            /* @__PURE__ */ jsx("div", { className: "mb-3 flex h-16 w-16 items-center justify-center", children: provider.logoUrl ? /* @__PURE__ */ jsx(
              "img",
              {
                src: provider.logoUrl,
                alt: provider.displayName,
                className: "max-h-full max-w-full object-contain"
              }
            ) : /* @__PURE__ */ jsx("i", { className: "fas fa-building text-4xl text-gray-400" }) }),
            /* @__PURE__ */ jsx("span", { className: "text-center text-sm font-medium", children: provider.displayName })
          ]
        },
        provider.id
      )),
      !loading && filteredProviders.length === 0 && /* @__PURE__ */ jsx("div", { className: "col-span-full py-8 text-center text-muted-foreground", children: noProviders })
    ] })
  ] });
}
function formatDate2(date) {
  return new Intl.DateTimeFormat("en-US", {
    month: "short",
    day: "numeric",
    year: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  }).format(date);
}
function formatRelativeTime(date) {
  const now = /* @__PURE__ */ new Date();
  const diffInMs = now.getTime() - date.getTime();
  const diffInMinutes = Math.floor(diffInMs / (1e3 * 60));
  const diffInHours = Math.floor(diffInMs / (1e3 * 60 * 60));
  const diffInDays = Math.floor(diffInMs / (1e3 * 60 * 60 * 24));
  if (diffInMinutes < 1) return "Just now";
  if (diffInMinutes < 60) return `${diffInMinutes}m ago`;
  if (diffInHours < 24) return `${diffInHours}h ago`;
  if (diffInDays < 7) return `${diffInDays}d ago`;
  return formatDate2(date);
}
function InventoryManager({
  serviceName,
  currentInventory,
  logEntries = [],
  showUpdateModal = false,
  onUpdateClick,
  onUpdateModalClose,
  onUpdateSubmit,
  isLoading = false,
  className = ""
}) {
  const [updateType, setUpdateType] = React46.useState("credit");
  const [updateAmount, setUpdateAmount] = React46.useState("");
  const [updateMemo, setUpdateMemo] = React46.useState("");
  const handleSubmit = () => {
    if (!updateAmount || !onUpdateSubmit) return;
    const amount = parseInt(updateAmount, 10);
    if (isNaN(amount) || amount <= 0) return;
    onUpdateSubmit({
      type: updateType,
      amount,
      memo: updateMemo
    });
    setUpdateAmount("");
    setUpdateMemo("");
    setUpdateType("credit");
  };
  const previewChange = updateAmount ? updateType === "credit" ? currentInventory + parseInt(updateAmount, 10) : currentInventory - parseInt(updateAmount, 10) : null;
  return /* @__PURE__ */ jsxs("div", { className, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
      /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Remaining Inventory" }) }),
      /* @__PURE__ */ jsxs("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: [
        currentInventory,
        " ",
        /* @__PURE__ */ jsx("span", { className: "text-sm font-normal text-gray-500", children: "units" })
      ] })
    ] }),
    /* @__PURE__ */ jsx("hr", { className: "border-gray-200 dark:border-gray-700 mb-4" }),
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mb-4", children: [
      /* @__PURE__ */ jsx("h4", { className: "text-base font-semibold text-gray-900 dark:text-white", children: "Inventory Log" }),
      onUpdateClick && /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: onUpdateClick,
          className: "text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium flex items-center gap-1",
          children: [
            "Update Inventory",
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: "w-4 h-4",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                  }
                )
              }
            )
          ]
        }
      )
    ] }),
    /* @__PURE__ */ jsx("hr", { className: "border-gray-200 dark:border-gray-700 mb-4" }),
    logEntries.length > 0 ? /* @__PURE__ */ jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
      /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("th", { className: "text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-2", children: "Date" }),
        /* @__PURE__ */ jsx("th", { className: "text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-2", children: "User" }),
        /* @__PURE__ */ jsx("th", { className: "text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-2", children: "Change" }),
        /* @__PURE__ */ jsx("th", { className: "text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider py-2", children: "Quantity" })
      ] }) }),
      /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-100 dark:divide-gray-800", children: logEntries.map((entry) => /* @__PURE__ */ jsxs(React46.Fragment, { children: [
        /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx(
            "td",
            {
              className: "py-2 text-sm text-gray-600 dark:text-gray-400",
              title: formatDate2(entry.createdAt),
              children: formatRelativeTime(entry.createdAt)
            }
          ),
          /* @__PURE__ */ jsx("td", { className: "py-2 text-sm text-gray-600 dark:text-gray-400", children: entry.createdBy.name }),
          /* @__PURE__ */ jsx("td", { className: "py-2 text-sm text-gray-600 dark:text-gray-400", children: entry.type === "credit" ? "Added" : "Removed" }),
          /* @__PURE__ */ jsx("td", { className: "py-2 text-sm text-right", children: /* @__PURE__ */ jsxs(
            "span",
            {
              className: `inline-flex items-center gap-1 ${entry.type === "credit" ? "text-green-600 dark:text-green-400" : "text-red-600 dark:text-red-400"}`,
              children: [
                entry.type === "credit" ? /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-3.5 h-3.5",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M12 4v16m8-8H4"
                      }
                    )
                  }
                ) : /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-3.5 h-3.5",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M20 12H4"
                      }
                    )
                  }
                ),
                entry.amount
              ]
            }
          ) })
        ] }),
        entry.memo && /* @__PURE__ */ jsx("tr", { className: "bg-gray-50 dark:bg-gray-800/50", children: /* @__PURE__ */ jsx("td", { colSpan: 4, className: "py-1 px-2 text-right", children: /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 dark:text-gray-400 italic", children: [
          "Memo: ",
          entry.memo
        ] }) }) })
      ] }, entry.id)) })
    ] }) }) : /* @__PURE__ */ jsxs("div", { className: "text-center py-8 text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",
          fill: "none",
          viewBox: "0 0 24 24",
          stroke: "currentColor",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-sm", children: "No inventory changes recorded yet." })
    ] }),
    /* @__PURE__ */ jsxs(
      Modal,
      {
        open: showUpdateModal,
        onOpenChange: (open) => {
          if (!open && onUpdateModalClose) {
            onUpdateModalClose();
          }
        },
        size: "lg",
        children: [
          /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Inventory Manager" }) }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
            /* @__PURE__ */ jsx("div", { className: "mb-4", children: /* @__PURE__ */ jsx("h4", { className: "font-semibold text-gray-900 dark:text-white", children: serviceName }) }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h5", { className: "text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "Update Inventory" }),
              /* @__PURE__ */ jsx("hr", { className: "border-gray-200 dark:border-gray-700 mb-3" })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex gap-0", children: [
              /* @__PURE__ */ jsxs(
                "button",
                {
                  type: "button",
                  onClick: () => setUpdateType("debit"),
                  className: `
                px-4 py-2 text-sm font-medium rounded-l-md border
                ${updateType === "debit" ? "bg-blue-600 text-white border-blue-600" : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,
                  children: [
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "w-4 h-4 inline-block mr-1",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        stroke: "currentColor",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M20 12H4"
                          }
                        )
                      }
                    ),
                    "Remove"
                  ]
                }
              ),
              /* @__PURE__ */ jsxs(
                "button",
                {
                  type: "button",
                  onClick: () => setUpdateType("credit"),
                  className: `
                px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b
                ${updateType === "credit" ? "bg-blue-600 text-white border-blue-600" : "bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,
                  children: [
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "w-4 h-4 inline-block mr-1",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        stroke: "currentColor",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M12 4v16m8-8H4"
                          }
                        )
                      }
                    ),
                    "Add"
                  ]
                }
              )
            ] }),
            /* @__PURE__ */ jsx(
              Input,
              {
                label: "Amount",
                type: "number",
                min: "1",
                value: updateAmount,
                onChange: (e) => setUpdateAmount(e.target.value),
                placeholder: "0"
              }
            ),
            /* @__PURE__ */ jsx(
              Textarea,
              {
                label: "Memo",
                value: updateMemo,
                onChange: (e) => setUpdateMemo(e.target.value),
                placeholder: "Reason for inventory change...",
                rows: 2
              }
            ),
            previewChange !== null && updateAmount && /* @__PURE__ */ jsxs("div", { className: "p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg", children: [
              /* @__PURE__ */ jsx("h5", { className: "text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2", children: "Description" }),
              /* @__PURE__ */ jsxs("ul", { className: "text-sm text-yellow-700 dark:text-yellow-300 list-disc list-inside", children: [
                /* @__PURE__ */ jsxs("li", { children: [
                  "This will",
                  " ",
                  updateType === "credit" ? /* @__PURE__ */ jsxs("span", { className: "font-medium", children: [
                    "add ",
                    updateAmount,
                    " units to"
                  ] }) : /* @__PURE__ */ jsxs("span", { className: "font-medium", children: [
                    "remove ",
                    updateAmount,
                    " units from"
                  ] }),
                  " ",
                  "the provider inventory."
                ] }),
                /* @__PURE__ */ jsxs("li", { children: [
                  "New inventory will be:",
                  " ",
                  /* @__PURE__ */ jsxs("span", { className: "font-medium", children: [
                    previewChange,
                    " units"
                  ] })
                ] })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs(ModalFooter, { children: [
            /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onUpdateModalClose, children: "Cancel" }),
            /* @__PURE__ */ jsx(
              Button,
              {
                onClick: handleSubmit,
                disabled: !updateAmount || isLoading,
                children: isLoading ? "Saving..." : "Save"
              }
            )
          ] })
        ]
      }
    )
  ] });
}
function InviteUserModal({
  open,
  onOpenChange,
  onSubmit,
  roles,
  defaultRoleId,
  isSubmitting = false,
  entityName = "provider",
  entityDisplayName,
  errorMessage,
  successMessage
}) {
  const [email, setEmail] = React46.useState("");
  const [firstName, setFirstName] = React46.useState("");
  const [lastName, setLastName] = React46.useState("");
  const [roleId, setRoleId] = React46.useState(defaultRoleId || "");
  const [message, setMessage] = React46.useState("");
  React46.useEffect(() => {
    if (!open) {
      setEmail("");
      setFirstName("");
      setLastName("");
      setRoleId(defaultRoleId || "");
      setMessage("");
    }
  }, [open, defaultRoleId]);
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!email || !roleId || !onSubmit) return;
    onSubmit({
      email,
      firstName: firstName || void 0,
      lastName: lastName || void 0,
      roleId,
      message: message || void 0
    });
  };
  const isValid = email && roleId;
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "lg", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Invite User" }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      entityDisplayName && /* @__PURE__ */ jsx("div", { className: "p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
        "Inviting user to:",
        " ",
        /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 dark:text-white", children: entityDisplayName })
      ] }) }),
      successMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-5 h-5 text-green-500",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M5 13l4 4L19 7"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-green-600 dark:text-green-400", children: successMessage })
      ] }) }),
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-5 h-5 text-red-500",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage })
      ] }) }),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: "Email Address",
          type: "email",
          value: email,
          onChange: (e) => setEmail(e.target.value),
          placeholder: "user@example.com",
          required: true,
          autoFocus: true
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "First Name",
            type: "text",
            value: firstName,
            onChange: (e) => setFirstName(e.target.value),
            placeholder: "John"
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Last Name",
            type: "text",
            value: lastName,
            onChange: (e) => setLastName(e.target.value),
            placeholder: "Smith"
          }
        )
      ] }),
      /* @__PURE__ */ jsx(
        Select,
        {
          label: "Role",
          value: roleId,
          onValueChange: setRoleId,
          placeholder: "Select a role...",
          options: roles.map((role) => ({
            value: role.id,
            label: role.name
          })),
          helperText: roles.find((r) => r.id === roleId)?.description
        }
      ),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Personal Message (optional)" }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 3,
            value: message,
            onChange: (e) => setMessage(e.target.value),
            placeholder: `Add a personal message to the invitation...`
          }
        )
      ] }),
      /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "An email invitation will be sent to this address. If the user doesn't have an account, they'll be prompted to create one." })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ jsx(Button, { type: "submit", disabled: !isValid || isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "animate-spin -ml-1 mr-2 h-4 w-4",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                }
              )
            ]
          }
        ),
        "Sending..."
      ] }) : "Send Invitation" })
    ] })
  ] }) });
}
function InvoiceList({
  invoices,
  onInvoiceClick,
  onCreateInvoice,
  onSearch,
  onFilterStatus,
  statusFilter = "all",
  isLoading = false,
  currency = "$",
  className = ""
}) {
  const [searchQuery, setSearchQuery] = React46.useState("");
  const handleSearch = (e) => {
    const query = e.target.value;
    setSearchQuery(query);
    onSearch?.(query);
  };
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const formatCurrency3 = (amount) => {
    return `${currency}${amount.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "paid":
        return "success";
      case "overdue":
        return "danger";
      case "sent":
      case "viewed":
        return "warning";
      case "cancelled":
        return "secondary";
      default:
        return "default";
    }
  };
  const statusOptions = [
    { value: "all", label: "All" },
    { value: "draft", label: "Draft" },
    { value: "sent", label: "Sent" },
    { value: "viewed", label: "Viewed" },
    { value: "paid", label: "Paid" },
    { value: "overdue", label: "Overdue" },
    { value: "cancelled", label: "Cancelled" }
  ];
  const filteredInvoices = React46.useMemo(() => {
    let result = invoices;
    if (statusFilter !== "all") {
      result = result.filter((inv) => inv.status === statusFilter);
    }
    if (searchQuery.trim()) {
      const q = searchQuery.toLowerCase();
      result = result.filter(
        (inv) => inv.invoiceNumber.toLowerCase().includes(q) || inv.employerName.toLowerCase().includes(q)
      );
    }
    return result;
  }, [invoices, statusFilter, searchQuery]);
  const totals = React46.useMemo(() => {
    return {
      total: filteredInvoices.reduce((sum, inv) => sum + inv.amount, 0),
      paid: filteredInvoices.filter((inv) => inv.status === "paid").reduce((sum, inv) => sum + inv.amount, 0),
      outstanding: filteredInvoices.filter((inv) => ["sent", "viewed", "overdue"].includes(inv.status)).reduce((sum, inv) => sum + inv.amount, 0)
    };
  }, [filteredInvoices]);
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-4 ${className}`, children: [
      /* @__PURE__ */ jsxs("div", { className: "flex gap-3 animate-pulse", children: [
        /* @__PURE__ */ jsx("div", { className: "flex-1 h-10 bg-gray-200 dark:bg-gray-700 rounded" }),
        /* @__PURE__ */ jsx("div", { className: "w-24 h-10 bg-gray-200 dark:bg-gray-700 rounded" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "space-y-2", children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
        "div",
        {
          className: "h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"
        },
        i
      )) })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-4 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row gap-3", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex-1 relative", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",
            fill: "none",
            stroke: "currentColor",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            type: "text",
            placeholder: "Search invoices...",
            value: searchQuery,
            onChange: handleSearch,
            className: "pl-9"
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ jsx("div", { className: "flex rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden", children: statusOptions.slice(0, 4).map((option) => /* @__PURE__ */ jsx(
          "button",
          {
            onClick: () => onFilterStatus?.(option.value),
            className: `
                  px-3 py-2 text-sm font-medium transition-colors
                  ${statusFilter === option.value ? "bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400" : "text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}
                `,
            children: option.label
          },
          option.value
        )) }),
        onCreateInvoice && /* @__PURE__ */ jsxs(Button, { onClick: onCreateInvoice, size: "sm", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 mr-1",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M12 4v16m8-8H4"
                }
              )
            }
          ),
          "Create"
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-3 gap-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Total" }),
        /* @__PURE__ */ jsx("p", { className: "text-lg font-bold text-gray-900 dark:text-white", children: formatCurrency3(totals.total) })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "p-3 bg-green-50 dark:bg-green-900/20 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "text-xs text-green-600 dark:text-green-400", children: "Paid" }),
        /* @__PURE__ */ jsx("p", { className: "text-lg font-bold text-green-600 dark:text-green-400", children: formatCurrency3(totals.paid) })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg", children: [
        /* @__PURE__ */ jsx("p", { className: "text-xs text-orange-600 dark:text-orange-400", children: "Outstanding" }),
        /* @__PURE__ */ jsx("p", { className: "text-lg font-bold text-orange-600 dark:text-orange-400", children: formatCurrency3(totals.outstanding) })
      ] })
    ] }),
    filteredInvoices.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "text-center py-12 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-3",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400 mb-3", children: searchQuery || statusFilter !== "all" ? "No invoices match your filters" : "No invoices yet" }),
      onCreateInvoice && !searchQuery && statusFilter === "all" && /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onCreateInvoice, children: "Create Invoice" })
    ] }) : /* @__PURE__ */ jsx("div", { className: "border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
      /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 dark:bg-gray-800", children: /* @__PURE__ */ jsxs("tr", { children: [
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Invoice" }),
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell", children: "Employer" }),
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell", children: "Issued" }),
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell", children: "Due" }),
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Amount" }),
        /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" })
      ] }) }),
      /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: filteredInvoices.map((invoice) => /* @__PURE__ */ jsxs(
        "tr",
        {
          onClick: () => onInvoiceClick?.(invoice),
          className: `
                    bg-white dark:bg-gray-900
                    ${onInvoiceClick ? "cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800" : ""}
                  `,
          children: [
            /* @__PURE__ */ jsxs("td", { className: "px-4 py-3", children: [
              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: invoice.invoiceNumber }),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 sm:hidden", children: invoice.employerName })
            ] }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden sm:table-cell", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300", children: invoice.employerName }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden md:table-cell", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: formatDate4(invoice.issuedDate) }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden md:table-cell", children: /* @__PURE__ */ jsx(
              "p",
              {
                className: `text-sm ${invoice.status === "overdue" ? "text-red-600 dark:text-red-400 font-medium" : "text-gray-500 dark:text-gray-400"}`,
                children: formatDate4(invoice.dueDate)
              }
            ) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-right", children: /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: formatCurrency3(invoice.amount) }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-center", children: /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(invoice.status), children: invoice.status }) })
          ]
        },
        invoice.id
      )) })
    ] }) })
  ] });
}
function InvoicePaymentPage({
  invoice,
  isLoading = false,
  onSubmitPayment,
  isProcessing = false,
  errorMessage,
  successMessage,
  currency = "$",
  acceptedMethods = ["card"],
  showStripeBranding = true,
  className = ""
}) {
  const [paymentMethod, setPaymentMethod] = React46.useState(
    acceptedMethods[0] || "card"
  );
  const [name, setName] = React46.useState("");
  const [email, setEmail] = React46.useState("");
  const [cardNumber, setCardNumber] = React46.useState("");
  const [expiry, setExpiry] = React46.useState("");
  const [cvc, setCvc] = React46.useState("");
  const [routingNumber, setRoutingNumber] = React46.useState("");
  const [accountNumber, setAccountNumber] = React46.useState("");
  const formatCurrency3 = (amount) => {
    return `${currency}${amount.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
  };
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "paid":
        return "success";
      case "overdue":
        return "danger";
      case "processing":
        return "warning";
      default:
        return "default";
    }
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!onSubmitPayment) return;
    onSubmitPayment({
      method: paymentMethod,
      name,
      email,
      ...paymentMethod === "card" ? { cardNumber, expiry, cvc } : { routingNumber, accountNumber }
    });
  };
  const isValid = name && email && (paymentMethod === "card" ? cardNumber && expiry && cvc : routingNumber && accountNumber);
  if (isLoading) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: `min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-8 ${className}`,
        children: /* @__PURE__ */ jsx("div", { className: "max-w-4xl mx-auto", children: /* @__PURE__ */ jsxs("div", { className: "animate-pulse space-y-6", children: [
          /* @__PURE__ */ jsx("div", { className: "h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded" }),
          /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-6", children: [
            /* @__PURE__ */ jsx("div", { className: "h-64 bg-gray-200 dark:bg-gray-700 rounded-lg" }),
            /* @__PURE__ */ jsx("div", { className: "h-96 bg-gray-200 dark:bg-gray-700 rounded-lg" })
          ] })
        ] }) })
      }
    );
  }
  if (!invoice) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: `min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 ${className}`,
        children: /* @__PURE__ */ jsx(Card, { className: "max-w-md w-full text-center", children: /* @__PURE__ */ jsxs(CardContent, { className: "py-12", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 1.5,
                  d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-gray-900 dark:text-white mb-2", children: "Invoice Not Found" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: "The invoice you're looking for doesn't exist or has expired." })
        ] }) })
      }
    );
  }
  if (successMessage || invoice.status === "paid") {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: `min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 ${className}`,
        children: /* @__PURE__ */ jsx(Card, { className: "max-w-md w-full text-center", children: /* @__PURE__ */ jsxs(CardContent, { className: "py-12", children: [
          /* @__PURE__ */ jsx("div", { className: "w-16 h-16 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4", children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-8 h-8 text-green-600 dark:text-green-400",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M5 13l4 4L19 7"
                }
              )
            }
          ) }),
          /* @__PURE__ */ jsx("h2", { className: "text-xl font-semibold text-gray-900 dark:text-white mb-2", children: "Payment Successful" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400 mb-4", children: successMessage || "Thank you! Your payment has been processed successfully." }),
          /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-400 dark:text-gray-500", children: [
            "Invoice ",
            invoice.invoiceNumber
          ] })
        ] }) })
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: `min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-8 ${className}`,
      children: /* @__PURE__ */ jsxs("div", { className: "max-w-4xl mx-auto", children: [
        /* @__PURE__ */ jsx("div", { className: "flex items-center gap-4 mb-8", children: invoice.providerLogoUrl ? /* @__PURE__ */ jsx(
          "img",
          {
            src: invoice.providerLogoUrl,
            alt: invoice.providerName,
            className: "h-10 object-contain"
          }
        ) : /* @__PURE__ */ jsx("span", { className: "text-xl font-bold text-gray-900 dark:text-white", children: invoice.providerName }) }),
        /* @__PURE__ */ jsxs("div", { className: "grid lg:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs(Card, { children: [
            /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs(CardTitle, { children: [
                "Invoice ",
                invoice.invoiceNumber
              ] }),
              /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(invoice.status), children: invoice.status })
            ] }) }),
            /* @__PURE__ */ jsxs(CardContent, { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600 dark:text-gray-400 space-y-1", children: [
                /* @__PURE__ */ jsxs("p", { children: [
                  "Issued: ",
                  formatDate4(invoice.issuedDate)
                ] }),
                /* @__PURE__ */ jsxs(
                  "p",
                  {
                    className: invoice.status === "overdue" ? "text-red-600 dark:text-red-400 font-medium" : "",
                    children: [
                      "Due: ",
                      formatDate4(invoice.dueDate)
                    ]
                  }
                ),
                /* @__PURE__ */ jsxs("p", { children: [
                  "Bill to: ",
                  invoice.employerName
                ] })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-4", children: /* @__PURE__ */ jsxs("table", { className: "w-full text-sm", children: [
                /* @__PURE__ */ jsx("thead", { children: /* @__PURE__ */ jsxs("tr", { className: "text-gray-500 dark:text-gray-400", children: [
                  /* @__PURE__ */ jsx("th", { className: "text-left font-medium pb-2", children: "Item" }),
                  /* @__PURE__ */ jsx("th", { className: "text-right font-medium pb-2", children: "Amount" })
                ] }) }),
                /* @__PURE__ */ jsx("tbody", { className: "text-gray-700 dark:text-gray-300", children: invoice.lineItems.map((item) => /* @__PURE__ */ jsxs("tr", { children: [
                  /* @__PURE__ */ jsx("td", { className: "py-1", children: item.description }),
                  /* @__PURE__ */ jsx("td", { className: "py-1 text-right", children: formatCurrency3(item.total) })
                ] }, item.id)) })
              ] }) }),
              /* @__PURE__ */ jsxs("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-sm", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Subtotal" }),
                  /* @__PURE__ */ jsx("span", { children: formatCurrency3(invoice.subtotal) })
                ] }),
                invoice.tax !== void 0 && /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-sm", children: [
                  /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Tax" }),
                  /* @__PURE__ */ jsx("span", { children: formatCurrency3(invoice.tax) })
                ] }),
                /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-lg font-bold", children: [
                  /* @__PURE__ */ jsx("span", { children: "Total" }),
                  /* @__PURE__ */ jsx("span", { children: formatCurrency3(invoice.total) })
                ] })
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsxs(Card, { children: [
            /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { children: "Payment Details" }) }),
            /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
              errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
              acceptedMethods.length > 1 && /* @__PURE__ */ jsxs("div", { className: "flex rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden", children: [
                acceptedMethods.includes("card") && /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => setPaymentMethod("card"),
                    className: `
                            flex-1 px-4 py-2 text-sm font-medium transition-colors
                            ${paymentMethod === "card" ? "bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400" : "text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}
                          `,
                    children: "Credit Card"
                  }
                ),
                acceptedMethods.includes("ach") && /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => setPaymentMethod("ach"),
                    className: `
                            flex-1 px-4 py-2 text-sm font-medium transition-colors
                            ${paymentMethod === "ach" ? "bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400" : "text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}
                          `,
                    children: "Bank Transfer"
                  }
                )
              ] }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  label: "Full Name",
                  value: name,
                  onChange: (e) => setName(e.target.value),
                  placeholder: "John Smith",
                  required: true
                }
              ),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "email",
                  label: "Email",
                  value: email,
                  onChange: (e) => setEmail(e.target.value),
                  placeholder: "john@example.com",
                  required: true
                }
              ),
              paymentMethod === "card" ? /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    label: "Card Number",
                    value: cardNumber,
                    onChange: (e) => setCardNumber(e.target.value),
                    placeholder: "4242 4242 4242 4242",
                    required: true
                  }
                ),
                /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      label: "Expiry",
                      value: expiry,
                      onChange: (e) => setExpiry(e.target.value),
                      placeholder: "MM/YY",
                      required: true
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    Input,
                    {
                      label: "CVC",
                      value: cvc,
                      onChange: (e) => setCvc(e.target.value),
                      placeholder: "123",
                      required: true
                    }
                  )
                ] })
              ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    label: "Routing Number",
                    value: routingNumber,
                    onChange: (e) => setRoutingNumber(e.target.value),
                    placeholder: "110000000",
                    required: true
                  }
                ),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    label: "Account Number",
                    value: accountNumber,
                    onChange: (e) => setAccountNumber(e.target.value),
                    placeholder: "000123456789",
                    required: true
                  }
                )
              ] }),
              /* @__PURE__ */ jsx(
                Button,
                {
                  type: "submit",
                  className: "w-full",
                  disabled: !isValid || isProcessing,
                  children: isProcessing ? /* @__PURE__ */ jsxs(Fragment, { children: [
                    /* @__PURE__ */ jsxs(
                      "svg",
                      {
                        className: "animate-spin -ml-1 mr-2 h-4 w-4",
                        fill: "none",
                        viewBox: "0 0 24 24",
                        children: [
                          /* @__PURE__ */ jsx(
                            "circle",
                            {
                              className: "opacity-25",
                              cx: "12",
                              cy: "12",
                              r: "10",
                              stroke: "currentColor",
                              strokeWidth: "4"
                            }
                          ),
                          /* @__PURE__ */ jsx(
                            "path",
                            {
                              className: "opacity-75",
                              fill: "currentColor",
                              d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                            }
                          )
                        ]
                      }
                    ),
                    "Processing..."
                  ] }) : `Pay ${formatCurrency3(invoice.total)}`
                }
              ),
              showStripeBranding && /* @__PURE__ */ jsx("p", { className: "text-xs text-center text-gray-400 dark:text-gray-500", children: "Secured by Stripe" })
            ] }) })
          ] }) })
        ] })
      ] })
    }
  );
}
function InvoiceView({
  invoice,
  onBack,
  onEdit,
  onSend,
  onMarkPaid,
  onDownload,
  onVoid,
  currency = "$",
  providerLogoUrl,
  actionsDisabled = false,
  className = ""
}) {
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const formatCurrency3 = (amount) => {
    return `${currency}${amount.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "paid":
        return "success";
      case "overdue":
        return "danger";
      case "sent":
      case "viewed":
        return "warning";
      case "cancelled":
        return "secondary";
      default:
        return "default";
    }
  };
  const canEdit = invoice.status === "draft";
  const canSend = invoice.status === "draft";
  const canMarkPaid = ["sent", "viewed", "overdue"].includes(invoice.status);
  const canVoid = invoice.status !== "paid" && invoice.status !== "cancelled";
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
        onBack && /* @__PURE__ */ jsxs(Button, { variant: "ghost", size: "sm", onClick: onBack, children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 mr-1",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M15 19l-7-7 7-7"
                }
              )
            }
          ),
          "Back"
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: invoice.invoiceNumber }),
            /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(invoice.status), children: invoice.status })
          ] }),
          /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
            "Issued ",
            formatDate4(invoice.issuedDate)
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-2", children: [
        onDownload && /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: onDownload,
            disabled: actionsDisabled,
            children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 mr-1",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                    }
                  )
                }
              ),
              "Download"
            ]
          }
        ),
        onEdit && canEdit && /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: onEdit,
            disabled: actionsDisabled,
            children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 mr-1",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    }
                  )
                }
              ),
              "Edit"
            ]
          }
        ),
        onVoid && canVoid && /* @__PURE__ */ jsx(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: onVoid,
            disabled: actionsDisabled,
            children: "Void"
          }
        ),
        onMarkPaid && canMarkPaid && /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "secondary",
            size: "sm",
            onClick: onMarkPaid,
            disabled: actionsDisabled,
            children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 mr-1",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    }
                  )
                }
              ),
              "Mark Paid"
            ]
          }
        ),
        onSend && canSend && /* @__PURE__ */ jsxs(Button, { size: "sm", onClick: onSend, disabled: actionsDisabled, children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 mr-1",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
                }
              )
            }
          ),
          "Send Invoice"
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx(Card, { className: "print:shadow-none print:border-0", children: /* @__PURE__ */ jsxs(CardContent, { className: "p-6 sm:p-8", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row justify-between gap-6 mb-8", children: [
        /* @__PURE__ */ jsxs("div", { children: [
          providerLogoUrl ? /* @__PURE__ */ jsx(
            "img",
            {
              src: providerLogoUrl,
              alt: invoice.providerName,
              className: "h-12 mb-2 object-contain"
            }
          ) : /* @__PURE__ */ jsx("h2", { className: "text-xl font-bold text-gray-900 dark:text-white mb-2", children: invoice.providerName }),
          invoice.providerAddress && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400 whitespace-pre-line", children: invoice.providerAddress }),
          invoice.providerPhone && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: invoice.providerPhone }),
          invoice.providerEmail && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: invoice.providerEmail })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "text-left sm:text-right", children: [
          /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "INVOICE" }),
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: invoice.invoiceNumber }),
          /* @__PURE__ */ jsxs("div", { className: "mt-2 text-sm text-gray-600 dark:text-gray-400 space-y-1", children: [
            /* @__PURE__ */ jsxs("p", { children: [
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Issue Date:" }),
              " ",
              formatDate4(invoice.issuedDate)
            ] }),
            /* @__PURE__ */ jsxs("p", { children: [
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Due Date:" }),
              " ",
              formatDate4(invoice.dueDate)
            ] }),
            invoice.paidDate && /* @__PURE__ */ jsxs("p", { children: [
              /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Paid Date:" }),
              " ",
              formatDate4(invoice.paidDate)
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mb-8", children: [
        /* @__PURE__ */ jsx("p", { className: "text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1", children: "Bill To" }),
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: invoice.employerName }),
        invoice.employerAddress && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400 whitespace-pre-line", children: invoice.employerAddress }),
        invoice.employerEmail && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: invoice.employerEmail })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden mb-6", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
        /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 dark:bg-gray-800", children: /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase", children: "Description" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase hidden sm:table-cell", children: "Qty" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase hidden sm:table-cell", children: "Unit Price" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase", children: "Total" })
        ] }) }),
        /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: invoice.lineItems.map((item) => /* @__PURE__ */ jsxs("tr", { className: "bg-white dark:bg-gray-900", children: [
          /* @__PURE__ */ jsxs("td", { className: "px-4 py-3", children: [
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: item.description }),
            item.employeeName && /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
              item.employeeName,
              item.date && ` \u2022 ${formatDate4(item.date)}`
            ] })
          ] }),
          /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-center text-gray-700 dark:text-gray-300 hidden sm:table-cell", children: item.quantity }),
          /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-right text-gray-700 dark:text-gray-300 hidden sm:table-cell", children: formatCurrency3(item.unitPrice) }),
          /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-right font-medium text-gray-900 dark:text-white", children: formatCurrency3(item.total) })
        ] }, item.id)) })
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "flex justify-end", children: /* @__PURE__ */ jsxs("div", { className: "w-full sm:w-64 space-y-2", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Subtotal" }),
          /* @__PURE__ */ jsx("span", { className: "text-gray-900 dark:text-white", children: formatCurrency3(invoice.subtotal) })
        ] }),
        invoice.tax !== void 0 && /* @__PURE__ */ jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsxs("span", { className: "text-gray-600 dark:text-gray-400", children: [
            "Tax ",
            invoice.taxRate && `(${invoice.taxRate}%)`
          ] }),
          /* @__PURE__ */ jsx("span", { className: "text-gray-900 dark:text-white", children: formatCurrency3(invoice.tax) })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700", children: [
          /* @__PURE__ */ jsx("span", { className: "font-semibold text-gray-900 dark:text-white", children: "Total" }),
          /* @__PURE__ */ jsx("span", { className: "text-xl font-bold text-gray-900 dark:text-white", children: formatCurrency3(invoice.total) })
        ] })
      ] }) }),
      (invoice.notes || invoice.paymentTerms) && /* @__PURE__ */ jsxs("div", { className: "mt-8 pt-6 border-t border-gray-200 dark:border-gray-700 space-y-4", children: [
        invoice.paymentTerms && /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("p", { className: "text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1", children: "Payment Terms" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300", children: invoice.paymentTerms })
        ] }),
        invoice.notes && /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("p", { className: "text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1", children: "Notes" }),
          /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line", children: invoice.notes })
        ] })
      ] })
    ] }) })
  ] });
}
var DEFAULT_LANGUAGES = [
  { code: "en", name: "English", flag: "\u{1F1FA}\u{1F1F8}" },
  { code: "es", name: "Espa\xF1ol", englishName: "Spanish", flag: "\u{1F1EA}\u{1F1F8}" },
  { code: "fr", name: "Fran\xE7ais", englishName: "French", flag: "\u{1F1EB}\u{1F1F7}" },
  { code: "de", name: "Deutsch", englishName: "German", flag: "\u{1F1E9}\u{1F1EA}" },
  { code: "it", name: "Italiano", englishName: "Italian", flag: "\u{1F1EE}\u{1F1F9}" },
  { code: "pt", name: "Portugu\xEAs", englishName: "Portuguese", flag: "\u{1F1F5}\u{1F1F9}" },
  { code: "zh", name: "\u4E2D\u6587", englishName: "Chinese", flag: "\u{1F1E8}\u{1F1F3}" },
  { code: "ja", name: "\u65E5\u672C\u8A9E", englishName: "Japanese", flag: "\u{1F1EF}\u{1F1F5}" },
  { code: "ko", name: "\uD55C\uAD6D\uC5B4", englishName: "Korean", flag: "\u{1F1F0}\u{1F1F7}" },
  { code: "ar", name: "\u0627\u0644\u0639\u0631\u0628\u064A\u0629", englishName: "Arabic", flag: "\u{1F1F8}\u{1F1E6}", rtl: true },
  { code: "hi", name: "\u0939\u093F\u0928\u094D\u0926\u0940", englishName: "Hindi", flag: "\u{1F1EE}\u{1F1F3}" },
  { code: "ru", name: "\u0420\u0443\u0441\u0441\u043A\u0438\u0439", englishName: "Russian", flag: "\u{1F1F7}\u{1F1FA}" }
];
var selectorVariants = cva("relative inline-block text-left", {
  variants: {
    size: {
      sm: "",
      md: "",
      lg: ""
    }
  },
  defaultVariants: {
    size: "md"
  }
});
var buttonVariants2 = cva(
  [
    "inline-flex items-center justify-between gap-2 rounded-lg border transition-colors",
    "focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
  ],
  {
    variants: {
      size: {
        sm: "px-2.5 py-1.5 text-sm",
        md: "px-3 py-2 text-sm",
        lg: "px-4 py-2.5 text-base"
      },
      variant: {
        default: "border-gray-300 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",
        ghost: "border-transparent bg-transparent text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800",
        minimal: "border-transparent bg-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"
      }
    },
    defaultVariants: {
      size: "md",
      variant: "default"
    }
  }
);
function LanguageSelector({
  value,
  onChange,
  languages = DEFAULT_LANGUAGES,
  placeholder = "Select language",
  showFlags = true,
  flagOnly = false,
  label = "Language",
  size = "md",
  variant = "default",
  disabled = false,
  className
}) {
  const [isOpen, setIsOpen] = React46.useState(false);
  const containerRef = React46.useRef(null);
  const selectedLanguage = languages.find((l) => l.code === value);
  React46.useEffect(() => {
    const handleClickOutside = (e) => {
      if (containerRef.current && !containerRef.current.contains(e.target)) {
        setIsOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  React46.useEffect(() => {
    const handleEscape = (e) => {
      if (e.key === "Escape") setIsOpen(false);
    };
    document.addEventListener("keydown", handleEscape);
    return () => document.removeEventListener("keydown", handleEscape);
  }, []);
  const handleSelect = (language) => {
    onChange?.(language);
    setIsOpen(false);
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      ref: containerRef,
      className: cn(selectorVariants({ size }), className),
      children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => !disabled && setIsOpen(!isOpen),
            disabled,
            "aria-haspopup": "listbox",
            "aria-expanded": isOpen,
            "aria-label": label,
            className: cn(
              buttonVariants2({ size, variant }),
              "w-full",
              disabled && "cursor-not-allowed opacity-50"
            ),
            children: [
              /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
                showFlags && selectedLanguage?.flag && /* @__PURE__ */ jsx("span", { className: "text-base", children: selectedLanguage.flag }),
                !flagOnly && /* @__PURE__ */ jsx("span", { className: "truncate", children: selectedLanguage?.name || placeholder })
              ] }),
              /* @__PURE__ */ jsx(
                ChevronDownIcon2,
                {
                  className: cn(
                    "h-4 w-4 shrink-0 transition-transform",
                    isOpen && "rotate-180"
                  )
                }
              )
            ]
          }
        ),
        isOpen && /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "absolute z-50 mt-1 w-full min-w-[180px] rounded-lg border border-gray-200 bg-white shadow-lg",
              "dark:border-gray-700 dark:bg-gray-800",
              "animate-in fade-in slide-in-from-top-1 duration-150"
            ),
            children: /* @__PURE__ */ jsx(
              "ul",
              {
                role: "listbox",
                "aria-label": label,
                className: "max-h-60 overflow-auto py-1",
                children: languages.map((language) => /* @__PURE__ */ jsxs(
                  "li",
                  {
                    role: "option",
                    "aria-selected": language.code === value,
                    onClick: () => handleSelect(language),
                    className: cn(
                      "flex cursor-pointer items-center gap-2 px-3 py-2 text-sm transition-colors",
                      language.code === value ? "bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400" : "text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700"
                    ),
                    children: [
                      showFlags && language.flag && /* @__PURE__ */ jsx("span", { className: "text-base", children: language.flag }),
                      /* @__PURE__ */ jsx("span", { className: "flex-1", children: language.name }),
                      language.code === value && /* @__PURE__ */ jsx(CheckIcon2, { className: "text-primary-600 dark:text-primary-400 h-4 w-4" })
                    ]
                  },
                  language.code
                ))
              }
            )
          }
        )
      ]
    }
  );
}
function LanguageSelectorNative({
  value,
  onChange,
  languages = DEFAULT_LANGUAGES,
  placeholder = "Select language",
  showFlags = true,
  label = "Language",
  disabled = false,
  className
}) {
  const handleChange = (e) => {
    const selectedCode = e.target.value;
    const language = languages.find((l) => l.code === selectedCode);
    if (language) {
      onChange?.(language);
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ jsxs(
      "select",
      {
        value: value || "",
        onChange: handleChange,
        disabled,
        "aria-label": label,
        className: cn(
          "w-full appearance-none rounded-lg border border-gray-300 bg-white px-3 py-2 pr-8 text-sm",
          "focus:border-primary-500 focus:ring-primary-500 text-gray-700 focus:ring-2 focus:outline-none",
          "dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200",
          disabled && "cursor-not-allowed opacity-50",
          className
        ),
        children: [
          /* @__PURE__ */ jsx("option", { value: "", disabled: true, children: placeholder }),
          languages.map((language) => /* @__PURE__ */ jsxs("option", { value: language.code, children: [
            showFlags && language.flag ? `${language.flag} ` : "",
            language.name
          ] }, language.code))
        ]
      }
    ),
    /* @__PURE__ */ jsx(ChevronDownIcon2, { className: "pointer-events-none absolute top-1/2 right-2 h-4 w-4 -translate-y-1/2 text-gray-400" })
  ] });
}
function LanguageSelectorInline({
  value,
  onChange,
  languages = DEFAULT_LANGUAGES.slice(0, 5),
  showFlags = true,
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      role: "radiogroup",
      "aria-label": "Language",
      className: cn(
        "inline-flex rounded-lg border border-gray-200 dark:border-gray-700",
        className
      ),
      children: languages.map((language, index) => /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          role: "radio",
          "aria-checked": language.code === value,
          onClick: () => onChange?.(language),
          className: cn(
            "px-3 py-1.5 text-sm transition-colors",
            index === 0 && "rounded-l-lg",
            index === languages.length - 1 && "rounded-r-lg",
            index > 0 && "border-l border-gray-200 dark:border-gray-700",
            language.code === value ? "bg-primary-600 text-white" : "bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"
          ),
          children: [
            showFlags && language.flag && /* @__PURE__ */ jsx("span", { className: "mr-1", children: language.flag }),
            language.code.toUpperCase()
          ]
        },
        language.code
      ))
    }
  );
}
function ChevronDownIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 9l-7 7-7-7" })
    }
  );
}
function CheckIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" })
    }
  );
}
var pageVariants = cva("flex flex-col items-center justify-center", {
  variants: {
    size: {
      sm: "min-h-[200px] py-8",
      md: "min-h-[400px] py-12",
      lg: "min-h-screen py-16"
    }
  },
  defaultVariants: {
    size: "md"
  }
});
function LoadingDots({
  size = "md",
  color = "primary",
  className
}) {
  const dotSize = {
    sm: "h-1.5 w-1.5",
    md: "h-2 w-2",
    lg: "h-3 w-3"
  }[size];
  const dotColor = {
    primary: "bg-primary-600",
    secondary: "bg-gray-400",
    white: "bg-white",
    current: "bg-current"
  }[color];
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn("flex items-center gap-1", className),
      role: "status",
      "aria-label": "Loading",
      children: [0, 1, 2].map((i) => /* @__PURE__ */ jsx(
        "div",
        {
          className: cn("animate-pulse rounded-full", dotSize, dotColor),
          style: {
            animationDelay: `${i * 150}ms`,
            animationDuration: "600ms"
          }
        },
        i
      ))
    }
  );
}
function LoadingBar({
  progress,
  color = "primary",
  showPercentage = false,
  className
}) {
  const isIndeterminate = progress === void 0;
  const barColor = {
    primary: "bg-primary-600",
    success: "bg-green-600",
    warning: "bg-yellow-500",
    error: "bg-red-600"
  }[color];
  return /* @__PURE__ */ jsxs("div", { className: cn("w-full", className), children: [
    /* @__PURE__ */ jsx("div", { className: "h-2 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700", children: isIndeterminate ? /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "animate-loading-bar h-full w-1/3 rounded-full",
          barColor
        )
      }
    ) : /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "h-full rounded-full transition-all duration-300",
          barColor
        ),
        style: { width: `${Math.min(100, Math.max(0, progress))}%` },
        role: "progressbar",
        "aria-valuenow": progress,
        "aria-valuemin": 0,
        "aria-valuemax": 100
      }
    ) }),
    showPercentage && !isIndeterminate && /* @__PURE__ */ jsxs("p", { className: "mt-1 text-right text-sm text-gray-600 dark:text-gray-400", children: [
      Math.round(progress),
      "%"
    ] })
  ] });
}
function LoadingPage({
  message = "Loading...",
  subMessage,
  indicator = "spinner",
  spinnerSize = "lg",
  progress,
  size,
  children,
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn(pageVariants({ size }), className), children: children || /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsxs("div", { className: "mb-6", children: [
      indicator === "spinner" && /* @__PURE__ */ jsx(Spinner, { size: spinnerSize }),
      indicator === "dots" && /* @__PURE__ */ jsx(LoadingDots, { size: "lg" }),
      indicator === "bar" && /* @__PURE__ */ jsx("div", { className: "w-48", children: /* @__PURE__ */ jsx(LoadingBar, { progress }) }),
      indicator === "pulse" && /* @__PURE__ */ jsx(PulseIndicator, {})
    ] }),
    message && /* @__PURE__ */ jsx("p", { className: "mb-2 text-lg font-medium text-gray-700 dark:text-gray-300", children: message }),
    subMessage && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: subMessage })
  ] }) });
}
function LoadingOverlay({
  isLoading,
  message,
  backdrop = "blur",
  spinnerSize = "lg",
  className,
  children
}) {
  return /* @__PURE__ */ jsxs("div", { className: cn("relative", className), children: [
    children,
    isLoading && /* @__PURE__ */ jsxs(
      "div",
      {
        className: cn(
          "absolute inset-0 z-50 flex flex-col items-center justify-center",
          backdrop === "blur" && "bg-white/80 backdrop-blur-sm dark:bg-gray-900/80",
          backdrop === "solid" && "bg-white dark:bg-gray-900",
          backdrop === "transparent" && "bg-transparent"
        ),
        children: [
          /* @__PURE__ */ jsx(Spinner, { size: spinnerSize }),
          message && /* @__PURE__ */ jsx("p", { className: "mt-3 text-sm font-medium text-gray-700 dark:text-gray-300", children: message })
        ]
      }
    )
  ] });
}
function LoadingSkeleton({
  variant = "text",
  width,
  height,
  count = 1,
  animation = "pulse",
  className
}) {
  const baseClasses = cn(
    "bg-gray-200 dark:bg-gray-700",
    animation === "pulse" && "animate-pulse",
    animation === "wave" && "animate-shimmer bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 bg-[length:200%_100%]"
  );
  const variantClasses = {
    text: "h-4 rounded",
    circular: "rounded-full",
    rectangular: "",
    rounded: "rounded-lg"
  }[variant];
  const style = {
    width: width ?? (variant === "circular" ? 40 : "100%"),
    height: height ?? (variant === "circular" ? 40 : variant === "text" ? 16 : 100)
  };
  return /* @__PURE__ */ jsx(Fragment, { children: Array.from({ length: count }).map((_, i) => /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        baseClasses,
        variantClasses,
        i > 0 && "mt-2",
        className
      ),
      style,
      "aria-hidden": "true"
    },
    i
  )) });
}
function CardSkeleton({
  hasImage = true,
  lines = 3,
  className
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800",
        className
      ),
      children: [
        hasImage && /* @__PURE__ */ jsx(LoadingSkeleton, { variant: "rounded", height: 160, className: "mb-4" }),
        /* @__PURE__ */ jsx(
          LoadingSkeleton,
          {
            variant: "text",
            width: "60%",
            height: 24,
            className: "mb-2"
          }
        ),
        Array.from({ length: lines }).map((_, i) => /* @__PURE__ */ jsx(
          LoadingSkeleton,
          {
            variant: "text",
            width: i === lines - 1 ? "80%" : "100%",
            className: "mb-2"
          },
          i
        ))
      ]
    }
  );
}
function PulseIndicator() {
  return /* @__PURE__ */ jsxs("div", { className: "relative h-16 w-16", children: [
    /* @__PURE__ */ jsx("div", { className: "bg-primary-200 dark:bg-primary-800 absolute inset-0 animate-ping rounded-full opacity-75" }),
    /* @__PURE__ */ jsx("div", { className: "bg-primary-400 dark:bg-primary-600 absolute inset-2 animate-pulse rounded-full" }),
    /* @__PURE__ */ jsx("div", { className: "bg-primary-600 dark:bg-primary-400 absolute inset-4 rounded-full" })
  ] });
}
var headerVariants = cva(
  [
    "flex items-center gap-3 px-4 py-3",
    "bg-white dark:bg-neutral-900",
    "border-b border-neutral-200 dark:border-neutral-700"
  ],
  {
    variants: {
      size: {
        sm: "py-2",
        md: "py-3",
        lg: "py-4"
      }
    },
    defaultVariants: {
      size: "md"
    }
  }
);
function getConversationTitle(conversation, participant) {
  if (conversation?.name) return conversation.name;
  if (participant?.name) return participant.name;
  if (conversation?.participants && conversation.participants.length > 0) {
    const names = conversation.participants.filter((p) => !p.isCurrentUser).map((p) => p.name);
    if (names.length <= 2) return names.join(" & ");
    return `${names[0]} and ${names.length - 1} others`;
  }
  return "Conversation";
}
function getConversationSubtitle(conversation, participant, showOnlineStatus) {
  if (participant) {
    if (showOnlineStatus && participant.isOnline) {
      return "Online";
    }
    if (participant.lastSeen) {
      const lastSeen = new Date(participant.lastSeen);
      return `Last seen ${formatLastSeen(lastSeen)}`;
    }
    if (participant.phoneNumber) {
      return participant.phoneNumber;
    }
  }
  if (conversation?.type === "group" && conversation.participants) {
    return `${conversation.participants.length} participants`;
  }
  return void 0;
}
function formatLastSeen(date) {
  const now = /* @__PURE__ */ new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffMins = Math.floor(diffMs / (1e3 * 60));
  const diffHours = Math.floor(diffMs / (1e3 * 60 * 60));
  const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));
  if (diffMins < 1) return "just now";
  if (diffMins < 60) return `${diffMins}m ago`;
  if (diffHours < 24) return `${diffHours}h ago`;
  if (diffDays < 7) return `${diffDays}d ago`;
  return date.toLocaleDateString();
}
var ConversationHeader = React46.forwardRef(
  ({
    className,
    size,
    conversation,
    title,
    subtitle,
    avatarUrl,
    participant,
    showOnlineStatus = true,
    showBackButton = false,
    onBack,
    actions,
    leftContent,
    rightContent,
    ...props
  }, ref) => {
    const displayTitle = title || getConversationTitle(conversation, participant);
    const displaySubtitle = subtitle || getConversationSubtitle(conversation, participant, showOnlineStatus);
    const displayAvatar = avatarUrl || conversation?.avatarUrl || participant?.avatarUrl;
    const isOnline = participant?.isOnline;
    return /* @__PURE__ */ jsxs(
      "header",
      {
        ref,
        className: cn(headerVariants({ size }), className),
        ...props,
        children: [
          leftContent || showBackButton && onBack && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: onBack,
              className: cn(
                "-ml-2 rounded-full p-2",
                "text-neutral-500 hover:text-neutral-700",
                "dark:text-neutral-400 dark:hover:text-neutral-200",
                "hover:bg-neutral-100 dark:hover:bg-neutral-800",
                "focus:ring-primary-500 focus:ring-2 focus:outline-none",
                "transition-colors"
              ),
              "aria-label": "Go back",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "h-5 w-5",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M15 19l-7-7 7-7"
                    }
                  )
                }
              )
            }
          ),
          /* @__PURE__ */ jsxs("div", { className: "relative shrink-0", children: [
            /* @__PURE__ */ jsx(
              "div",
              {
                className: cn(
                  "flex h-10 w-10 items-center justify-center rounded-full",
                  "bg-primary-800 font-medium text-white"
                ),
                children: displayAvatar ? /* @__PURE__ */ jsx(
                  "img",
                  {
                    src: displayAvatar,
                    alt: displayTitle,
                    className: "h-full w-full rounded-full object-cover"
                  }
                ) : displayTitle.charAt(0).toUpperCase()
              }
            ),
            showOnlineStatus && isOnline && /* @__PURE__ */ jsx(
              "span",
              {
                className: cn(
                  "absolute right-0 bottom-0",
                  "h-3 w-3 rounded-full",
                  "bg-green-500 ring-2 ring-white dark:ring-neutral-900"
                ),
                "aria-label": "Online"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
            /* @__PURE__ */ jsx("h2", { className: "truncate font-semibold text-neutral-900 dark:text-neutral-100", children: displayTitle }),
            displaySubtitle && /* @__PURE__ */ jsx(
              "p",
              {
                className: cn(
                  "truncate text-sm",
                  isOnline ? "text-green-600 dark:text-green-400" : "text-neutral-500 dark:text-neutral-400"
                ),
                children: displaySubtitle
              }
            )
          ] }),
          rightContent || actions && /* @__PURE__ */ jsx("div", { className: "flex shrink-0 items-center gap-1", children: actions })
        ]
      }
    );
  }
);
ConversationHeader.displayName = "ConversationHeader";
var ConversationListItem = React46.forwardRef(({ className, conversation, isSelected, onSelect, ...props }, ref) => {
  const participant = conversation.participants.find((p) => !p.isCurrentUser);
  const title = getConversationTitle(conversation, participant);
  const avatarUrl = conversation.avatarUrl || participant?.avatarUrl;
  const lastMessage = conversation.lastMessage;
  const isUnread = conversation.unreadCount > 0;
  const formatTime4 = (timestamp) => {
    const date = new Date(timestamp);
    const now = /* @__PURE__ */ new Date();
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
    const messageDate = new Date(
      date.getFullYear(),
      date.getMonth(),
      date.getDate()
    );
    if (messageDate.getTime() === today.getTime()) {
      return date.toLocaleTimeString(void 0, {
        hour: "numeric",
        minute: "2-digit"
      });
    }
    const yesterday = new Date(today);
    yesterday.setDate(yesterday.getDate() - 1);
    if (messageDate.getTime() === yesterday.getTime()) {
      return "Yesterday";
    }
    return date.toLocaleDateString(void 0, {
      month: "short",
      day: "numeric"
    });
  };
  return /* @__PURE__ */ jsxs(
    "button",
    {
      ref,
      type: "button",
      onClick: () => onSelect?.(conversation),
      className: cn(
        "flex w-full items-center gap-3 px-4 py-3",
        "text-left transition-colors",
        isSelected ? "bg-primary-50 dark:bg-primary-900/20" : "hover:bg-neutral-50 dark:hover:bg-neutral-800/50",
        "focus:bg-neutral-50 focus:outline-none dark:focus:bg-neutral-800/50",
        className
      ),
      "aria-current": isSelected ? "true" : void 0,
      ...props,
      children: [
        /* @__PURE__ */ jsxs("div", { className: "relative shrink-0", children: [
          /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "flex h-12 w-12 items-center justify-center rounded-full",
                "bg-primary-800 font-medium text-white"
              ),
              children: avatarUrl ? /* @__PURE__ */ jsx(
                "img",
                {
                  src: avatarUrl,
                  alt: title,
                  className: "h-full w-full rounded-full object-cover"
                }
              ) : title.charAt(0).toUpperCase()
            }
          ),
          participant?.isOnline && /* @__PURE__ */ jsx(
            "span",
            {
              className: cn(
                "absolute right-0 bottom-0",
                "h-3 w-3 rounded-full",
                "bg-green-500 ring-2 ring-white dark:ring-neutral-900"
              )
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between gap-2", children: [
            /* @__PURE__ */ jsx(
              "h3",
              {
                className: cn(
                  "truncate text-sm",
                  isUnread ? "font-semibold text-neutral-900 dark:text-neutral-100" : "font-medium text-neutral-700 dark:text-neutral-300"
                ),
                children: title
              }
            ),
            lastMessage && /* @__PURE__ */ jsx("span", { className: "shrink-0 text-xs text-neutral-500 dark:text-neutral-400", children: formatTime4(lastMessage.timestamp) })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between gap-2", children: [
            /* @__PURE__ */ jsx(
              "p",
              {
                className: cn(
                  "truncate text-sm",
                  isUnread ? "text-neutral-700 dark:text-neutral-300" : "text-neutral-500 dark:text-neutral-400"
                ),
                children: lastMessage?.content || "No messages yet"
              }
            ),
            isUnread && /* @__PURE__ */ jsx(
              "span",
              {
                className: cn(
                  "flex shrink-0 items-center justify-center",
                  "h-5 min-w-[20px] rounded-full px-1.5",
                  "bg-primary-600 text-xs font-medium text-white"
                ),
                children: conversation.unreadCount > 99 ? "99+" : conversation.unreadCount
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex shrink-0 flex-col items-center gap-1", children: [
          conversation.isPinned && /* @__PURE__ */ jsx(
            "svg",
            {
              className: "text-primary-500 h-4 w-4",
              fill: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx("path", { d: "M16 4v8l2 2v2h-6v6l-1 1-1-1v-6H4v-2l2-2V4c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2z" })
            }
          ),
          conversation.isMuted && /* @__PURE__ */ jsxs(
            "svg",
            {
              className: "h-4 w-4 text-neutral-400",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: [
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"
                  }
                )
              ]
            }
          )
        ] })
      ]
    }
  );
});
ConversationListItem.displayName = "ConversationListItem";
function ConversationListSkeleton({
  count = 5,
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "divide-y divide-neutral-200 dark:divide-neutral-700",
        className
      ),
      children: Array.from({ length: count }).map((_, i) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "flex items-center gap-3 px-4 py-3",
          "aria-hidden": "true",
          children: [
            /* @__PURE__ */ jsx("div", { className: "h-12 w-12 animate-pulse rounded-full bg-neutral-200 dark:bg-neutral-700" }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1 space-y-2", children: [
              /* @__PURE__ */ jsx("div", { className: "h-4 w-32 animate-pulse rounded bg-neutral-200 dark:bg-neutral-700" }),
              /* @__PURE__ */ jsx("div", { className: "h-3 w-48 animate-pulse rounded bg-neutral-200 dark:bg-neutral-700" })
            ] })
          ]
        },
        i
      ))
    }
  );
}
ConversationListSkeleton.displayName = "ConversationListSkeleton";
function LightboxModal({ attachment, onClose }) {
  React46.useEffect(() => {
    const handleKeyDown = (event) => {
      if (event.key === "Escape") {
        onClose();
      }
    };
    if (attachment) {
      document.addEventListener("keydown", handleKeyDown);
      document.body.style.overflow = "hidden";
    }
    return () => {
      document.removeEventListener("keydown", handleKeyDown);
      document.body.style.overflow = "";
    };
  }, [attachment, onClose]);
  if (!attachment) return null;
  const isImage = attachment.type === "image";
  const isVideo = attachment.type === "video";
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn("fixed inset-0 z-50", "flex items-center justify-center"),
      role: "dialog",
      "aria-modal": "true",
      "aria-label": `View ${attachment.filename}`,
      children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            className: "absolute inset-0 cursor-default bg-black/90",
            onClick: onClose,
            "aria-label": "Close lightbox"
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onClose,
            className: cn(
              "absolute top-4 right-4 z-10",
              "rounded-full p-2",
              "bg-white/10 text-white",
              "hover:bg-white/20",
              "focus:ring-2 focus:ring-white focus:outline-none",
              "transition-colors"
            ),
            "aria-label": "Close",
            children: /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-6 w-6",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M6 18L18 6M6 6l12 12"
                  }
                )
              }
            )
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "relative z-10 max-h-[90vh] max-w-[90vw]", children: [
          isImage && /* @__PURE__ */ jsx(
            "img",
            {
              src: attachment.url,
              alt: attachment.alt || attachment.filename,
              className: "max-h-[90vh] max-w-[90vw] object-contain"
            }
          ),
          isVideo && /* @__PURE__ */ jsx(
            "video",
            {
              src: attachment.url,
              controls: true,
              autoPlay: true,
              className: "max-h-[90vh] max-w-[90vw]",
              children: /* @__PURE__ */ jsx("track", { kind: "captions" })
            }
          )
        ] }),
        /* @__PURE__ */ jsx("div", { className: "absolute bottom-4 left-1/2 -translate-x-1/2", children: /* @__PURE__ */ jsx("p", { className: "rounded-full bg-black/50 px-4 py-2 text-sm text-white", children: attachment.filename }) })
      ]
    }
  );
}
LightboxModal.displayName = "LightboxModal";
var MessageThread = React46.forwardRef(
  ({
    conversation,
    messages,
    currentUser,
    typingState,
    isLoading = false,
    hasMore = false,
    isLoadingMore = false,
    isSending = false,
    eventHandlers = {},
    showHeader = true,
    showBackButton = false,
    onBack,
    headerActions,
    placeholder = "Type a message...",
    maxMessageLength = 1600,
    showCharacterCount = false,
    showAttachmentPicker = true,
    showCameraButton = false,
    acceptedFileTypes,
    maxFileSize,
    maxAttachments,
    showAvatars = true,
    showSenderNames = false,
    groupByDate = true,
    emptyState,
    formatTimestamp,
    onError,
    className
  }, ref) => {
    const [lightboxAttachment, setLightboxAttachment] = React46.useState(null);
    const [replyTo, setReplyTo] = React46.useState(null);
    const participant = conversation?.type === "direct" ? conversation.participants.find((p) => p.id !== currentUser.id) : void 0;
    const handleAttachmentClick = (attachment, message) => {
      if (attachment.type === "image" || attachment.type === "video") {
        setLightboxAttachment(attachment);
      }
      eventHandlers.onAttachmentClick?.(attachment, message);
    };
    const handleSendMessage = async (newMessage) => {
      const messageWithReply = {
        ...newMessage,
        replyToId: replyTo?.id || newMessage.replyToId
      };
      setReplyTo(null);
      await eventHandlers.onSendMessage?.(messageWithReply);
    };
    return /* @__PURE__ */ jsxs(
      "div",
      {
        ref,
        className: cn(
          "flex h-full flex-col",
          "bg-white dark:bg-neutral-900",
          className
        ),
        children: [
          showHeader && /* @__PURE__ */ jsx(
            ConversationHeader,
            {
              conversation,
              participant,
              showBackButton,
              onBack,
              actions: headerActions
            }
          ),
          /* @__PURE__ */ jsx(
            DragDropZone,
            {
              onFilesDropped: () => {
                onError?.("Drop files on the composer to attach them");
              },
              disabled: !showAttachmentPicker,
              className: "flex-1 overflow-hidden",
              children: /* @__PURE__ */ jsx(
                MessageList,
                {
                  messages,
                  currentUser,
                  isLoading,
                  hasMore,
                  isLoadingMore,
                  typingState,
                  showAvatars,
                  showSenderNames,
                  groupByDate,
                  onLoadMore: eventHandlers.onLoadMore,
                  onRetryMessage: eventHandlers.onRetryMessage,
                  onAttachmentClick: handleAttachmentClick,
                  emptyState,
                  formatTimestamp,
                  className: "h-full"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx(
            MessageComposer,
            {
              onSend: handleSendMessage,
              onTypingStart: eventHandlers.onTypingStart,
              onTypingStop: eventHandlers.onTypingStop,
              placeholder,
              maxLength: maxMessageLength,
              showCharacterCount,
              isSending,
              showAttachmentPicker,
              showCameraButton,
              acceptedFileTypes,
              maxFileSize,
              maxAttachments,
              onError,
              replyTo,
              onCancelReply: () => setReplyTo(null)
            }
          ),
          /* @__PURE__ */ jsx(
            LightboxModal,
            {
              attachment: lightboxAttachment,
              onClose: () => setLightboxAttachment(null)
            }
          )
        ]
      }
    );
  }
);
MessageThread.displayName = "MessageThread";
function MessagingSplitView({
  conversationList,
  messageThread,
  hasSelectedConversation = false,
  listWidth = 320,
  mobileBreakpoint = "md",
  className
}) {
  const breakpointClasses = {
    sm: "sm:flex",
    md: "md:flex",
    lg: "lg:flex"
  };
  const hideMobileClasses = {
    sm: hasSelectedConversation ? "hidden sm:block" : "block sm:block",
    md: hasSelectedConversation ? "hidden md:block" : "block md:block",
    lg: hasSelectedConversation ? "hidden lg:block" : "block lg:block"
  };
  const showMobileClasses = {
    sm: hasSelectedConversation ? "block sm:block" : "hidden sm:block",
    md: hasSelectedConversation ? "block md:block" : "hidden md:block",
    lg: hasSelectedConversation ? "block lg:block" : "hidden lg:block"
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "h-full w-full",
        breakpointClasses[mobileBreakpoint],
        className
      ),
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "h-full w-full flex-shrink-0",
              "border-r border-neutral-200 dark:border-neutral-700",
              hideMobileClasses[mobileBreakpoint]
            ),
            style: {
              width: typeof listWidth === "number" ? `${listWidth}px` : listWidth
            },
            children: conversationList
          }
        ),
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "h-full min-w-0 flex-1",
              showMobileClasses[mobileBreakpoint]
            ),
            children: messageThread
          }
        )
      ]
    }
  );
}
MessagingSplitView.displayName = "MessagingSplitView";
function useMessages(options) {
  const {
    initialMessages = [],
    currentUser,
    onSend,
    onRetry,
    onLoadMore
  } = options;
  const [messages, setMessages] = React46.useState(initialMessages);
  const [isSending, setIsSending] = React46.useState(false);
  const [isLoadingMore, setIsLoadingMore] = React46.useState(false);
  React46.useEffect(() => {
    setMessages(initialMessages);
  }, [initialMessages]);
  const addMessage = React46.useCallback((message) => {
    setMessages((prev) => {
      if (prev.some((m) => m.id === message.id)) {
        return prev;
      }
      return [...prev, message];
    });
  }, []);
  const updateMessage = React46.useCallback(
    (messageId, updates) => {
      setMessages(
        (prev) => prev.map((m) => m.id === messageId ? { ...m, ...updates } : m)
      );
    },
    []
  );
  const removeMessage = React46.useCallback((messageId) => {
    setMessages((prev) => prev.filter((m) => m.id !== messageId));
  }, []);
  const updateStatus = React46.useCallback(
    (messageId, status) => {
      updateMessage(messageId, { status });
    },
    [updateMessage]
  );
  const markAsRead = React46.useCallback(
    (messageId) => {
      updateStatus(messageId, "read");
    },
    [updateStatus]
  );
  const sendMessage = React46.useCallback(
    async (newMessage) => {
      const optimisticId = `optimistic-${Date.now()}`;
      const optimisticMessage = {
        id: optimisticId,
        type: "text",
        content: newMessage.content,
        sender: currentUser,
        timestamp: /* @__PURE__ */ new Date(),
        status: "sending",
        attachments: []
        // Would handle attachment uploads here
      };
      addMessage(optimisticMessage);
      setIsSending(true);
      try {
        if (onSend) {
          const sentMessage = await onSend(newMessage);
          setMessages(
            (prev) => prev.map((m) => m.id === optimisticId ? sentMessage : m)
          );
        } else {
          updateStatus(optimisticId, "sent");
        }
      } catch {
        updateStatus(optimisticId, "failed");
      } finally {
        setIsSending(false);
      }
    },
    [currentUser, onSend, addMessage, updateStatus]
  );
  const retryMessage = React46.useCallback(
    async (messageId) => {
      updateStatus(messageId, "sending");
      try {
        if (onRetry) {
          await onRetry(messageId);
          updateStatus(messageId, "sent");
        }
      } catch {
        updateStatus(messageId, "failed");
      }
    },
    [onRetry, updateStatus]
  );
  const loadMore = React46.useCallback(async () => {
    if (isLoadingMore || !onLoadMore) return;
    setIsLoadingMore(true);
    try {
      const olderMessages = await onLoadMore();
      setMessages((prev) => [...olderMessages, ...prev]);
    } finally {
      setIsLoadingMore(false);
    }
  }, [isLoadingMore, onLoadMore]);
  return {
    messages,
    addMessage,
    updateMessage,
    removeMessage,
    sendMessage,
    retryMessage,
    loadMore,
    isSending,
    isLoadingMore,
    markAsRead,
    updateStatus
  };
}
function useTypingIndicator(options = {}) {
  const {
    typingParticipants: initialParticipants = [],
    debounceTime = 2e3,
    onTypingStart,
    onTypingStop
  } = options;
  const [participants, setParticipants] = React46.useState(initialParticipants);
  const [isLocalTyping, setIsLocalTyping] = React46.useState(false);
  const typingTimeoutRef = React46.useRef(null);
  React46.useEffect(() => {
    setParticipants(initialParticipants);
  }, [initialParticipants]);
  const startTyping = React46.useCallback(() => {
    if (!isLocalTyping) {
      setIsLocalTyping(true);
      onTypingStart?.();
    }
    if (typingTimeoutRef.current) {
      clearTimeout(typingTimeoutRef.current);
    }
    typingTimeoutRef.current = setTimeout(() => {
      setIsLocalTyping(false);
      onTypingStop?.();
    }, debounceTime);
  }, [isLocalTyping, debounceTime, onTypingStart, onTypingStop]);
  const stopTyping = React46.useCallback(() => {
    if (typingTimeoutRef.current) {
      clearTimeout(typingTimeoutRef.current);
    }
    setIsLocalTyping(false);
    onTypingStop?.();
  }, [onTypingStop]);
  React46.useEffect(() => {
    return () => {
      if (typingTimeoutRef.current) {
        clearTimeout(typingTimeoutRef.current);
      }
    };
  }, []);
  const typingState = React46.useMemo(
    () => ({
      participants,
      lastUpdated: /* @__PURE__ */ new Date()
    }),
    [participants]
  );
  return {
    typingState,
    startTyping,
    stopTyping,
    setTypingParticipants: setParticipants
  };
}
function useMessageScroll(options) {
  const { messages, currentUserId, threshold = 100 } = options;
  const scrollContainerRef = React46.useRef(null);
  const bottomRef = React46.useRef(null);
  const [isScrolledUp, setIsScrolledUp] = React46.useState(false);
  const prevMessageCountRef = React46.useRef(messages.length);
  React46.useEffect(() => {
    const container = scrollContainerRef.current;
    if (!container) return;
    const handleScroll = () => {
      const { scrollTop, scrollHeight, clientHeight } = container;
      const isAtBottom = scrollHeight - scrollTop - clientHeight < threshold;
      setIsScrolledUp(!isAtBottom);
    };
    container.addEventListener("scroll", handleScroll);
    return () => container.removeEventListener("scroll", handleScroll);
  }, [threshold]);
  const scrollToBottom = React46.useCallback((smooth = true) => {
    bottomRef.current?.scrollIntoView({
      behavior: smooth ? "smooth" : "auto"
    });
  }, []);
  React46.useEffect(() => {
    const messageCountChanged = messages.length !== prevMessageCountRef.current;
    prevMessageCountRef.current = messages.length;
    if (!messageCountChanged) return;
    const lastMessage = messages[messages.length - 1];
    const isOutgoing = lastMessage?.sender.id === currentUserId;
    if (isOutgoing || !isScrolledUp) {
      scrollToBottom(true);
    }
  }, [messages, currentUserId, isScrolledUp, scrollToBottom]);
  return {
    scrollContainerRef,
    bottomRef,
    isScrolledUp,
    scrollToBottom
  };
}
function useReadReceipts(options) {
  const { currentUserId, onMarkRead, threshold = 0.5 } = options;
  const observerRef = React46.useRef(null);
  const observedMessagesRef = React46.useRef(/* @__PURE__ */ new Set());
  React46.useEffect(() => {
    observerRef.current = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const messageId = entry.target.getAttribute("data-message-id");
            if (messageId && !observedMessagesRef.current.has(messageId)) {
              observedMessagesRef.current.add(messageId);
              onMarkRead?.(messageId);
            }
          }
        });
      },
      { threshold }
    );
    return () => {
      observerRef.current?.disconnect();
    };
  }, [onMarkRead, threshold]);
  const observeMessage = React46.useCallback(
    (element, message) => {
      if (!element || !observerRef.current) return;
      if (message.sender.id !== currentUserId && message.status !== "read" && !observedMessagesRef.current.has(message.id)) {
        element.setAttribute("data-message-id", message.id);
        observerRef.current.observe(element);
      }
    },
    [currentUserId]
  );
  return { observeMessage };
}
function NotificationCenter({
  notifications,
  onMarkRead,
  onMarkAllRead,
  onNotificationClick,
  onDismiss,
  onClearAll,
  isLoading = false,
  maxVisible,
  onSeeAll,
  emptyMessage = "No new notifications",
  className = ""
}) {
  const formatTimestamp = (timestamp) => {
    const date = typeof timestamp === "string" ? new Date(timestamp) : timestamp;
    const now = /* @__PURE__ */ new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / 6e4);
    const diffHours = Math.floor(diffMs / 36e5);
    const diffDays = Math.floor(diffMs / 864e5);
    if (diffMins < 1) return "Just now";
    if (diffMins < 60) return `${diffMins}m ago`;
    if (diffHours < 24) return `${diffHours}h ago`;
    if (diffDays < 7) return `${diffDays}d ago`;
    return date.toLocaleDateString();
  };
  const getTypeIcon = (type) => {
    switch (type) {
      case "order":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" }) });
      case "invoice":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) });
      case "claim":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" }) });
      case "message":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" }) });
      case "alert":
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" }) });
      default:
        return /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" }) });
    }
  };
  const getTypeColor = (type, priority) => {
    if (priority === "urgent") return "text-red-500 bg-red-100 dark:bg-red-900/30";
    if (priority === "high") return "text-orange-500 bg-orange-100 dark:bg-orange-900/30";
    switch (type) {
      case "order":
        return "text-blue-500 bg-blue-100 dark:bg-blue-900/30";
      case "invoice":
        return "text-green-500 bg-green-100 dark:bg-green-900/30";
      case "claim":
        return "text-purple-500 bg-purple-100 dark:bg-purple-900/30";
      case "message":
        return "text-cyan-500 bg-cyan-100 dark:bg-cyan-900/30";
      case "alert":
        return "text-yellow-500 bg-yellow-100 dark:bg-yellow-900/30";
      default:
        return "text-gray-500 bg-gray-100 dark:bg-gray-800";
    }
  };
  const unreadCount = notifications.filter((n) => !n.isRead).length;
  const visibleNotifications = maxVisible ? notifications.slice(0, maxVisible) : notifications;
  const hasMore = maxVisible && notifications.length > maxVisible;
  if (isLoading) {
    return /* @__PURE__ */ jsx("div", { className: `space-y-2 ${className}`, children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
      "div",
      {
        className: "h-20 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"
      },
      i
    )) });
  }
  return /* @__PURE__ */ jsxs("div", { className: `bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx("h2", { className: "font-semibold text-gray-900 dark:text-white", children: "Notifications" }),
        unreadCount > 0 && /* @__PURE__ */ jsx(Badge, { variant: "default", children: unreadCount })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        onMarkAllRead && unreadCount > 0 && /* @__PURE__ */ jsx(Button, { variant: "ghost", size: "sm", onClick: onMarkAllRead, children: "Mark all read" }),
        onClearAll && notifications.length > 0 && /* @__PURE__ */ jsx(Button, { variant: "ghost", size: "sm", onClick: onClearAll, children: "Clear all" })
      ] })
    ] }),
    notifications.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "py-12 text-center", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-3",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: emptyMessage })
    ] }) : /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-100 dark:divide-gray-800 max-h-[400px] overflow-y-auto", children: visibleNotifications.map((notification) => /* @__PURE__ */ jsx(
      "div",
      {
        className: `px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer ${!notification.isRead ? "bg-blue-50/50 dark:bg-blue-900/10" : ""}`,
        onClick: () => {
          if (onNotificationClick) {
            onNotificationClick(notification);
          }
          if (onMarkRead && !notification.isRead) {
            onMarkRead(notification.id);
          }
        },
        children: /* @__PURE__ */ jsxs("div", { className: "flex gap-3", children: [
          notification.senderAvatar || notification.senderName ? /* @__PURE__ */ jsx(
            Avatar,
            {
              src: notification.senderAvatar,
              name: notification.senderName,
              size: "sm"
            }
          ) : /* @__PURE__ */ jsx(
            "div",
            {
              className: `w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${getTypeColor(notification.type, notification.priority)}`,
              children: getTypeIcon(notification.type)
            }
          ),
          /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between gap-2", children: [
              /* @__PURE__ */ jsx(
                "p",
                {
                  className: `text-sm ${!notification.isRead ? "font-semibold text-gray-900 dark:text-white" : "font-medium text-gray-700 dark:text-gray-300"}`,
                  children: notification.title
                }
              ),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 flex-shrink-0", children: [
                notification.priority === "urgent" && /* @__PURE__ */ jsx(Badge, { variant: "danger", children: "Urgent" }),
                notification.priority === "high" && /* @__PURE__ */ jsx(Badge, { variant: "warning", children: "High" }),
                !notification.isRead && /* @__PURE__ */ jsx("span", { className: "w-2 h-2 rounded-full bg-blue-500" })
              ] })
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mt-0.5", children: notification.message }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between mt-2", children: [
              /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-400 dark:text-gray-500", children: formatTimestamp(notification.timestamp) }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                notification.actionLabel && /* @__PURE__ */ jsx(
                  Button,
                  {
                    variant: "link",
                    size: "sm",
                    className: "text-xs p-0 h-auto",
                    onClick: (e) => {
                      e.stopPropagation();
                      if (onNotificationClick) {
                        onNotificationClick(notification);
                      }
                    },
                    children: notification.actionLabel
                  }
                ),
                onDismiss && /* @__PURE__ */ jsx(
                  Button,
                  {
                    variant: "ghost",
                    size: "sm",
                    className: "text-xs p-1 h-auto opacity-0 group-hover:opacity-100",
                    onClick: (e) => {
                      e.stopPropagation();
                      onDismiss(notification.id);
                    },
                    children: "\xD7"
                  }
                )
              ] })
            ] })
          ] })
        ] })
      },
      notification.id
    )) }),
    hasMore && onSeeAll && /* @__PURE__ */ jsx("div", { className: "px-4 py-3 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(
      Button,
      {
        variant: "ghost",
        className: "w-full",
        onClick: onSeeAll,
        children: "See all notifications"
      }
    ) })
  ] });
}
function OnboardingWizard({
  steps,
  currentStep = 0,
  onStepChange,
  onComplete,
  onSkip,
  logoUrl = "/images/bluehive/logo-white.svg",
  brandName = "BlueHive",
  brandSubname = "for employers",
  loading = false,
  loadingMessage = "Getting ready, one moment please...",
  error,
  className,
  showHeader = true,
  headerContent,
  labels = {},
  backEnabled = true,
  nextEnabled = true
}) {
  const {
    back = "Back",
    next = "Next",
    skip = "Skip this step",
    finish = "Finish"
  } = labels;
  const totalSteps = steps.length;
  const isFirstStep = currentStep === 0;
  const isLastStep = currentStep === totalSteps - 1;
  const currentStepData = steps[currentStep];
  const progressPercent = (currentStep + 1) / totalSteps * 100;
  const handleBack = () => {
    if (currentStep > 0) {
      onStepChange?.(currentStep - 1);
    }
  };
  const handleNext = () => {
    if (isLastStep) {
      onComplete?.();
    } else {
      onStepChange?.(currentStep + 1);
    }
  };
  const handleSkip = () => {
    onSkip?.(currentStep);
    if (!isLastStep) {
      onStepChange?.(currentStep + 1);
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("onboarding-wizard fixed inset-0 z-50 flex flex-col bg-white", className), children: [
    showHeader && /* @__PURE__ */ jsxs("nav", { className: "flex items-center bg-primary px-4 py-3", children: [
      /* @__PURE__ */ jsx("div", { className: "flex items-center", children: /* @__PURE__ */ jsxs("a", { href: "#", className: "flex items-center text-white no-underline", children: [
        logoUrl && /* @__PURE__ */ jsx("img", { src: logoUrl, alt: `${brandName} Logo`, className: "h-8" }),
        /* @__PURE__ */ jsxs("div", { className: "ml-3 hidden lg:flex flex-col", children: [
          /* @__PURE__ */ jsx("span", { className: "text-lg font-semibold", children: brandName }),
          brandSubname && /* @__PURE__ */ jsx("span", { className: "text-sm opacity-90", children: brandSubname })
        ] })
      ] }) }),
      headerContent
    ] }),
    loading ? /* @__PURE__ */ jsxs("div", { className: "flex flex-1 flex-col items-center justify-center", children: [
      /* @__PURE__ */ jsx("div", { className: "h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent" }),
      /* @__PURE__ */ jsx("p", { className: "mt-4 text-center text-lg text-muted-foreground", children: loadingMessage })
    ] }) : /* @__PURE__ */ jsxs("div", { className: "container mx-auto flex flex-1 flex-col p-4", children: [
      error && /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-lg border border-destructive bg-destructive/10 p-4 text-destructive", children: error }),
      /* @__PURE__ */ jsx("div", { className: "flex-1 overflow-y-auto", children: currentStepData?.content }),
      /* @__PURE__ */ jsxs("div", { className: "mt-auto border-t pt-4", children: [
        !isLastStep && currentStepData?.skippable !== false && /* @__PURE__ */ jsx("div", { className: "mb-3 flex justify-end", children: /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: handleSkip,
            className: "rounded-full bg-gray-800 px-4 py-1.5 text-sm text-white shadow hover:bg-gray-700",
            children: skip
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "flex w-full items-center gap-4 bg-white", children: [
          backEnabled && !isFirstStep ? /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: handleBack,
              className: "rounded-lg border border-gray-300 px-6 py-3 text-gray-700 hover:bg-gray-50",
              children: [
                /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: back }),
                /* @__PURE__ */ jsx("i", { className: "fas fa-chevron-left sm:hidden" })
              ]
            }
          ) : /* @__PURE__ */ jsx("div", {}),
          /* @__PURE__ */ jsx(
            "div",
            {
              className: "flex-1",
              role: "progressbar",
              "aria-label": `Step ${currentStep + 1} of ${totalSteps}`,
              "aria-valuenow": progressPercent,
              "aria-valuemin": 0,
              "aria-valuemax": 100,
              children: /* @__PURE__ */ jsx("div", { className: "h-5 w-full overflow-hidden rounded-full bg-gray-200", children: /* @__PURE__ */ jsxs(
                "div",
                {
                  className: "flex h-full items-center justify-center bg-green-500 text-xs font-medium text-white transition-all duration-300",
                  style: { width: `${progressPercent}%` },
                  children: [
                    currentStep + 1,
                    " of ",
                    totalSteps
                  ]
                }
              ) })
            }
          ),
          isLastStep ? /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: handleNext,
              className: "rounded-lg bg-primary px-6 py-3 text-white hover:bg-primary/90",
              children: finish
            }
          ) : /* @__PURE__ */ jsxs(
            "button",
            {
              type: "button",
              onClick: handleNext,
              disabled: !nextEnabled,
              className: cn(
                "rounded-lg px-6 py-3 text-white",
                nextEnabled ? "bg-primary hover:bg-primary/90" : "cursor-not-allowed bg-gray-300"
              ),
              children: [
                /* @__PURE__ */ jsx("span", { className: "hidden sm:inline", children: next }),
                /* @__PURE__ */ jsx("i", { className: "fas fa-chevron-right sm:hidden" })
              ]
            }
          )
        ] })
      ] })
    ] })
  ] });
}
function OnboardingStepQuestion({
  icon,
  title,
  description,
  options = [],
  onSelect,
  multiple = false,
  children
}) {
  return /* @__PURE__ */ jsxs("div", { className: "py-4", children: [
    /* @__PURE__ */ jsxs("div", { className: "mb-4 flex items-start gap-3", children: [
      icon && /* @__PURE__ */ jsx("div", { className: "hidden rounded-full bg-gray-800 p-3 text-white", children: /* @__PURE__ */ jsx("i", { className: cn(icon, "text-lg") }) }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h3", { className: "mb-2 text-2xl font-bold", children: title }),
        description && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground", children: description })
      ] })
    ] }),
    options.length > 0 && /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: options.map((option) => /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => onSelect?.(option.id),
        className: cn(
          "rounded-full border-2 px-4 py-2 transition-colors",
          option.selected ? "border-primary bg-primary text-white" : "border-gray-300 bg-white text-gray-700 hover:border-primary"
        ),
        children: [
          option.icon && /* @__PURE__ */ jsx("i", { className: cn(option.icon, "mr-2") }),
          option.label
        ]
      },
      option.id
    )) }),
    children
  ] });
}
function OnboardingCompletion({
  completed,
  incompleteSteps = [],
  onGoToStep,
  onStartOrder,
  onGoToDashboard,
  onGoToEmployees
}) {
  if (completed) {
    return /* @__PURE__ */ jsxs("div", { className: "py-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
        /* @__PURE__ */ jsxs("p", { className: "mb-0 text-2xl", children: [
          /* @__PURE__ */ jsx("i", { className: "fas fa-check-circle mr-2 text-green-500" }),
          "Setup complete!"
        ] }),
        /* @__PURE__ */ jsx("p", { className: "text-muted-foreground", children: "You're all set up! You can now start using BlueHive to manage your employees." })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "my-6 flex flex-wrap gap-3", children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onStartOrder,
            className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-shopping-cart mr-2" }),
              "Start your first order"
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onGoToDashboard,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-tachometer-alt mr-2" }),
              "Go to Dashboard"
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onGoToEmployees,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-users mr-2" }),
              "Go to Employees"
            ]
          }
        )
      ] })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: "py-4", children: [
    /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
      /* @__PURE__ */ jsx("h3", { className: "mb-2 text-2xl font-bold", children: "Some steps not completed" }),
      /* @__PURE__ */ jsx("p", { className: "text-muted-foreground", children: "You still need to complete some steps to finish the full guided onboarding. If you're in a hurry, you can skip them for now and come back later." })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-3", children: incompleteSteps.map(({ step, label }) => /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => onGoToStep?.(step),
        className: "rounded-full border border-primary px-4 py-2 text-primary hover:bg-primary/10",
        children: [
          "Step ",
          step,
          label && `: ${label}`
        ]
      },
      step
    )) })
  ] });
}
var statusConfig = {
  pending: { label: "Pending", variant: "warning" },
  active: { label: "Active", variant: "default" },
  scheduled: { label: "Scheduled", variant: "default" },
  "in-progress": { label: "In Progress", variant: "default" },
  completed: { label: "Completed", variant: "success" },
  rejected: { label: "Rejected", variant: "danger" },
  invoiced: { label: "Invoiced", variant: "success" },
  cancelled: { label: "Cancelled", variant: "secondary" }
};
function formatDate3(date) {
  return new Intl.DateTimeFormat("en-US", {
    month: "short",
    day: "numeric",
    year: "numeric"
  }).format(date);
}
function formatRelativeTime2(date) {
  const now = /* @__PURE__ */ new Date();
  const diffInMs = now.getTime() - date.getTime();
  const diffInDays = Math.floor(diffInMs / (1e3 * 60 * 60 * 24));
  if (diffInDays === 0) return "Today";
  if (diffInDays === 1) return "Yesterday";
  if (diffInDays < 7) return `${diffInDays} days ago`;
  if (diffInDays < 30) return `${Math.floor(diffInDays / 7)} weeks ago`;
  return formatDate3(date);
}
function formatCurrency(amount, currency = "USD") {
  return new Intl.NumberFormat("en-US", {
    style: "currency",
    currency
  }).format(amount);
}
function OrderCard({
  id,
  orderNumber,
  status,
  employee,
  employer,
  services,
  createdAt,
  scheduledDate,
  totalAmount,
  rejectionReason,
  selected = false,
  onClick,
  onView,
  onAccept,
  onReject,
  className = "",
  currency = "USD"
}) {
  const statusInfo = statusConfig[status];
  const showActions = status === "pending" && (onAccept || onReject);
  const handleCardClick = () => {
    if (onClick) {
      onClick(id);
    }
  };
  const handleViewClick = (e) => {
    e.stopPropagation();
    if (onView) {
      onView(id);
    }
  };
  const handleAcceptClick = (e) => {
    e.stopPropagation();
    if (onAccept) {
      onAccept(id);
    }
  };
  const handleRejectClick = (e) => {
    e.stopPropagation();
    if (onReject) {
      onReject(id);
    }
  };
  return /* @__PURE__ */ jsx(
    Card,
    {
      className: `transition-all duration-200 ${onClick ? "cursor-pointer hover:shadow-md" : ""} ${selected ? "ring-2 ring-blue-500 dark:ring-blue-400" : ""} ${className} `.trim(),
      onClick: onClick ? handleCardClick : void 0,
      children: /* @__PURE__ */ jsxs("div", { className: "p-4", children: [
        /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-start justify-between gap-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxs("span", { className: "font-semibold text-gray-900 dark:text-white", children: [
                "#",
                orderNumber
              ] }),
              /* @__PURE__ */ jsx(Badge, { variant: statusInfo.variant, children: statusInfo.label })
            ] }),
            /* @__PURE__ */ jsx(
              "p",
              {
                className: "mt-1 text-sm text-gray-500 dark:text-gray-400",
                title: formatDate3(createdAt),
                children: formatRelativeTime2(createdAt)
              }
            )
          ] }),
          totalAmount !== void 0 && /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 text-right", children: /* @__PURE__ */ jsx("p", { className: "font-semibold text-gray-900 dark:text-white", children: formatCurrency(totalAmount, currency) }) })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "mb-3", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsx("div", { className: "flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900", children: /* @__PURE__ */ jsxs("span", { className: "text-sm font-medium text-blue-600 dark:text-blue-400", children: [
            employee.firstName[0],
            employee.lastName[0]
          ] }) }),
          /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
            /* @__PURE__ */ jsxs("p", { className: "truncate font-medium text-gray-900 dark:text-white", children: [
              employee.firstName,
              " ",
              employee.lastName
            ] }),
            employer && /* @__PURE__ */ jsx("p", { className: "truncate text-sm text-gray-500 dark:text-gray-400", children: employer.name })
          ] })
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "mb-3", children: [
          /* @__PURE__ */ jsxs("p", { className: "mb-1 text-xs font-medium tracking-wider text-gray-500 uppercase dark:text-gray-400", children: [
            "Services (",
            services.length,
            ")"
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-1", children: [
            services.slice(0, 3).map((service) => /* @__PURE__ */ jsx(
              "span",
              {
                className: "inline-flex items-center rounded bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-700 dark:bg-gray-800 dark:text-gray-300",
                children: service.name
              },
              service.id
            )),
            services.length > 3 && /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center rounded bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-500 dark:bg-gray-800 dark:text-gray-400", children: [
              "+",
              services.length - 3,
              " more"
            ] })
          ] })
        ] }),
        scheduledDate && /* @__PURE__ */ jsxs("div", { className: "mb-3 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "h-4 w-4",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsxs("span", { children: [
            "Scheduled: ",
            formatDate3(scheduledDate)
          ] })
        ] }),
        status === "rejected" && rejectionReason && /* @__PURE__ */ jsxs("div", { className: "mb-3 rounded bg-red-50 p-2 text-sm text-red-700 dark:bg-red-900/20 dark:text-red-300", children: [
          /* @__PURE__ */ jsx("span", { className: "font-medium", children: "Reason:" }),
          " ",
          rejectionReason
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-t border-gray-100 pt-3 dark:border-gray-800", children: [
          onView && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: handleViewClick,
              className: "text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",
              children: "View Details"
            }
          ),
          showActions && /* @__PURE__ */ jsxs("div", { className: "ml-auto flex gap-2", children: [
            onReject && /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: handleRejectClick,
                className: "rounded-md px-3 py-1.5 text-sm font-medium text-red-600 transition-colors hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",
                children: "Reject"
              }
            ),
            onAccept && /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: handleAcceptClick,
                className: "rounded-md bg-blue-600 px-3 py-1.5 text-sm font-medium text-white transition-colors hover:bg-blue-700",
                children: "Accept"
              }
            )
          ] })
        ] })
      ] })
    }
  );
}
function OrderConfirmationWizard({
  order,
  onComplete,
  onCancel,
  onStepChange,
  isSubmitting = false,
  initialStep = 1,
  stepTitles = ["Verify Employee", "Consent & ID", "Confirmation"],
  className = ""
}) {
  const [step, setStep] = React46.useState(initialStep);
  const [employeeVerified, setEmployeeVerified] = React46.useState(false);
  const [verificationNotes, setVerificationNotes] = React46.useState("");
  const [consentObtained, setConsentObtained] = React46.useState(false);
  const [idVerified, setIdVerified] = React46.useState(false);
  const [idType, setIdType] = React46.useState("");
  const [confirmationNotes, setConfirmationNotes] = React46.useState("");
  const handleStepChange = (newStep) => {
    setStep(newStep);
    onStepChange?.(newStep);
  };
  const handleComplete = () => {
    if (!onComplete) return;
    onComplete({
      orderId: order.id,
      employeeVerified,
      consentObtained,
      idVerified,
      notes: [verificationNotes, confirmationNotes].filter(Boolean).join("\n")
    });
  };
  const formatDate4 = (date) => {
    if (!date) return "N/A";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const canProceedStep1 = employeeVerified;
  const canProceedStep2 = consentObtained && idVerified;
  const canComplete = canProceedStep1 && canProceedStep2;
  return /* @__PURE__ */ jsxs("div", { className: `max-w-2xl mx-auto ${className}`, children: [
    /* @__PURE__ */ jsx("div", { className: "mb-8", children: /* @__PURE__ */ jsx("div", { className: "flex items-center justify-between", children: stepTitles.map((title, index) => {
      const stepNum = index + 1;
      const isActive = step === stepNum;
      const isComplete = step > stepNum;
      return /* @__PURE__ */ jsxs(React46.Fragment, { children: [
        /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center", children: [
          /* @__PURE__ */ jsx(
            "div",
            {
              className: `
                      w-10 h-10 rounded-full flex items-center justify-center font-medium
                      ${isComplete ? "bg-green-500 text-white" : isActive ? "bg-blue-500 text-white" : "bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}
                    `,
              children: isComplete ? /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-5 h-5",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M5 13l4 4L19 7"
                    }
                  )
                }
              ) : stepNum
            }
          ),
          /* @__PURE__ */ jsx(
            "span",
            {
              className: `
                      mt-2 text-xs font-medium text-center
                      ${isActive ? "text-blue-600 dark:text-blue-400" : "text-gray-500 dark:text-gray-400"}
                    `,
              children: title
            }
          )
        ] }),
        index < stepTitles.length - 1 && /* @__PURE__ */ jsx(
          "div",
          {
            className: `
                      flex-1 h-0.5 mx-4
                      ${step > stepNum ? "bg-green-500" : "bg-gray-200 dark:bg-gray-700"}
                    `
          }
        )
      ] }, stepNum);
    }) }) }),
    /* @__PURE__ */ jsx(Card, { className: "mb-6", children: /* @__PURE__ */ jsx(CardContent, { className: "p-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.orderNumber }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: order.serviceName })
      ] }),
      /* @__PURE__ */ jsx(Badge, { variant: "warning", children: "In Progress" })
    ] }) }) }),
    /* @__PURE__ */ jsx(Card, { className: "mb-6", children: /* @__PURE__ */ jsxs(CardContent, { className: "p-6", children: [
      step === 1 && /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Verify Employee Identity" }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Please verify the following information matches the employee present." }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Employee Name" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.employeeName })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Date of Birth" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.dateOfBirth || "N/A" })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Employer" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: order.employerName })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Scheduled" }),
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: formatDate4(order.scheduledDate) })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("label", { className: "flex items-start gap-3", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "checkbox",
              checked: employeeVerified,
              onChange: (e) => setEmployeeVerified(e.target.checked),
              className: "mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
            }
          ),
          /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: "I confirm the employee's identity matches the information above" })
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Notes (Optional)" }),
          /* @__PURE__ */ jsx(
            "textarea",
            {
              className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
              rows: 2,
              value: verificationNotes,
              onChange: (e) => setVerificationNotes(e.target.value),
              placeholder: "Any verification notes..."
            }
          )
        ] })
      ] }),
      step === 2 && /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Consent & ID Verification" }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Obtain consent and verify government-issued identification." }),
        /* @__PURE__ */ jsxs("label", { className: "flex items-start gap-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "checkbox",
              checked: consentObtained,
              onChange: (e) => setConsentObtained(e.target.checked),
              className: "mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
            }
          ),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: "Consent Obtained" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Employee has provided written or verbal consent for the requested services" })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("label", { className: "flex items-start gap-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "checkbox",
              checked: idVerified,
              onChange: (e) => setIdVerified(e.target.checked),
              className: "mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
            }
          ),
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: "Photo ID Verified" }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 mb-2", children: "Government-issued photo ID matches employee information" }),
            idVerified && /* @__PURE__ */ jsx(
              Input,
              {
                placeholder: "ID Type (e.g., Driver's License)",
                value: idType,
                onChange: (e) => setIdType(e.target.value),
                className: "mt-2"
              }
            )
          ] })
        ] })
      ] }),
      step === 3 && /* @__PURE__ */ jsxs("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Review & Confirm" }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Review the verification steps before proceeding." }),
        /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-5 h-5 text-green-600 dark:text-green-400",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    }
                  )
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "font-medium text-green-700 dark:text-green-300", children: "Employee Identity Verified" })
            ] }),
            /* @__PURE__ */ jsx("span", { className: "text-green-600 dark:text-green-400", children: "\u2713" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-5 h-5 text-green-600 dark:text-green-400",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    }
                  )
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "font-medium text-green-700 dark:text-green-300", children: "Consent Obtained" })
            ] }),
            /* @__PURE__ */ jsx("span", { className: "text-green-600 dark:text-green-400", children: "\u2713" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-5 h-5 text-green-600 dark:text-green-400",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    }
                  )
                }
              ),
              /* @__PURE__ */ jsxs("span", { className: "font-medium text-green-700 dark:text-green-300", children: [
                "Photo ID Verified ",
                idType && `(${idType})`
              ] })
            ] }),
            /* @__PURE__ */ jsx("span", { className: "text-green-600 dark:text-green-400", children: "\u2713" })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Additional Notes (Optional)" }),
          /* @__PURE__ */ jsx(
            "textarea",
            {
              className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
              rows: 3,
              value: confirmationNotes,
              onChange: (e) => setConfirmationNotes(e.target.value),
              placeholder: "Any additional notes for this order..."
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "flex justify-between", children: [
      /* @__PURE__ */ jsx("div", { children: step > 1 && /* @__PURE__ */ jsxs(
        Button,
        {
          variant: "ghost",
          onClick: () => handleStepChange(step - 1),
          disabled: isSubmitting,
          children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: "w-4 h-4 mr-1",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M15 19l-7-7 7-7"
                  }
                )
              }
            ),
            "Back"
          ]
        }
      ) }),
      /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
        onCancel && /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onCancel, disabled: isSubmitting, children: "Cancel" }),
        step < 3 ? /* @__PURE__ */ jsxs(
          Button,
          {
            onClick: () => handleStepChange(step + 1),
            disabled: step === 1 ? !canProceedStep1 : !canProceedStep2,
            children: [
              "Continue",
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 ml-1",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 5l7 7-7 7"
                    }
                  )
                }
              )
            ]
          }
        ) : /* @__PURE__ */ jsx(Button, { onClick: handleComplete, disabled: !canComplete || isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsxs(
            "svg",
            {
              className: "animate-spin -ml-1 mr-2 h-4 w-4",
              fill: "none",
              viewBox: "0 0 24 24",
              children: [
                /* @__PURE__ */ jsx(
                  "circle",
                  {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  }
                )
              ]
            }
          ),
          "Processing..."
        ] }) : /* @__PURE__ */ jsxs(Fragment, { children: [
          "Start Service",
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 ml-1",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M5 13l4 4L19 7"
                }
              )
            }
          )
        ] }) })
      ] })
    ] })
  ] });
}
function OrderList({
  orders,
  activeTab,
  tabs,
  onTabChange,
  renderOrder,
  getOrderStatus,
  isLoading = false,
  emptyMessage = "No orders found",
  emptyIcon,
  searchPlaceholder = "Search orders...",
  searchValue = "",
  onSearchChange,
  showSearch = false,
  actions,
  className
}) {
  const filteredOrders = React46.useMemo(() => {
    const activeTabConfig = tabs.find((t) => t.id === activeTab);
    if (!activeTabConfig?.statuses || !getOrderStatus) {
      return orders;
    }
    return orders.filter(
      (order) => activeTabConfig.statuses.includes(getOrderStatus(order))
    );
  }, [orders, activeTab, tabs, getOrderStatus]);
  const tabCounts = React46.useMemo(() => {
    if (!getOrderStatus) return {};
    const counts = {};
    tabs.forEach((tab) => {
      if (tab.statuses) {
        counts[tab.id] = orders.filter(
          (order) => tab.statuses.includes(getOrderStatus(order))
        ).length;
      } else {
        counts[tab.id] = orders.length;
      }
    });
    return counts;
  }, [orders, tabs, getOrderStatus]);
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-col", className), children: [
    /* @__PURE__ */ jsx("div", { className: "border-b border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 px-4 pb-4", children: [
      /* @__PURE__ */ jsx("div", { className: "flex gap-1 overflow-x-auto", children: tabs.map((tab) => {
        const count = tab.count ?? tabCounts[tab.id];
        return /* @__PURE__ */ jsxs(
          "button",
          {
            onClick: () => onTabChange?.(tab.id),
            className: cn(
              "px-4 py-2 text-sm font-medium rounded-lg whitespace-nowrap transition-colors",
              activeTab === tab.id ? "bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300" : "text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800"
            ),
            children: [
              tab.label,
              count !== void 0 && /* @__PURE__ */ jsx(
                "span",
                {
                  className: cn(
                    "ml-2 px-2 py-0.5 text-xs rounded-full",
                    activeTab === tab.id ? "bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200" : "bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400"
                  ),
                  children: count
                }
              )
            ]
          },
          tab.id
        );
      }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        showSearch && /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: searchPlaceholder,
              value: searchValue,
              onChange: (e) => onSearchChange?.(e.target.value),
              className: "pl-9 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"
            }
          )
        ] }),
        actions
      ] })
    ] }) }),
    /* @__PURE__ */ jsx("div", { className: "flex-1 overflow-y-auto", children: isLoading ? /* @__PURE__ */ jsx("div", { className: "flex items-center justify-center py-12", children: /* @__PURE__ */ jsxs(
      "svg",
      {
        className: "animate-spin h-8 w-8 text-blue-500",
        fill: "none",
        viewBox: "0 0 24 24",
        children: [
          /* @__PURE__ */ jsx(
            "circle",
            {
              className: "opacity-25",
              cx: "12",
              cy: "12",
              r: "10",
              stroke: "currentColor",
              strokeWidth: "4"
            }
          ),
          /* @__PURE__ */ jsx(
            "path",
            {
              className: "opacity-75",
              fill: "currentColor",
              d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            }
          )
        ]
      }
    ) }) : filteredOrders.length === 0 ? /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center py-12 text-center px-4", children: [
      emptyIcon || /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 text-gray-400 mb-4",
          fill: "none",
          viewBox: "0 0 24 24",
          stroke: "currentColor",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: emptyMessage })
    ] }) : /* @__PURE__ */ jsx("div", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: filteredOrders.map((order, index) => /* @__PURE__ */ jsx("div", { children: renderOrder(order, index) }, index)) }) })
  ] });
}
var defaultOrderTabs = [
  { id: "all", label: "All" },
  { id: "pending", label: "Pending", statuses: ["pending"] },
  { id: "active", label: "Active", statuses: ["active", "scheduled", "in-progress"] },
  { id: "completed", label: "Completed", statuses: ["completed"] },
  { id: "invoiced", label: "Invoiced", statuses: ["invoiced"] },
  { id: "rejected", label: "Rejected", statuses: ["rejected", "cancelled"] }
];
function OrderLookupForm({
  onSubmit,
  isSubmitting = false,
  errorMessage,
  notFound = false,
  providerLogo,
  providerName,
  welcomeMessage = "Look up your order by entering the information below.",
  className = ""
}) {
  const [formData, setFormData] = React46.useState({
    orderNumber: "",
    dateOfBirth: "",
    lastName: ""
  });
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!formData.orderNumber || !formData.dateOfBirth || !formData.lastName) {
      return;
    }
    onSubmit?.(formData);
  };
  const isValid = formData.orderNumber.trim() && formData.dateOfBirth.trim() && formData.lastName.trim();
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: `min-h-screen flex flex-col md:flex-row ${className}`,
      children: [
        /* @__PURE__ */ jsxs("div", { className: "md:w-1/2 bg-gradient-to-br from-blue-600 to-blue-800 dark:from-blue-800 dark:to-blue-950 p-8 flex flex-col items-center justify-center text-white", children: [
          providerLogo ? /* @__PURE__ */ jsx(
            "img",
            {
              src: providerLogo,
              alt: providerName || "Provider",
              className: "max-w-[200px] max-h-[100px] object-contain mb-6"
            }
          ) : /* @__PURE__ */ jsx("div", { className: "w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mb-6", children: /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-10 h-10",
              fill: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx("path", { d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" })
            }
          ) }),
          providerName && /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-center mb-2", children: providerName }),
          /* @__PURE__ */ jsx("p", { className: "text-blue-100 text-center max-w-xs", children: welcomeMessage })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "md:w-1/2 p-8 flex items-center justify-center bg-white dark:bg-gray-900", children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-md", children: [
          /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold text-gray-900 dark:text-white mb-2", children: "Order Lookup" }),
          /* @__PURE__ */ jsx("p", { className: "text-gray-600 dark:text-gray-400 mb-6", children: "Enter your order details to view your information." }),
          /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
            (errorMessage || notFound) && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage || "Order not found. Please check your information and try again." }) }),
            /* @__PURE__ */ jsx(
              Input,
              {
                label: "Order Number",
                value: formData.orderNumber,
                onChange: (e) => setFormData((prev) => ({
                  ...prev,
                  orderNumber: e.target.value
                })),
                placeholder: "e.g., ORD-2024-001",
                required: true,
                autoComplete: "off"
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                label: "Date of Birth",
                type: "date",
                value: formData.dateOfBirth,
                onChange: (e) => setFormData((prev) => ({
                  ...prev,
                  dateOfBirth: e.target.value
                })),
                required: true
              }
            ),
            /* @__PURE__ */ jsx(
              Input,
              {
                label: "Last Name",
                value: formData.lastName,
                onChange: (e) => setFormData((prev) => ({ ...prev, lastName: e.target.value })),
                placeholder: "Enter your last name",
                required: true,
                autoComplete: "family-name"
              }
            ),
            /* @__PURE__ */ jsx(
              Button,
              {
                type: "submit",
                className: "w-full",
                disabled: !isValid || isSubmitting,
                children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
                  /* @__PURE__ */ jsxs(
                    "svg",
                    {
                      className: "animate-spin -ml-1 mr-2 h-4 w-4",
                      fill: "none",
                      viewBox: "0 0 24 24",
                      children: [
                        /* @__PURE__ */ jsx(
                          "circle",
                          {
                            className: "opacity-25",
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            strokeWidth: "4"
                          }
                        ),
                        /* @__PURE__ */ jsx(
                          "path",
                          {
                            className: "opacity-75",
                            fill: "currentColor",
                            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                          }
                        )
                      ]
                    }
                  ),
                  "Looking up order..."
                ] }) : "Look Up Order"
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("p", { className: "text-xs text-gray-500 dark:text-gray-400 text-center mt-6", children: [
            "Need help?",
            " ",
            /* @__PURE__ */ jsx(
              "a",
              {
                href: "#",
                className: "text-blue-600 hover:text-blue-700 dark:text-blue-400",
                children: "Contact Support"
              }
            )
          ] })
        ] }) })
      ]
    }
  );
}
function OrderSidebar({
  orderId,
  status,
  patientName,
  employerName,
  serviceName,
  createdAt,
  scheduledDate,
  priority = "normal",
  notes,
  open = false,
  onClose,
  actions = [],
  children,
  className = ""
}) {
  const formatDate4 = (date) => {
    if (!date) return "Not set";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      year: "numeric"
    });
  };
  const getStatusVariant = (s) => {
    switch (s?.toLowerCase()) {
      case "completed":
        return "success";
      case "pending":
      case "in progress":
        return "warning";
      case "cancelled":
      case "rejected":
        return "danger";
      default:
        return "default";
    }
  };
  const getPriorityColor = () => {
    switch (priority) {
      case "stat":
        return "text-red-600 dark:text-red-400";
      case "urgent":
        return "text-orange-600 dark:text-orange-400";
      default:
        return "text-gray-600 dark:text-gray-400";
    }
  };
  if (!open) return null;
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 bg-black/50 z-40 transition-opacity",
        onClick: onClose,
        "aria-hidden": "true"
      }
    ),
    /* @__PURE__ */ jsxs(
      "aside",
      {
        className: `
          fixed top-0 right-0 h-full w-full max-w-md bg-white dark:bg-gray-900
          shadow-xl z-50 transform transition-transform duration-300
          ${open ? "translate-x-0" : "translate-x-full"}
          ${className}
        `,
        role: "dialog",
        "aria-modal": "true",
        "aria-label": "Order details",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("h2", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Order Details" }),
              orderId && /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
                "#",
                orderId
              ] })
            ] }),
            /* @__PURE__ */ jsx(
              "button",
              {
                onClick: onClose,
                className: "p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",
                "aria-label": "Close sidebar",
                children: /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-5 h-5 text-gray-500",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M6 18L18 6M6 6l12 12"
                      }
                    )
                  }
                )
              }
            )
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "p-4 overflow-y-auto h-[calc(100%-8rem)]", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 mb-4", children: [
              status && /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(status), children: status }),
              priority !== "normal" && /* @__PURE__ */ jsx("span", { className: `text-xs font-medium uppercase ${getPriorityColor()}`, children: priority })
            ] }),
            /* @__PURE__ */ jsxs("dl", { className: "space-y-4", children: [
              patientName && /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Patient" }),
                /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-900 dark:text-white", children: patientName })
              ] }),
              employerName && /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Employer" }),
                /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-900 dark:text-white", children: employerName })
              ] }),
              serviceName && /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Service" }),
                /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-900 dark:text-white", children: serviceName })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Created" }),
                  /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-900 dark:text-white", children: formatDate4(createdAt) })
                ] }),
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Scheduled" }),
                  /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-900 dark:text-white", children: formatDate4(scheduledDate) })
                ] })
              ] }),
              notes && /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("dt", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide", children: "Notes" }),
                /* @__PURE__ */ jsx("dd", { className: "mt-1 text-sm text-gray-600 dark:text-gray-300 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: notes })
              ] })
            ] }),
            children && /* @__PURE__ */ jsx("div", { className: "mt-6", children })
          ] }),
          actions.length > 0 && /* @__PURE__ */ jsx("div", { className: "absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900", children: /* @__PURE__ */ jsx("div", { className: "flex flex-wrap gap-2", children: actions.map((action) => /* @__PURE__ */ jsx(
            Button,
            {
              variant: action.variant || "primary",
              onClick: action.onClick,
              disabled: action.disabled,
              className: "flex-1",
              children: action.label
            },
            action.id
          )) }) })
        ]
      }
    )
  ] });
}
function PageHeader({
  title,
  subtitle,
  icon,
  actions,
  children,
  className = "",
  bordered = true,
  size = "md"
}) {
  const sizeClasses2 = {
    sm: "py-2",
    md: "py-4",
    lg: "py-6"
  };
  const titleSizeClasses = {
    sm: "text-lg font-semibold",
    md: "text-xl font-semibold",
    lg: "text-2xl font-bold"
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: `
        ${sizeClasses2[size]}
        ${bordered ? "border-b border-gray-200 dark:border-gray-700" : ""}
        ${className}
      `.trim(),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between gap-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 min-w-0", children: [
            icon && /* @__PURE__ */ jsx("div", { className: "flex-shrink-0 text-gray-500 dark:text-gray-400", children: icon }),
            /* @__PURE__ */ jsxs("div", { className: "min-w-0", children: [
              /* @__PURE__ */ jsx(
                "h1",
                {
                  className: `${titleSizeClasses[size]} text-gray-900 dark:text-white truncate`,
                  children: title
                }
              ),
              subtitle && /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-gray-500 dark:text-gray-400 truncate", children: subtitle })
            ] })
          ] }),
          actions && /* @__PURE__ */ jsx("div", { className: "flex items-center gap-2 flex-shrink-0", children: actions })
        ] }),
        children && /* @__PURE__ */ jsx("div", { className: "mt-4", children })
      ]
    }
  );
}
function PaymentHistoryTable({
  payments,
  onPaymentClick,
  onInvoiceClick,
  onRefund,
  isLoading = false,
  currency = "$",
  emptyMessage = "No payment history",
  className = ""
}) {
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const formatCurrency3 = (amount) => {
    return `${currency}${amount.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "completed":
        return "success";
      case "pending":
        return "warning";
      case "failed":
        return "danger";
      case "refunded":
        return "secondary";
    }
  };
  const getMethodLabel = (method) => {
    switch (method) {
      case "credit_card":
        return "Credit Card";
      case "ach":
        return "ACH Transfer";
      case "check":
        return "Check";
      case "cash":
        return "Cash";
      default:
        return "Other";
    }
  };
  const getMethodIcon = (method) => {
    switch (method) {
      case "credit_card":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" }) });
      case "ach":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z" }) });
      case "check":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) });
      default:
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" }) });
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsx("div", { className: `space-y-2 ${className}`, children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
      "div",
      {
        className: "h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"
      },
      i
    )) });
  }
  if (payments.length === 0) {
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: `text-center py-12 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg ${className}`,
        children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-3",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 1.5,
                  d: "M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: emptyMessage })
        ]
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: `border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden ${className}`,
      children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
        /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 dark:bg-gray-800", children: /* @__PURE__ */ jsxs("tr", { children: [
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Date" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell", children: "Invoice" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell", children: "Employer" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell", children: "Method" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Amount" }),
          /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" }),
          onRefund && /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Action" })
        ] }) }),
        /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: payments.map((payment) => /* @__PURE__ */ jsxs(
          "tr",
          {
            onClick: () => onPaymentClick?.(payment),
            className: `
                bg-white dark:bg-gray-900
                ${onPaymentClick ? "cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800" : ""}
              `,
            children: [
              /* @__PURE__ */ jsxs("td", { className: "px-4 py-3", children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: formatDate4(payment.date) }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 sm:hidden", children: payment.invoiceNumber })
              ] }),
              /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden sm:table-cell", children: payment.invoiceId && onInvoiceClick ? /* @__PURE__ */ jsx(
                "button",
                {
                  onClick: (e) => {
                    e.stopPropagation();
                    onInvoiceClick(payment.invoiceId);
                  },
                  className: "text-sm text-blue-600 dark:text-blue-400 hover:underline",
                  children: payment.invoiceNumber
                }
              ) : /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300", children: payment.invoiceNumber }) }),
              /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden md:table-cell", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300 truncate max-w-[150px]", children: payment.employerName }) }),
              /* @__PURE__ */ jsx("td", { className: "px-4 py-3 hidden lg:table-cell", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-gray-500 dark:text-gray-400", children: [
                getMethodIcon(payment.method),
                /* @__PURE__ */ jsxs("span", { className: "text-sm", children: [
                  getMethodLabel(payment.method),
                  payment.cardLast4 && ` \u2022\u2022\u2022\u2022 ${payment.cardLast4}`
                ] })
              ] }) }),
              /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-right", children: /* @__PURE__ */ jsx(
                "p",
                {
                  className: `font-medium ${payment.status === "refunded" ? "text-gray-500 dark:text-gray-400 line-through" : "text-gray-900 dark:text-white"}`,
                  children: formatCurrency3(payment.amount)
                }
              ) }),
              /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-center", children: /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(payment.status), children: payment.status }) }),
              onRefund && /* @__PURE__ */ jsx("td", { className: "px-4 py-3 text-right", children: payment.status === "completed" && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: (e) => {
                    e.stopPropagation();
                    onRefund(payment);
                  },
                  children: "Refund"
                }
              ) })
            ]
          },
          payment.id
        )) })
      ] })
    }
  );
}
var CARD_BRAND_ICONS = {
  visa: "cc-visa",
  mastercard: "cc-mastercard",
  amex: "cc-amex",
  discover: "cc-discover",
  diners: "cc-diners-club",
  jcb: "cc-jcb",
  unionpay: "credit-card",
  default: "credit-card"
};
function getCardBrandIcon(brand) {
  return CARD_BRAND_ICONS[brand.toLowerCase()] || CARD_BRAND_ICONS.default;
}
function PaymentMethodCard({
  card,
  selectable = false,
  selected = false,
  onSelect,
  onDelete,
  showDelete = false,
  disabled = false,
  className
}) {
  const handleSelect = () => {
    if (!disabled && selectable && onSelect) {
      onSelect(card.id);
    }
  };
  const handleDelete = (e) => {
    e.stopPropagation();
    if (!disabled && onDelete) {
      onDelete(card.id);
    }
  };
  const expMonth = String(card.expMonth).padStart(2, "0");
  const expYear = String(card.expYear).slice(-2);
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "relative flex h-full flex-col justify-between rounded-xl border p-4",
        card.isDefault || selected ? "border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-900/20" : "border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",
        selectable && !disabled && "hover:border-brand-400 cursor-pointer",
        disabled && "cursor-not-allowed opacity-50",
        className
      ),
      onClick: handleSelect,
      role: selectable ? "button" : void 0,
      tabIndex: selectable ? 0 : void 0,
      onKeyDown: selectable ? (e) => {
        if (e.key === "Enter" || e.key === " ") handleSelect();
      } : void 0,
      children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx(
              "i",
              {
                className: cn(
                  "fab",
                  `fa-${getCardBrandIcon(card.brand)}`,
                  "text-lg"
                ),
                "aria-hidden": "true"
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-gray-600 uppercase dark:text-gray-400", children: "Credit Card" })
          ] }),
          (card.isDefault || selected) && /* @__PURE__ */ jsx("span", { className: "text-brand-600 dark:text-brand-400 text-xs font-medium", children: "Default" })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-3 flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { className: "font-mono text-sm text-gray-900 dark:text-gray-100", children: [
            /* @__PURE__ */ jsx("span", { className: "hidden lg:inline", children: "\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 " }),
            "\u2022\u2022\u2022\u2022 ",
            card.last4
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: [
            expMonth,
            "/",
            expYear
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-3 flex items-center justify-between border-t border-gray-200 pt-2 dark:border-gray-700", children: [
          selectable && !card.isDefault && !selected ? /* @__PURE__ */ jsxs("label", { className: "flex cursor-pointer items-center gap-2", children: [
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "radio",
                name: "default_payment",
                value: card.id,
                checked: selected,
                onChange: handleSelect,
                disabled,
                className: "text-brand-600 focus:ring-brand-500"
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-600 dark:text-gray-400", children: "Set as default" })
          ] }) : /* @__PURE__ */ jsx("div", {}),
          showDelete && onDelete && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: handleDelete,
              disabled,
              className: cn(
                "rounded p-1 text-red-500 transition-colors hover:bg-red-50 hover:text-red-600",
                "dark:text-red-400 dark:hover:bg-red-900/20 dark:hover:text-red-300",
                "disabled:cursor-not-allowed disabled:opacity-50"
              ),
              "aria-label": `Delete card ending in ${card.last4}`,
              children: /* @__PURE__ */ jsx(TrashIcon2, { className: "h-4 w-4" })
            }
          )
        ] })
      ]
    }
  );
}
PaymentMethodCard.displayName = "PaymentMethodCard";
function PaymentMethodBank({
  account,
  selectable = false,
  selected = false,
  onSelect,
  onDelete,
  showDelete = false,
  disabled = false,
  className
}) {
  const handleSelect = () => {
    if (!disabled && selectable && onSelect) {
      onSelect(account.id);
    }
  };
  const handleDelete = (e) => {
    e.stopPropagation();
    if (!disabled && onDelete) {
      onDelete(account.id);
    }
  };
  const isNew = account.status === "new";
  const isError = account.status === "errored" || account.status === "verification_failed";
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "relative flex h-full flex-col justify-between rounded-xl border p-4",
        isNew && "border-yellow-400 bg-yellow-50 dark:border-yellow-600 dark:bg-yellow-900/20",
        isError && "border-red-400 bg-red-50 dark:border-red-600 dark:bg-red-900/20",
        !isNew && !isError && (account.isDefault || selected ? "border-brand-500 bg-brand-50 dark:border-brand-400 dark:bg-brand-900/20" : "border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800"),
        selectable && !disabled && "hover:border-brand-400 cursor-pointer",
        disabled && "cursor-not-allowed opacity-50",
        className
      ),
      onClick: handleSelect,
      role: selectable ? "button" : void 0,
      tabIndex: selectable ? 0 : void 0,
      onKeyDown: selectable ? (e) => {
        if (e.key === "Enter" || e.key === " ") handleSelect();
      } : void 0,
      children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx(BankIcon, { className: "h-5 w-5 text-gray-600 dark:text-gray-400" }),
            /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-gray-600 uppercase dark:text-gray-400", children: "ACH" })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            isNew && /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-yellow-600 dark:text-yellow-400", children: "Pending Verification" }),
            isError && /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-red-600 dark:text-red-400", children: "Verification Failed" }),
            !isNew && !isError && (account.isDefault || selected) && /* @__PURE__ */ jsx("span", { className: "text-brand-600 dark:text-brand-400 text-xs font-medium", children: "Default" })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-3 space-y-1", children: [
          account.bankName && /* @__PURE__ */ jsx("div", { className: "text-sm font-medium text-gray-900 dark:text-gray-100", children: account.bankName }),
          /* @__PURE__ */ jsxs("div", { className: "font-mono text-sm text-gray-600 dark:text-gray-400", children: [
            /* @__PURE__ */ jsx("span", { className: "hidden lg:inline", children: "\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 " }),
            "\u2022\u2022\u2022\u2022",
            " ",
            account.last4
          ] }),
          account.accountType && /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500 capitalize dark:text-gray-500", children: account.accountType })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-3 flex items-center justify-between border-t border-gray-200 pt-2 dark:border-gray-700", children: [
          selectable && !account.isDefault && !selected ? /* @__PURE__ */ jsxs("label", { className: "flex cursor-pointer items-center gap-2", children: [
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "radio",
                name: "default_payment",
                value: account.id,
                checked: selected,
                onChange: handleSelect,
                disabled,
                className: "text-brand-600 focus:ring-brand-500"
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-600 dark:text-gray-400", children: "Set as default" })
          ] }) : /* @__PURE__ */ jsx("div", {}),
          showDelete && onDelete && /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: handleDelete,
              disabled,
              className: cn(
                "rounded p-1 text-red-500 transition-colors hover:bg-red-50 hover:text-red-600",
                "dark:text-red-400 dark:hover:bg-red-900/20 dark:hover:text-red-300",
                "disabled:cursor-not-allowed disabled:opacity-50"
              ),
              "aria-label": `Delete account ending in ${account.last4}`,
              children: /* @__PURE__ */ jsx(TrashIcon2, { className: "h-4 w-4" })
            }
          )
        ] })
      ]
    }
  );
}
PaymentMethodBank.displayName = "PaymentMethodBank";
function PaymentMethodList({
  methods,
  selectedId,
  onSelect,
  onDelete,
  showDelete = false,
  disabled = false,
  emptyMessage = "No payment methods found. Add a credit card or bank account to get started.",
  className
}) {
  if (methods.length === 0) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "rounded-lg border border-yellow-300 bg-yellow-50 p-4",
          "dark:border-yellow-700 dark:bg-yellow-900/20",
          className
        ),
        children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3", children: [
          /* @__PURE__ */ jsx(WarningIcon, { className: "h-5 w-5 flex-shrink-0 text-yellow-600 dark:text-yellow-400" }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h4", { className: "font-medium text-yellow-800 dark:text-yellow-200", children: "No Payment Methods" }),
            /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm text-yellow-700 dark:text-yellow-300", children: emptyMessage })
          ] })
        ] })
      }
    );
  }
  return /* @__PURE__ */ jsx("div", { className: cn("grid gap-4 md:grid-cols-2", className), children: methods.map(
    (method) => method.type === "card" ? /* @__PURE__ */ jsx(
      PaymentMethodCard,
      {
        card: method.data,
        selectable: !!onSelect,
        selected: selectedId === method.data.id,
        onSelect,
        onDelete,
        showDelete,
        disabled
      },
      method.data.id
    ) : /* @__PURE__ */ jsx(
      PaymentMethodBank,
      {
        account: method.data,
        selectable: !!onSelect,
        selected: selectedId === method.data.id,
        onSelect,
        onDelete,
        showDelete,
        disabled
      },
      method.data.id
    )
  ) });
}
PaymentMethodList.displayName = "PaymentMethodList";
function BankIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"
        }
      )
    }
  );
}
function TrashIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
        }
      )
    }
  );
}
function WarningIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
        }
      )
    }
  );
}
function PendingClaimsTable({
  claims,
  onApprove,
  onReject,
  onViewDetails,
  actionsDisabled = false,
  isLoading = false,
  emptyMessage = "No pending claims",
  className = ""
}) {
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString();
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "approved":
        return "success";
      case "rejected":
        return "danger";
      default:
        return "warning";
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsx("div", { className: `space-y-2 ${className}`, children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
      "div",
      {
        className: "h-20 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"
      },
      i
    )) });
  }
  if (claims.length === 0) {
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: `text-center py-12 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg ${className}`,
        children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-12 h-12 mx-auto text-gray-400 dark:text-gray-600 mb-3",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 1.5,
                  d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: emptyMessage })
        ]
      }
    );
  }
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: `border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden ${className}`,
      children: [
        /* @__PURE__ */ jsx("div", { className: "hidden md:block", children: /* @__PURE__ */ jsxs("table", { className: "w-full", children: [
          /* @__PURE__ */ jsx("thead", { className: "bg-gray-50 dark:bg-gray-800", children: /* @__PURE__ */ jsxs("tr", { children: [
            /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Claimant" }),
            /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Role" }),
            /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Submitted" }),
            /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" }),
            /* @__PURE__ */ jsx("th", { className: "px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
          ] }) }),
          /* @__PURE__ */ jsx("tbody", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: claims.map((claim) => /* @__PURE__ */ jsxs("tr", { className: "bg-white dark:bg-gray-900", children: [
            /* @__PURE__ */ jsx("td", { className: "px-4 py-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(Avatar, { name: claim.claimantName, size: "sm" }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: claim.claimantName }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: claim.claimantEmail })
              ] })
            ] }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-4", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-700 dark:text-gray-300", children: claim.claimantRole || "Not specified" }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-4", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: formatDate4(claim.submittedDate) }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-4 text-center", children: /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(claim.status), children: claim.status }) }),
            /* @__PURE__ */ jsx("td", { className: "px-4 py-4 text-right", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end gap-2", children: [
              onViewDetails && /* @__PURE__ */ jsx(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => onViewDetails(claim),
                  children: "View"
                }
              ),
              claim.status === "pending" && /* @__PURE__ */ jsxs(Fragment, { children: [
                onReject && /* @__PURE__ */ jsx(
                  Button,
                  {
                    variant: "outline",
                    size: "sm",
                    onClick: () => onReject(claim),
                    disabled: actionsDisabled,
                    children: "Reject"
                  }
                ),
                onApprove && /* @__PURE__ */ jsx(
                  Button,
                  {
                    size: "sm",
                    onClick: () => onApprove(claim),
                    disabled: actionsDisabled,
                    children: "Approve"
                  }
                )
              ] })
            ] }) })
          ] }, claim.id)) })
        ] }) }),
        /* @__PURE__ */ jsx("div", { className: "md:hidden divide-y divide-gray-200 dark:divide-gray-700", children: claims.map((claim) => /* @__PURE__ */ jsxs("div", { className: "p-4 bg-white dark:bg-gray-900", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between gap-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsx(Avatar, { name: claim.claimantName, size: "sm" }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: claim.claimantName }),
                /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: claim.claimantEmail })
              ] })
            ] }),
            /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(claim.status), children: claim.status })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "mt-3 flex items-center justify-between", children: /* @__PURE__ */ jsxs("div", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
            /* @__PURE__ */ jsx("span", { children: claim.claimantRole || "No role" }),
            /* @__PURE__ */ jsx("span", { className: "mx-2", children: "\u2022" }),
            /* @__PURE__ */ jsx("span", { children: formatDate4(claim.submittedDate) })
          ] }) }),
          claim.status === "pending" && (onApprove || onReject) && /* @__PURE__ */ jsxs("div", { className: "mt-3 flex gap-2", children: [
            onViewDetails && /* @__PURE__ */ jsx(
              Button,
              {
                variant: "ghost",
                size: "sm",
                onClick: () => onViewDetails(claim),
                className: "flex-1",
                children: "View"
              }
            ),
            onReject && /* @__PURE__ */ jsx(
              Button,
              {
                variant: "outline",
                size: "sm",
                onClick: () => onReject(claim),
                disabled: actionsDisabled,
                className: "flex-1",
                children: "Reject"
              }
            ),
            onApprove && /* @__PURE__ */ jsx(
              Button,
              {
                size: "sm",
                onClick: () => onApprove(claim),
                disabled: actionsDisabled,
                className: "flex-1",
                children: "Approve"
              }
            )
          ] })
        ] }, claim.id)) })
      ]
    }
  );
}
function PermissionItem({
  permission,
  level,
  isAssigned,
  onToggle,
  parentChecked
}) {
  const hasChildren = permission.children && permission.children.length > 0;
  const [isExpanded, setIsExpanded] = React46.useState(true);
  const handleChange = (checked) => {
    onToggle(permission.id, checked);
    if (!checked && hasChildren) {
      permission.children?.forEach((child) => {
        onToggle(child.id, false);
        child.children?.forEach((grandchild) => {
          onToggle(grandchild.id, false);
        });
      });
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("py-1", level > 0 && "ml-4"), children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
      hasChildren && /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => setIsExpanded(!isExpanded),
          className: "hover:bg-muted rounded p-0.5",
          children: isExpanded ? /* @__PURE__ */ jsx(ChevronDown, { className: "text-muted-foreground h-4 w-4" }) : /* @__PURE__ */ jsx(ChevronRight, { className: "text-muted-foreground h-4 w-4" })
        }
      ),
      !hasChildren && /* @__PURE__ */ jsx("span", { className: "w-5" }),
      /* @__PURE__ */ jsx(
        Checkbox,
        {
          id: `permission-${permission.id}`,
          checked: isAssigned,
          onChange: (e) => handleChange(e.target.checked),
          disabled: parentChecked === false
        }
      ),
      /* @__PURE__ */ jsx(
        "label",
        {
          htmlFor: `permission-${permission.id}`,
          className: cn(
            "cursor-pointer text-sm select-none",
            level === 0 && "font-semibold",
            level === 1 && "font-medium",
            parentChecked === false && "text-muted-foreground"
          ),
          children: permission.name
        }
      )
    ] }),
    hasChildren && isExpanded && /* @__PURE__ */ jsx("div", { className: "mt-1", children: permission.children?.map((child) => /* @__PURE__ */ jsx(
      PermissionItem,
      {
        permission: child,
        level: level + 1,
        isAssigned: child.isAssigned ?? false,
        onToggle,
        parentChecked: isAssigned
      },
      child.id
    )) })
  ] });
}
function PermissionsEditor({
  userName,
  groups,
  assignedPermissions,
  onPermissionsChange,
  showEmployerAccess = false,
  employers = [],
  selectedEmployers = [],
  onEmployersChange,
  labels = {},
  className
}) {
  const {
    userRole = "User Role",
    employerAccess = "Employer Access",
    summary = "Summary",
    all = "All"
  } = labels;
  const [expandedGroups, setExpandedGroups] = React46.useState(
    () => new Set(
      groups.filter((g) => g.defaultExpanded !== false).map((g) => g.id)
    )
  );
  const permissionMap = React46.useMemo(() => {
    const map = /* @__PURE__ */ new Map();
    const processPermissions = (permissions) => {
      permissions.forEach((perm) => {
        map.set(perm.id, {
          ...perm,
          isAssigned: assignedPermissions.includes(perm.id)
        });
        if (perm.children) {
          processPermissions(perm.children);
        }
      });
    };
    groups.forEach((group) => processPermissions(group.permissions));
    return map;
  }, [groups, assignedPermissions]);
  const toggleGroup = (groupId) => {
    setExpandedGroups((prev) => {
      const next = new Set(prev);
      if (next.has(groupId)) {
        next.delete(groupId);
      } else {
        next.add(groupId);
      }
      return next;
    });
  };
  const handlePermissionToggle = (permissionId, checked) => {
    if (checked) {
      onPermissionsChange([...assignedPermissions, permissionId]);
    } else {
      onPermissionsChange(
        assignedPermissions.filter((id) => id !== permissionId)
      );
    }
  };
  const handleEmployerToggle = (employerId) => {
    if (!onEmployersChange) return;
    if (selectedEmployers.includes(employerId)) {
      onEmployersChange(selectedEmployers.filter((id) => id !== employerId));
    } else {
      onEmployersChange([...selectedEmployers, employerId]);
    }
  };
  const assignedPermissionNames = React46.useMemo(() => {
    return assignedPermissions.map((id) => permissionMap.get(id)?.name).filter(Boolean);
  }, [assignedPermissions, permissionMap]);
  return /* @__PURE__ */ jsxs("div", { className: cn("space-y-6", className), children: [
    /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-4 flex items-center gap-2 border-b pb-3", children: [
        /* @__PURE__ */ jsx(Shield, { className: "text-primary h-5 w-5" }),
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold", children: userRole }),
        userName && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground", children: [
          "\u2014 ",
          userName
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "space-y-4 pl-2", children: groups.map((group, groupIndex) => /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => toggleGroup(group.id),
            className: "hover:bg-muted/50 -ml-2 flex w-full items-center gap-2 rounded py-2 pl-2 text-left",
            children: [
              expandedGroups.has(group.id) ? /* @__PURE__ */ jsx(ChevronDown, { className: "text-muted-foreground h-4 w-4" }) : /* @__PURE__ */ jsx(ChevronRight, { className: "text-muted-foreground h-4 w-4" }),
              /* @__PURE__ */ jsx("span", { className: "font-semibold", children: group.name })
            ]
          }
        ),
        expandedGroups.has(group.id) && /* @__PURE__ */ jsx("div", { className: "mt-2 ml-6 border-l pl-4", children: group.permissions.map((permission) => /* @__PURE__ */ jsx(
          PermissionItem,
          {
            permission: {
              ...permission,
              isAssigned: assignedPermissions.includes(permission.id),
              children: permission.children?.map((child) => ({
                ...child,
                isAssigned: assignedPermissions.includes(child.id),
                children: child.children?.map((grandchild) => ({
                  ...grandchild,
                  isAssigned: assignedPermissions.includes(
                    grandchild.id
                  )
                }))
              }))
            },
            level: 0,
            isAssigned: assignedPermissions.includes(permission.id),
            onToggle: handlePermissionToggle
          },
          permission.id
        )) }),
        groupIndex < groups.length - 1 && /* @__PURE__ */ jsx("hr", { className: "border-border my-4" })
      ] }, group.id)) })
    ] }),
    showEmployerAccess && employers.length > 0 && /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsxs("div", { className: "mb-4 flex items-center gap-2 border-b pb-3", children: [
        /* @__PURE__ */ jsx(Building2, { className: "text-primary h-5 w-5" }),
        /* @__PURE__ */ jsx("h3", { className: "text-lg font-semibold", children: employerAccess })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "max-h-60 space-y-2 overflow-y-auto pl-2", children: employers.map((employer) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "hover:bg-muted/50 flex items-center gap-3 rounded px-3 py-2",
          children: [
            /* @__PURE__ */ jsx(
              Checkbox,
              {
                id: `employer-${employer.id}`,
                checked: selectedEmployers.includes(employer.id),
                onChange: () => handleEmployerToggle(employer.id)
              }
            ),
            /* @__PURE__ */ jsxs(
              "label",
              {
                htmlFor: `employer-${employer.id}`,
                className: "flex-1 cursor-pointer text-sm",
                children: [
                  /* @__PURE__ */ jsx("span", { className: "font-medium", children: employer.name }),
                  employer.address && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground ml-2", children: [
                    "| ",
                    employer.address.street1,
                    " - ",
                    employer.address.city,
                    ",",
                    " ",
                    employer.address.state
                  ] })
                ]
              }
            )
          ]
        },
        employer.id
      )) })
    ] }),
    (assignedPermissionNames.length > 0 || showEmployerAccess) && /* @__PURE__ */ jsxs("div", { className: "bg-info/10 border-info/30 rounded-lg border p-4", children: [
      /* @__PURE__ */ jsxs("h4", { className: "mb-2 font-semibold", children: [
        summary,
        ":"
      ] }),
      assignedPermissionNames.length > 0 && /* @__PURE__ */ jsx("ul", { className: "mb-3 space-y-1 text-sm", children: assignedPermissionNames.map((name, i) => /* @__PURE__ */ jsxs("li", { children: [
        "\u2014 ",
        name
      ] }, i)) }),
      showEmployerAccess && /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs("h5", { className: "mt-3 text-sm font-medium", children: [
          employerAccess,
          ":"
        ] }),
        /* @__PURE__ */ jsx("div", { className: "text-muted-foreground text-sm italic", children: selectedEmployers.length === 0 ? /* @__PURE__ */ jsx("span", { children: all }) : /* @__PURE__ */ jsx("ul", { className: "mt-1 space-y-0.5", children: selectedEmployers.map((id) => {
          const employer = employers.find((e) => e.id === id);
          return /* @__PURE__ */ jsx("li", { children: employer?.name }, id);
        }) }) })
      ] })
    ] })
  ] });
}
function ProductVersion({
  name,
  version,
  build,
  environment,
  copyright,
  year = (/* @__PURE__ */ new Date()).getFullYear(),
  author,
  changelogUrl,
  variant = "inline",
  size = "md",
  className,
  onClick
}) {
  const sizeClasses2 = {
    sm: "text-xs",
    md: "text-sm",
    lg: "text-base"
  };
  const environmentColors = {
    development: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",
    staging: "bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",
    production: "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"
  };
  const getEnvironmentColor = (env) => {
    if (env in environmentColors) {
      return environmentColors[env];
    }
    return "bg-muted text-muted-foreground";
  };
  const versionDisplay = version.startsWith("v") ? version : `v${version}`;
  const copyrightText = copyright || (author ? `\xA9 ${year} ${author}` : `\xA9 ${year}`);
  const VersionContent = () => {
    if (variant === "minimal") {
      return /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground", children: [
        name,
        " ",
        versionDisplay,
        build && /* @__PURE__ */ jsxs("span", { className: "ml-1 opacity-60", children: [
          "(",
          build,
          ")"
        ] })
      ] });
    }
    if (variant === "stacked") {
      return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-1", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsx("span", { className: "font-semibold", children: name }),
          /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: versionDisplay }),
          environment && /* @__PURE__ */ jsx(
            "span",
            {
              className: cn(
                "rounded px-1.5 py-0.5 text-xs font-medium uppercase",
                getEnvironmentColor(environment)
              ),
              children: environment
            }
          )
        ] }),
        build && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground opacity-60", children: [
          "Build: ",
          build
        ] }),
        (author || copyright) && /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: copyrightText })
      ] });
    }
    return /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center justify-center gap-2", children: [
      /* @__PURE__ */ jsx("span", { className: "font-medium", children: name }),
      /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: versionDisplay }),
      build && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground opacity-60", children: [
        "(",
        build,
        ")"
      ] }),
      environment && /* @__PURE__ */ jsx(
        "span",
        {
          className: cn(
            "rounded px-1.5 py-0.5 text-xs font-medium uppercase",
            getEnvironmentColor(environment)
          ),
          children: environment
        }
      ),
      (author || copyright) && /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsx("span", { className: "text-muted-foreground/50", children: "\u2022" }),
        /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: copyrightText })
      ] })
    ] });
  };
  const content = /* @__PURE__ */ jsx(VersionContent, {});
  const wrapperClasses = cn(
    sizeClasses2[size],
    onClick && "cursor-pointer hover:opacity-80 transition-opacity",
    className
  );
  if (changelogUrl) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href: changelogUrl,
        target: "_blank",
        rel: "noopener noreferrer",
        className: cn(wrapperClasses, "underline-offset-2 hover:underline"),
        onClick,
        children: content
      }
    );
  }
  if (onClick) {
    return /* @__PURE__ */ jsx("button", { type: "button", onClick, className: wrapperClasses, children: content });
  }
  return /* @__PURE__ */ jsx("div", { className: wrapperClasses, children: content });
}
function ProductVersionBadge({
  version,
  build,
  environment,
  className
}) {
  const versionDisplay = version.startsWith("v") ? version : `v${version}`;
  const environmentColors = {
    development: "border-yellow-500/50 bg-yellow-50 dark:bg-yellow-950/20",
    staging: "border-blue-500/50 bg-blue-50 dark:bg-blue-950/20",
    production: "border-green-500/50 bg-green-50 dark:bg-green-950/20"
  };
  const getEnvironmentStyle = (env) => {
    if (!env) return "border-border bg-muted";
    if (env in environmentColors) {
      return environmentColors[env];
    }
    return "border-border bg-muted";
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "inline-flex items-center gap-1.5 rounded-md border px-2 py-1 text-xs",
        getEnvironmentStyle(environment),
        className
      ),
      children: [
        /* @__PURE__ */ jsx("span", { className: "font-mono font-medium", children: versionDisplay }),
        build && /* @__PURE__ */ jsx("span", { className: "text-muted-foreground font-mono opacity-70", children: build.substring(0, 7) }),
        environment && /* @__PURE__ */ jsx("span", { className: "text-muted-foreground text-[10px] font-semibold tracking-wide uppercase", children: environment.substring(0, 3) })
      ]
    }
  );
}
var providerCardVariants = cva(
  [
    "group relative flex w-full overflow-hidden rounded-xl",
    "bg-card text-card-foreground",
    "border border-border",
    "shadow-card",
    "transition-all duration-200",
    "hover:shadow-md hover:border-primary-200 dark:hover:border-primary-800"
  ],
  {
    variants: {
      variant: {
        compact: "flex-col",
        list: "flex-row items-stretch min-h-[120px]",
        featured: "flex-col p-6"
      },
      interactive: {
        true: "cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",
        false: ""
      }
    },
    defaultVariants: {
      variant: "compact",
      interactive: true
    }
  }
);
var logoContainerVariants = cva(
  "flex items-center justify-center bg-muted overflow-hidden shrink-0",
  {
    variants: {
      variant: {
        compact: "h-20 w-full",
        list: "w-28 h-full",
        featured: "h-32 w-full rounded-lg mb-4"
      }
    },
    defaultVariants: {
      variant: "compact"
    }
  }
);
var ProviderLogo = ({ logoURL, name, variant }) => {
  const [hasError, setHasError] = React46.useState(false);
  if (!logoURL || hasError) {
    return /* @__PURE__ */ jsx("div", { className: cn(logoContainerVariants({ variant })), children: /* @__PURE__ */ jsx("div", { className: "bg-primary-100 dark:bg-primary-900 flex h-12 w-12 items-center justify-center rounded-full", children: /* @__PURE__ */ jsx("span", { className: "text-primary-600 dark:text-primary-400 text-lg font-bold", children: name.charAt(0).toUpperCase() }) }) });
  }
  return /* @__PURE__ */ jsx("div", { className: cn(logoContainerVariants({ variant })), children: /* @__PURE__ */ jsx(
    "img",
    {
      src: logoURL,
      alt: `${name}'s logo`,
      className: "h-full w-full object-contain p-2",
      onError: () => setHasError(true),
      loading: "lazy"
    }
  ) });
};
var DistanceBadge = ({ distance }) => {
  if (distance === void 0) return null;
  return /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground inline-flex items-center gap-1 text-xs", children: [
    /* @__PURE__ */ jsxs(
      "svg",
      {
        className: "h-3 w-3",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
        children: [
          /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              d: "M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
            }
          ),
          /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              d: "M15 11a3 3 0 11-6 0 3 3 0 016 0z"
            }
          )
        ]
      }
    ),
    distance.toFixed(1),
    "mi"
  ] });
};
var SafeFromWildfiresNotice = () => /* @__PURE__ */ jsx(Tooltip, { content: "BlueHive has confirmed that this provider is operational and not impacted by the January 2025 wildfires.", children: /* @__PURE__ */ jsxs("div", { className: "bg-success/10 text-success inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs", children: [
  /* @__PURE__ */ jsx("svg", { className: "h-4 w-4", fill: "currentColor", viewBox: "0 0 20 20", children: /* @__PURE__ */ jsx(
    "path",
    {
      fillRule: "evenodd",
      d: "M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",
      clipRule: "evenodd"
    }
  ) }),
  /* @__PURE__ */ jsx("span", { children: "Operational" })
] }) });
var VerifiedBadge = () => /* @__PURE__ */ jsx(Tooltip, { content: "This provider's information has been verified", children: /* @__PURE__ */ jsxs("span", { className: "text-success inline-flex items-center gap-1 text-xs", children: [
  /* @__PURE__ */ jsx("svg", { className: "h-3.5 w-3.5", fill: "currentColor", viewBox: "0 0 20 20", children: /* @__PURE__ */ jsx(
    "path",
    {
      fillRule: "evenodd",
      d: "M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",
      clipRule: "evenodd"
    }
  ) }),
  "Verified"
] }) });
function formatPhoneNumber3(phone) {
  const cleaned = phone.replace(/\D/g, "");
  if (cleaned.length === 10) {
    return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;
  }
  if (cleaned.length === 11 && cleaned.startsWith("1")) {
    return `(${cleaned.slice(1, 4)}) ${cleaned.slice(4, 7)}-${cleaned.slice(7)}`;
  }
  return phone;
}
function formatAddressSingleLine2(address) {
  const parts = [address.street1];
  if (address.street2) parts.push(address.street2);
  parts.push(`${address.city}, ${address.state} ${address.postalCode}`);
  return parts.join(", ");
}
var ProviderCard = React46.forwardRef(
  ({
    provider,
    variant = "compact",
    interactive = true,
    onClick,
    onPhoneClick,
    showServices = false,
    maxServices = 3,
    renderActions,
    className,
    ...props
  }, ref) => {
    const handleClick = (e) => {
      if (e.target.closest("[data-phone-link]")) {
        return;
      }
      onClick?.(provider);
    };
    const handleKeyDown = (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        onClick?.(provider);
      }
    };
    const handlePhoneClick = (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (provider.workNumber) {
        onPhoneClick?.(provider.workNumber, provider);
      }
    };
    const displayServices = showServices && provider.services?.slice(0, maxServices);
    const remainingServices = showServices && provider.services ? Math.max(0, provider.services.length - maxServices) : 0;
    return /* @__PURE__ */ jsxs(
      "div",
      {
        ref,
        className: cn(
          providerCardVariants({ variant, interactive }),
          className
        ),
        onClick: interactive ? handleClick : void 0,
        onKeyDown: interactive ? handleKeyDown : void 0,
        tabIndex: interactive ? 0 : void 0,
        role: interactive ? "button" : void 0,
        "aria-label": `View ${provider.name}`,
        "data-testid": "provider-card",
        ...props,
        children: [
          (variant === "compact" || variant === "featured") && /* @__PURE__ */ jsx(
            ProviderLogo,
            {
              logoURL: provider.logoURL,
              name: provider.name,
              variant
            }
          ),
          variant === "list" && /* @__PURE__ */ jsx(
            ProviderLogo,
            {
              logoURL: provider.logoURL,
              name: provider.name,
              variant
            }
          ),
          /* @__PURE__ */ jsxs(
            "div",
            {
              className: cn(
                "flex flex-1 flex-col",
                variant === "compact" && "p-4",
                variant === "list" && "p-4",
                variant === "featured" && ""
              ),
              children: [
                /* @__PURE__ */ jsxs("div", { className: "mb-1 flex items-start justify-between gap-2", children: [
                  /* @__PURE__ */ jsx(
                    "h3",
                    {
                      className: cn(
                        "text-primary-600 dark:text-primary-400 line-clamp-2 font-semibold",
                        "group-hover:text-primary-700 dark:group-hover:text-primary-300",
                        "transition-colors",
                        variant === "featured" ? "text-lg" : "text-sm"
                      ),
                      children: provider.name
                    }
                  ),
                  provider.verified && /* @__PURE__ */ jsx(VerifiedBadge, {})
                ] }),
                /* @__PURE__ */ jsx(
                  "p",
                  {
                    className: cn(
                      "text-muted-foreground",
                      variant === "featured" ? "text-sm" : "text-xs"
                    ),
                    children: variant === "list" ? formatAddressSingleLine2(provider.address) : /* @__PURE__ */ jsxs(Fragment, { children: [
                      provider.address.street1,
                      provider.address.street2 && /* @__PURE__ */ jsxs(Fragment, { children: [
                        /* @__PURE__ */ jsx("br", {}),
                        provider.address.street2
                      ] }),
                      /* @__PURE__ */ jsx("br", {}),
                      provider.address.city,
                      ", ",
                      provider.address.state,
                      " ",
                      provider.address.postalCode
                    ] })
                  }
                ),
                provider.workNumber && /* @__PURE__ */ jsx(
                  "a",
                  {
                    href: `tel:${provider.workNumber}`,
                    "data-phone-link": true,
                    onClick: handlePhoneClick,
                    className: cn(
                      "text-primary-600 hover:text-primary-700 mt-1",
                      "dark:text-primary-400 dark:hover:text-primary-300",
                      "hover:underline",
                      variant === "featured" ? "text-sm" : "text-xs"
                    ),
                    children: formatPhoneNumber3(provider.workNumber)
                  }
                ),
                displayServices && displayServices.length > 0 && /* @__PURE__ */ jsxs("div", { className: "mt-3 flex flex-wrap gap-1.5", children: [
                  displayServices.map((service) => /* @__PURE__ */ jsx(
                    Badge,
                    {
                      variant: "default",
                      size: "sm",
                      className: "text-xs capitalize",
                      children: service.name
                    },
                    service._id
                  )),
                  remainingServices > 0 && /* @__PURE__ */ jsxs(Badge, { variant: "secondary", size: "sm", className: "text-xs", children: [
                    "+",
                    remainingServices,
                    " more"
                  ] })
                ] }),
                /* @__PURE__ */ jsx("div", { className: "flex-1" }),
                /* @__PURE__ */ jsxs("div", { className: "mt-3 flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                    provider.safeFromWildfires && /* @__PURE__ */ jsx(SafeFromWildfiresNotice, {}),
                    !provider.safeFromWildfires && /* @__PURE__ */ jsx(DistanceBadge, { distance: provider.distance })
                  ] }),
                  renderActions?.(provider)
                ] })
              ]
            }
          )
        ]
      }
    );
  }
);
ProviderCard.displayName = "ProviderCard";
var ProviderCardGrid = ({
  providers,
  variant = "compact",
  loading = false,
  skeletonCount = 6,
  onProviderClick,
  onPhoneClick,
  showServices = false,
  emptyState,
  className
}) => {
  if (loading) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "grid gap-4",
          variant === "compact" && "grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",
          variant === "list" && "grid-cols-1",
          className
        ),
        children: Array.from({ length: skeletonCount }).map((_, index) => /* @__PURE__ */ jsx(ProviderCardSkeleton, { variant }, index))
      }
    );
  }
  if (providers.length === 0) {
    return /* @__PURE__ */ jsx("div", { className: cn("py-12 text-center", className), children: emptyState || /* @__PURE__ */ jsxs("div", { className: "text-muted-foreground", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "mx-auto mb-4 h-12 w-12 opacity-50",
          fill: "none",
          viewBox: "0 0 24 24",
          stroke: "currentColor",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-lg font-medium", children: "No providers found" }),
      /* @__PURE__ */ jsx("p", { className: "mt-1 text-sm", children: "Try adjusting your search or expanding your search area." })
    ] }) });
  }
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "grid gap-4",
        variant === "compact" && "grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",
        variant === "list" && "grid-cols-1",
        className
      ),
      children: providers.map((provider) => /* @__PURE__ */ jsx(
        ProviderCard,
        {
          provider,
          variant,
          onClick: onProviderClick,
          onPhoneClick,
          showServices
        },
        provider._id
      ))
    }
  );
};
var ProviderCardSkeleton = ({
  variant = "compact"
}) => {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "border-border bg-card animate-pulse rounded-xl border",
        variant === "compact" && "flex flex-col",
        variant === "list" && "flex min-h-[120px] flex-row",
        variant === "featured" && "flex flex-col p-6"
      ),
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "bg-muted",
              variant === "compact" && "h-20 w-full",
              variant === "list" && "h-full w-28",
              variant === "featured" && "mb-4 h-32 w-full rounded-lg"
            )
          }
        ),
        /* @__PURE__ */ jsxs(
          "div",
          {
            className: cn(
              "flex flex-1 flex-col gap-2",
              variant !== "featured" && "p-4"
            ),
            children: [
              /* @__PURE__ */ jsx("div", { className: "bg-muted h-4 w-3/4 rounded" }),
              /* @__PURE__ */ jsx("div", { className: "bg-muted h-3 w-full rounded" }),
              /* @__PURE__ */ jsx("div", { className: "bg-muted h-3 w-2/3 rounded" }),
              /* @__PURE__ */ jsx("div", { className: "bg-muted h-3 w-1/3 rounded" }),
              /* @__PURE__ */ jsx("div", { className: "flex-1" }),
              /* @__PURE__ */ jsx("div", { className: "flex justify-between", children: /* @__PURE__ */ jsx("div", { className: "bg-muted h-4 w-16 rounded" }) })
            ]
          }
        )
      ]
    }
  );
};
ProviderCardSkeleton.displayName = "ProviderCardSkeleton";
var actionButtonVariants = cva(
  "flex flex-col items-center justify-center gap-1 py-3 px-2 text-sm font-normal transition-colors",
  {
    variants: {
      variant: {
        default: "text-gray-600 hover:text-primary-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:text-primary-400 dark:hover:bg-gray-800",
        active: "text-primary-600 bg-primary-50 dark:text-primary-400 dark:bg-primary-900/20"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
function ActionButton2({
  icon,
  label,
  variant,
  href,
  className,
  onClick,
  ...props
}) {
  const content = /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx("span", { className: "text-xl", children: icon }),
    /* @__PURE__ */ jsx("span", { className: "text-xs whitespace-nowrap", children: label })
  ] });
  if (href) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href,
        target: "_blank",
        rel: "noopener noreferrer",
        className: cn(
          actionButtonVariants({ variant: variant ?? "default" }),
          className
        ),
        children: content
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      className: cn(
        actionButtonVariants({ variant: variant ?? "default" }),
        className
      ),
      onClick,
      ...props,
      children: content
    }
  );
}
function ActionButtonsBar({
  provider,
  onShare,
  onCopyLink,
  onCall,
  className
}) {
  const { address, phoneNumber, urls } = provider;
  const directionsUrl = `https://www.google.com/maps?daddr=${encodeURIComponent(
    `${address.street1}, ${address.city}, ${address.state} ${address.postalCode}`
  )}`;
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "flex justify-center border-b border-gray-200 dark:border-gray-700",
        className
      ),
      children: /* @__PURE__ */ jsxs("div", { className: "flex overflow-x-auto", children: [
        /* @__PURE__ */ jsx(
          ActionButton2,
          {
            icon: /* @__PURE__ */ jsx(DirectionsIcon, {}),
            label: "Directions",
            href: directionsUrl
          }
        ),
        phoneNumber && /* @__PURE__ */ jsx(
          ActionButton2,
          {
            icon: /* @__PURE__ */ jsx(PhoneIcon3, {}),
            label: "Call",
            onClick: () => onCall?.(phoneNumber)
          }
        ),
        urls?.website && /* @__PURE__ */ jsx(
          ActionButton2,
          {
            icon: /* @__PURE__ */ jsx(WebsiteIcon, {}),
            label: "Website",
            href: urls.website
          }
        ),
        /* @__PURE__ */ jsx(ActionButton2, { icon: /* @__PURE__ */ jsx(ShareIcon, {}), label: "Share", onClick: onShare }),
        /* @__PURE__ */ jsx(
          ActionButton2,
          {
            icon: /* @__PURE__ */ jsx(CopyIcon2, {}),
            label: "Copy Link",
            onClick: onCopyLink
          }
        )
      ] })
    }
  );
}
function Breadcrumb2({ items, className }) {
  return /* @__PURE__ */ jsx("nav", { "aria-label": "Breadcrumb", className: cn("py-2", className), children: /* @__PURE__ */ jsx("ol", { className: "flex flex-wrap items-center gap-1 text-sm", children: items.map((item, index) => /* @__PURE__ */ jsxs("li", { className: "flex items-center", children: [
    index > 0 && /* @__PURE__ */ jsx(ChevronRightIcon, { className: "mx-2 h-4 w-4 text-gray-400 dark:text-gray-500" }),
    index === items.length - 1 ? /* @__PURE__ */ jsx("span", { className: "max-w-[200px] truncate font-medium text-gray-900 dark:text-white", children: item.label }) : /* @__PURE__ */ jsx(
      "a",
      {
        href: item.href,
        className: "text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 hover:underline",
        children: item.label
      }
    )
  ] }, item.href)) }) });
}
function MobileBackButton({
  href,
  label = "Back",
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn("py-2 sm:hidden", className), children: /* @__PURE__ */ jsxs(
    "a",
    {
      href,
      className: "bg-primary-600 hover:bg-primary-700 inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium text-white transition-colors",
      children: [
        /* @__PURE__ */ jsx(ChevronLeftIcon, { className: "h-4 w-4" }),
        label
      ]
    }
  ) });
}
var logoSizeClasses = {
  sm: "w-16 h-16",
  md: "w-24 h-24",
  lg: "w-32 h-32"
};
function ProviderLogo2({
  src,
  name,
  size = "md",
  className
}) {
  const [hasError, setHasError] = React46.useState(false);
  const initials = name.split(" ").map((word) => word[0]).join("").toUpperCase().slice(0, 2);
  if (!src || hasError) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          logoSizeClasses[size],
          "bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 flex items-center justify-center rounded-lg font-bold",
          size === "sm" && "text-lg",
          size === "md" && "text-2xl",
          size === "lg" && "text-3xl",
          className
        ),
        "aria-label": `${name} logo`,
        children: initials
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "img",
    {
      src,
      alt: `${name} logo`,
      className: cn(
        logoSizeClasses[size],
        "rounded-lg object-contain",
        className
      ),
      onError: () => setHasError(true)
    }
  );
}
var socialIconSizes = {
  sm: "text-lg",
  md: "text-xl",
  lg: "text-2xl"
};
function SocialMediaLinks({
  urls,
  providerName,
  size = "md",
  className
}) {
  const socialLinks = [
    {
      key: "linkedin",
      url: urls.linkedin,
      icon: /* @__PURE__ */ jsx(LinkedInIcon2, {}),
      label: "LinkedIn"
    },
    {
      key: "facebook",
      url: urls.facebook,
      icon: /* @__PURE__ */ jsx(FacebookIcon, {}),
      label: "Facebook"
    },
    {
      key: "instagram",
      url: urls.instagram,
      icon: /* @__PURE__ */ jsx(InstagramIcon, {}),
      label: "Instagram"
    },
    {
      key: "twitter",
      url: urls.twitter,
      icon: /* @__PURE__ */ jsx(TwitterIcon, {}),
      label: "Twitter"
    },
    { key: "tiktok", url: urls.tiktok, icon: /* @__PURE__ */ jsx(TikTokIcon, {}), label: "TikTok" },
    { key: "yelp", url: urls.yelp, icon: /* @__PURE__ */ jsx(YelpIcon, {}), label: "Yelp" },
    {
      key: "youtube",
      url: urls.youtube,
      icon: /* @__PURE__ */ jsx(YouTubeIcon, {}),
      label: "YouTube"
    },
    {
      key: "pinterest",
      url: urls.pinterest,
      icon: /* @__PURE__ */ jsx(PinterestIcon, {}),
      label: "Pinterest"
    },
    { key: "blog", url: urls.blog, icon: /* @__PURE__ */ jsx(BlogIcon, {}), label: "Blog" }
  ].filter((link) => link.url);
  if (socialLinks.length === 0) {
    return null;
  }
  return /* @__PURE__ */ jsx("div", { className: cn("flex flex-wrap items-center gap-3", className), children: socialLinks.map((link) => /* @__PURE__ */ jsxs(
    "a",
    {
      href: link.url,
      target: "_blank",
      rel: "noopener noreferrer",
      title: `Visit ${providerName} on ${link.label}`,
      className: cn(
        "hover:text-primary-600 dark:hover:text-primary-400 text-gray-500 transition-colors dark:text-gray-400",
        socialIconSizes[size]
      ),
      children: [
        link.icon,
        /* @__PURE__ */ jsx("span", { className: "sr-only", children: link.label })
      ]
    },
    link.key
  )) });
}
function VerifiedBadge2({
  isVerified,
  isClaimed,
  lastUpdated,
  className
}) {
  const formattedDate = lastUpdated ? typeof lastUpdated === "string" ? lastUpdated : lastUpdated.toLocaleDateString("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric"
  }) : null;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",
        className
      ),
      children: [
        (isVerified || isClaimed) && /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx(CheckCircleIcon, { className: "h-4 w-4 text-green-500" }),
          /* @__PURE__ */ jsx("span", { children: "Information verified" })
        ] }),
        !isVerified && !isClaimed && /* @__PURE__ */ jsx("span", { children: "Information updated" }),
        formattedDate && /* @__PURE__ */ jsx("span", { children: formattedDate })
      ]
    }
  );
}
function AddressDisplay({
  address,
  linkToMaps = true,
  className
}) {
  const mapsUrl = `https://www.google.com/maps?daddr=${encodeURIComponent(
    `${address.street1}, ${address.city}, ${address.state} ${address.postalCode}`
  )}`;
  const addressContent = /* @__PURE__ */ jsxs(Fragment, { children: [
    address.street1,
    address.street2 && /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx("br", {}),
      address.street2
    ] }),
    /* @__PURE__ */ jsx("br", {}),
    address.city,
    ", ",
    address.state,
    " ",
    address.postalCode
  ] });
  if (linkToMaps) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href: mapsUrl,
        target: "_blank",
        rel: "noopener noreferrer",
        className: cn(
          "hover:text-primary-600 dark:hover:text-primary-400 text-gray-600 hover:underline dark:text-gray-300",
          className
        ),
        children: addressContent
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "address",
    {
      className: cn("text-gray-600 not-italic dark:text-gray-300", className),
      children: addressContent
    }
  );
}
function ClaimListingButton({
  slug,
  href,
  className
}) {
  const claimUrl = href || `/provider/${slug}/claim`;
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: claimUrl,
      className: cn(
        "hover:text-primary-600 dark:hover:text-primary-400 inline-flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(CheckCircleIcon, { className: "h-4 w-4" }),
        "Claim this listing"
      ]
    }
  );
}
function ReportLink({ slug, href, className }) {
  const reportUrl = href || `/provider/${slug}/report`;
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: reportUrl,
      className: cn(
        "inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(FlagIcon, { className: "h-4 w-4" }),
        "Report inaccurate information"
      ]
    }
  );
}
var bookButtonVariants = cva(
  "inline-flex items-center gap-2 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",
  {
    variants: {
      size: {
        sm: "px-3 py-1.5 text-sm",
        md: "px-4 py-2 text-base",
        lg: "px-6 py-3 text-lg"
      },
      variant: {
        primary: "bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",
        outline: "border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-900/20"
      }
    },
    defaultVariants: {
      size: "lg",
      variant: "primary"
    }
  }
);
function BookAppointmentButton({
  size,
  variant,
  showIcon = true,
  className,
  children,
  ...props
}) {
  return /* @__PURE__ */ jsxs(
    "button",
    {
      type: "button",
      className: cn(
        bookButtonVariants({
          size: size ?? "lg",
          variant: variant ?? "primary"
        }),
        className
      ),
      ...props,
      children: [
        showIcon && /* @__PURE__ */ jsx(CalendarCheckIcon, { className: "h-5 w-5" }),
        children || "Book Appointment"
      ]
    }
  );
}
var headerVariants2 = cva("bg-white dark:bg-gray-900", {
  variants: {
    variant: {
      default: "shadow-sm",
      flat: "",
      elevated: "shadow-md"
    }
  },
  defaultVariants: {
    variant: "default"
  }
});
function ProviderDetailHeader({
  provider,
  breadcrumbs,
  backButtonHref,
  variant,
  showActionButtons = true,
  showBreadcrumb = true,
  showSocialLinks = true,
  showVerifiedBadge = true,
  showClaimButton = false,
  showReportLink = true,
  showBookButton = true,
  onShare,
  onCopyLink,
  onCall,
  onBook,
  className
}) {
  const defaultBreadcrumbs = breadcrumbs || [
    { label: "Home", href: "/" },
    {
      label: provider.address.state,
      href: `/state/${provider.address.state.toLowerCase()}`
    },
    {
      label: `${provider.address.city} (${provider.address.postalCode})`,
      href: `/search/${provider.address.postalCode}`
    },
    { label: provider.name, href: `/provider/${provider.slug}` }
  ];
  const defaultBackHref = backButtonHref || `/search/${provider.address.postalCode}`;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        headerVariants2({ variant: variant ?? "default" }),
        className
      ),
      children: [
        showActionButtons && /* @__PURE__ */ jsx(
          ActionButtonsBar,
          {
            provider,
            onShare,
            onCopyLink,
            onCall
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "container mx-auto px-4 py-6", children: [
          showBreadcrumb && /* @__PURE__ */ jsx(
            Breadcrumb2,
            {
              items: defaultBreadcrumbs,
              className: "mb-4 hidden sm:block"
            }
          ),
          showBreadcrumb && /* @__PURE__ */ jsx(MobileBackButton, { href: defaultBackHref, className: "mb-4" }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-6 sm:flex-row", children: [
            /* @__PURE__ */ jsx(ProviderLogo2, { src: provider.logoUrl, name: provider.name, size: "lg" }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsx("h1", { className: "mb-2 text-2xl font-bold text-gray-900 sm:text-3xl dark:text-white", children: provider.name }),
              /* @__PURE__ */ jsx(AddressDisplay, { address: provider.address, className: "mb-3" }),
              showSocialLinks && provider.urls && /* @__PURE__ */ jsx(
                SocialMediaLinks,
                {
                  urls: provider.urls,
                  providerName: provider.name,
                  className: "mb-3"
                }
              ),
              showVerifiedBadge && /* @__PURE__ */ jsx(
                VerifiedBadge2,
                {
                  isVerified: provider.isVerified,
                  isClaimed: provider.isClaimed,
                  lastUpdated: provider.lastUpdated,
                  className: "mb-4"
                }
              ),
              /* @__PURE__ */ jsx("hr", { className: "my-4 border-gray-200 dark:border-gray-700" }),
              /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-2", children: [
                  showReportLink && /* @__PURE__ */ jsx(ReportLink, { slug: provider.slug }),
                  showClaimButton && /* @__PURE__ */ jsx(ClaimListingButton, { slug: provider.slug })
                ] }),
                showBookButton && provider.phoneNumber && /* @__PURE__ */ jsx(BookAppointmentButton, { onClick: onBook })
              ] })
            ] })
          ] })
        ] })
      ]
    }
  );
}
function CompactProviderHeader({
  provider,
  showLogo = true,
  onBook,
  className
}) {
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "rounded-lg bg-white p-4 shadow-sm dark:bg-gray-900",
        className
      ),
      children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-4", children: [
        showLogo && /* @__PURE__ */ jsx(ProviderLogo2, { src: provider.logoUrl, name: provider.name, size: "sm" }),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
          /* @__PURE__ */ jsx("h2", { className: "truncate text-lg font-semibold text-gray-900 dark:text-white", children: provider.name }),
          /* @__PURE__ */ jsxs("p", { className: "truncate text-sm text-gray-500 dark:text-gray-400", children: [
            provider.address.city,
            ", ",
            provider.address.state,
            " ",
            provider.address.postalCode
          ] })
        ] }),
        provider.phoneNumber && onBook && /* @__PURE__ */ jsx(BookAppointmentButton, { size: "sm", onClick: onBook, children: "Book" })
      ] })
    }
  );
}
function ProviderDetailHeaderSkeleton({
  showActionButtons = true,
  className
}) {
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "animate-pulse bg-white shadow-sm dark:bg-gray-900",
        className
      ),
      children: [
        showActionButtons && /* @__PURE__ */ jsx("div", { className: "flex justify-center gap-4 border-b border-gray-200 py-4 dark:border-gray-700", children: [1, 2, 3, 4, 5].map((i) => /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center gap-1", children: [
          /* @__PURE__ */ jsx("div", { className: "h-6 w-6 rounded-full bg-gray-200 dark:bg-gray-700" }),
          /* @__PURE__ */ jsx("div", { className: "h-3 w-12 rounded bg-gray-200 dark:bg-gray-700" })
        ] }, i)) }),
        /* @__PURE__ */ jsxs("div", { className: "container mx-auto px-4 py-6", children: [
          /* @__PURE__ */ jsx("div", { className: "mb-4 hidden items-center gap-2 sm:flex", children: [1, 2, 3, 4].map((i) => /* @__PURE__ */ jsxs(React46.Fragment, { children: [
            i > 1 && /* @__PURE__ */ jsx("div", { className: "h-4 w-4 rounded-full bg-gray-200 dark:bg-gray-700" }),
            /* @__PURE__ */ jsx("div", { className: "h-4 w-16 rounded bg-gray-200 dark:bg-gray-700" })
          ] }, i)) }),
          /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-6 sm:flex-row", children: [
            /* @__PURE__ */ jsx("div", { className: "h-32 w-32 rounded-lg bg-gray-200 dark:bg-gray-700" }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1 space-y-4", children: [
              /* @__PURE__ */ jsx("div", { className: "h-8 w-64 rounded bg-gray-200 dark:bg-gray-700" }),
              /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsx("div", { className: "h-4 w-48 rounded bg-gray-200 dark:bg-gray-700" }),
                /* @__PURE__ */ jsx("div", { className: "h-4 w-40 rounded bg-gray-200 dark:bg-gray-700" })
              ] }),
              /* @__PURE__ */ jsx("div", { className: "flex gap-3", children: [1, 2, 3, 4].map((i) => /* @__PURE__ */ jsx(
                "div",
                {
                  className: "h-6 w-6 rounded-full bg-gray-200 dark:bg-gray-700"
                },
                i
              )) }),
              /* @__PURE__ */ jsx("div", { className: "h-4 w-32 rounded bg-gray-200 dark:bg-gray-700" }),
              /* @__PURE__ */ jsx("hr", { className: "border-gray-200 dark:border-gray-700" }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsx("div", { className: "h-4 w-40 rounded bg-gray-200 dark:bg-gray-700" }),
                /* @__PURE__ */ jsx("div", { className: "h-12 w-36 rounded-lg bg-gray-200 dark:bg-gray-700" })
              ] })
            ] })
          ] })
        ] })
      ]
    }
  );
}
function DirectionsIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M22.43 10.59l-9.01-9.01c-.75-.75-2.07-.76-2.83 0l-9 9.01c-.78.78-.78 2.04 0 2.82l9 9.01c.39.39.9.58 1.41.58.51 0 1.02-.19 1.41-.58l9.01-9.01c.79-.78.79-2.04.01-2.82zM7.25 14a.75.75 0 01-.75-.75v-2.5c0-.41.34-.75.75-.75h4v-1.5c0-.89 1.08-1.34 1.71-.71l3.5 3.5c.39.39.39 1.02 0 1.41l-3.5 3.5c-.63.63-1.71.18-1.71-.71V13.5h-3.25a.75.75 0 01-.75-.75v-.75h.75a.25.25 0 00.25-.25v-1.5a.25.25 0 00-.25-.25H7.25z" })
    }
  );
}
function PhoneIcon3({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" })
    }
  );
}
function WebsiteIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" })
    }
  );
}
function ShareIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z" })
    }
  );
}
function CopyIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" })
    }
  );
}
function ChevronRightIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" })
    }
  );
}
function ChevronLeftIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" })
    }
  );
}
function CheckCircleIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" })
    }
  );
}
function FlagIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" })
    }
  );
}
function CalendarCheckIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 14.5l-1.5-1.5-1 1 2.5 2.5 5-5-1-1-4 4z" })
    }
  );
}
function LinkedInIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z" })
    }
  );
}
function FacebookIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 2.04C6.5 2.04 2 6.53 2 12.06c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89 1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02z" })
    }
  );
}
function InstagramIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z" })
    }
  );
}
function TwitterIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" })
    }
  );
}
function TikTokIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z" })
    }
  );
}
function YelpIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M20.16 12.594l-4.995 1.433c-.96.276-1.74-.8-1.176-1.63l2.905-4.308a1.072 1.072 0 0 1 1.596-.206 9.194 9.194 0 0 1 2.364 3.252 1.073 1.073 0 0 1-.686 1.459zm-5.025 3.152l4.942 1.606a1.072 1.072 0 0 1 .636 1.48 9.188 9.188 0 0 1-2.468 3.168 1.073 1.073 0 0 1-1.592-.26l-2.76-4.409c-.55-.88.196-1.945 1.242-1.585zM8.232 4.764l2.24 8.048c.23.818-.71 1.52-1.444 1.08l-6.51-3.94a1.072 1.072 0 0 1-.328-1.56 9.2 9.2 0 0 1 4.626-4.13 1.073 1.073 0 0 1 1.416.502zm.818 13.83l-.177-5.157c-.037-1 1.225-1.493 1.9-.74l3.54 3.988a1.073 1.073 0 0 1-.108 1.596 9.2 9.2 0 0 1-3.648 1.937 1.073 1.073 0 0 1-1.507-1.624zm-3.98-1.587l4.468-2.59c.86-.496 1.8.4 1.417 1.346l-2.137 5.244a1.073 1.073 0 0 1-1.42.573 9.2 9.2 0 0 1-3.157-2.915 1.073 1.073 0 0 1 .83-1.658z" })
    }
  );
}
function YouTubeIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z" })
    }
  );
}
function PinterestIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M9.04 21.54c.96.29 1.93.46 2.96.46a10 10 0 0 0 10-10A10 10 0 0 0 12 2 10 10 0 0 0 2 12c0 4.25 2.67 7.9 6.44 9.34-.09-.78-.18-2.07 0-2.96l1.15-4.94s-.29-.58-.29-1.5c0-1.38.86-2.41 1.84-2.41.86 0 1.26.63 1.26 1.44 0 .86-.57 2.09-.86 3.27-.17.98.52 1.84 1.52 1.84 1.78 0 3.16-1.9 3.16-4.58 0-2.4-1.72-4.04-4.19-4.04-2.82 0-4.48 2.1-4.48 4.31 0 .86.28 1.73.74 2.3.09.06.09.14.06.29l-.29 1.09c0 .17-.11.23-.28.11-1.28-.56-2.02-2.38-2.02-3.85 0-3.16 2.24-6.03 6.56-6.03 3.44 0 6.12 2.47 6.12 5.75 0 3.44-2.13 6.2-5.18 6.2-.97 0-1.92-.52-2.26-1.13l-.67 2.37c-.23.86-.86 2.01-1.29 2.7v-.03z" })
    }
  );
}
function BlogIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" })
    }
  );
}
function ProviderOverview({
  providerName,
  logoUrl,
  stats,
  quickActions = [],
  recentActivity = [],
  onStatClick,
  onQuickActionClick,
  onActivityClick,
  currency = "$",
  isLoading = false,
  className = ""
}) {
  const formatTime4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    const now = /* @__PURE__ */ new Date();
    const diff = now.getTime() - d.getTime();
    const minutes = Math.floor(diff / 6e4);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    if (minutes < 1) return "Just now";
    if (minutes < 60) return `${minutes}m ago`;
    if (hours < 24) return `${hours}h ago`;
    if (days < 7) return `${days}d ago`;
    return d.toLocaleDateString();
  };
  const getActivityIcon = (type) => {
    switch (type) {
      case "order":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" }) });
      case "appointment":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" }) });
      case "invoice":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) });
      case "employer":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" }) });
      case "user":
        return /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" }) });
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4 animate-pulse", children: [
        /* @__PURE__ */ jsx("div", { className: "w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg" }),
        /* @__PURE__ */ jsx("div", { className: "h-6 w-48 bg-gray-200 dark:bg-gray-700 rounded" })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 lg:grid-cols-4 gap-4", children: [1, 2, 3, 4].map((i) => /* @__PURE__ */ jsx("div", { className: "h-24 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse" }, i)) })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4", children: [
      logoUrl ? /* @__PURE__ */ jsx(
        "img",
        {
          src: logoUrl,
          alt: providerName,
          className: "w-12 h-12 rounded-lg object-contain bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"
        }
      ) : /* @__PURE__ */ jsx("div", { className: "w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center", children: /* @__PURE__ */ jsx("span", { className: "text-xl font-bold text-blue-600 dark:text-blue-400", children: providerName.charAt(0) }) }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h1", { className: "text-xl font-bold text-gray-900 dark:text-white", children: providerName }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Dashboard Overview" })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 lg:grid-cols-4 gap-4", children: [
      /* @__PURE__ */ jsx(
        StatCard,
        {
          label: "Pending Orders",
          value: stats.pendingOrders,
          icon: /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" }) }),
          color: "orange",
          onClick: () => onStatClick?.("pendingOrders")
        }
      ),
      /* @__PURE__ */ jsx(
        StatCard,
        {
          label: "Completed Today",
          value: stats.completedToday,
          icon: /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" }) }),
          color: "green",
          onClick: () => onStatClick?.("completedToday")
        }
      ),
      /* @__PURE__ */ jsx(
        StatCard,
        {
          label: "Upcoming",
          value: stats.upcomingAppointments,
          icon: /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" }) }),
          color: "blue",
          onClick: () => onStatClick?.("upcomingAppointments")
        }
      ),
      /* @__PURE__ */ jsx(
        StatCard,
        {
          label: "Employers",
          value: stats.linkedEmployers,
          icon: /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" }) }),
          color: "purple",
          onClick: () => onStatClick?.("linkedEmployers")
        }
      )
    ] }),
    quickActions.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
      /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { children: "Quick Actions" }) }),
      /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 sm:grid-cols-4 gap-2", children: quickActions.map((action) => /* @__PURE__ */ jsxs(
        "button",
        {
          onClick: () => {
            action.onClick?.();
            onQuickActionClick?.(action);
          },
          className: "flex flex-col items-center gap-2 p-3 rounded-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",
          children: [
            /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: action.icon || /* @__PURE__ */ jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z" }) }) }),
            /* @__PURE__ */ jsx("span", { className: "text-xs text-center font-medium text-gray-700 dark:text-gray-300", children: action.label })
          ]
        },
        action.id
      )) }) })
    ] }),
    recentActivity.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
      /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { children: "Recent Activity" }) }),
      /* @__PURE__ */ jsx(CardContent, { children: /* @__PURE__ */ jsx("div", { className: "space-y-3", children: recentActivity.map((activity) => /* @__PURE__ */ jsxs(
        "div",
        {
          onClick: () => onActivityClick?.(activity),
          className: `
                    flex items-start gap-3 p-2 rounded-lg
                    ${onActivityClick ? "cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800" : ""}
                  `,
          children: [
            /* @__PURE__ */ jsx("div", { className: "p-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400", children: getActivityIcon(activity.type) }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white truncate", children: activity.title }),
                activity.status && /* @__PURE__ */ jsx(
                  Badge,
                  {
                    variant: activity.status === "completed" ? "success" : activity.status === "cancelled" ? "danger" : "warning",
                    children: activity.status
                  }
                )
              ] }),
              activity.description && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 truncate", children: activity.description }),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-400 dark:text-gray-500 mt-0.5", children: formatTime4(activity.timestamp) })
            ] })
          ]
        },
        activity.id
      )) }) })
    ] })
  ] });
}
function StatCard({ label, value, icon, color, onClick }) {
  const colorClasses = {
    blue: "bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",
    green: "bg-green-50 text-green-600 dark:bg-green-900/30 dark:text-green-400",
    orange: "bg-orange-50 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400",
    purple: "bg-purple-50 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"
  };
  return /* @__PURE__ */ jsx(
    "div",
    {
      onClick,
      className: `
        p-4 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700
        ${onClick ? "cursor-pointer hover:border-gray-300 dark:hover:border-gray-600" : ""}
      `,
      children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsx("div", { className: `p-2 rounded-lg ${colorClasses[color]}`, children: icon }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: value }),
          /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: label })
        ] })
      ] })
    }
  );
}
var searchBarVariants = cva("", {
  variants: {
    size: {
      sm: "",
      md: "",
      lg: ""
    },
    variant: {
      default: "",
      hero: ""
    }
  },
  defaultVariants: {
    size: "md",
    variant: "default"
  }
});
var CrosshairsIcon = ({ className }) => /* @__PURE__ */ jsxs(
  "svg",
  {
    className,
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: [
      /* @__PURE__ */ jsx("circle", { cx: "12", cy: "12", r: "10" }),
      /* @__PURE__ */ jsx("circle", { cx: "12", cy: "12", r: "3" }),
      /* @__PURE__ */ jsx("line", { x1: "12", y1: "2", x2: "12", y2: "6" }),
      /* @__PURE__ */ jsx("line", { x1: "12", y1: "18", x2: "12", y2: "22" }),
      /* @__PURE__ */ jsx("line", { x1: "2", y1: "12", x2: "6", y2: "12" }),
      /* @__PURE__ */ jsx("line", { x1: "18", y1: "12", x2: "22", y2: "12" })
    ]
  }
);
var SearchIcon3 = ({ className }) => /* @__PURE__ */ jsx(
  "svg",
  {
    className,
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      }
    )
  }
);
var SpinnerIcon4 = ({ className }) => /* @__PURE__ */ jsxs(
  "svg",
  {
    className: cn("animate-spin", className),
    fill: "none",
    viewBox: "0 0 24 24",
    children: [
      /* @__PURE__ */ jsx(
        "circle",
        {
          className: "opacity-25",
          cx: "12",
          cy: "12",
          r: "10",
          stroke: "currentColor",
          strokeWidth: "4"
        }
      ),
      /* @__PURE__ */ jsx(
        "path",
        {
          className: "opacity-75",
          fill: "currentColor",
          d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
        }
      )
    ]
  }
);
var CheckIcon3 = ({ className }) => /* @__PURE__ */ jsx(
  "svg",
  {
    className,
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" })
  }
);
var WarningIcon2 = ({ className }) => /* @__PURE__ */ jsx(
  "svg",
  {
    className,
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
      }
    )
  }
);
var GeolocationButton = ({
  status,
  onClick,
  disabled
}) => {
  const getIcon = () => {
    switch (status) {
      case "loading":
        return /* @__PURE__ */ jsx(SpinnerIcon4, { className: "h-4 w-4" });
      case "success":
        return /* @__PURE__ */ jsx(CheckIcon3, { className: "text-success animate-in zoom-in h-4 w-4" });
      case "error":
        return /* @__PURE__ */ jsx(WarningIcon2, { className: "text-destructive h-4 w-4" });
      default:
        return /* @__PURE__ */ jsx(CrosshairsIcon, { className: "h-4 w-4" });
    }
  };
  const getTooltip = () => {
    switch (status) {
      case "loading":
        return "Finding your location...";
      case "success":
        return "Location found!";
      case "error":
        return "Unable to get location. Please enter your ZIP code.";
      default:
        return "Click to automatically find your location";
    }
  };
  return /* @__PURE__ */ jsx(Tooltip, { content: getTooltip(), children: /* @__PURE__ */ jsx(
    Button,
    {
      type: "button",
      variant: "ghost",
      size: "icon",
      onClick,
      disabled: disabled || status === "loading",
      className: cn(
        "h-10 w-10 shrink-0",
        status === "success" && "text-success",
        status === "error" && "text-destructive"
      ),
      "aria-label": "Find my location",
      children: getIcon()
    }
  ) });
};
var SearchResultsMessage = ({
  results,
  loading,
  onResultsClick,
  className
}) => {
  if (loading) {
    return /* @__PURE__ */ jsx(
      "div",
      {
        className: cn("text-muted-foreground animate-pulse text-sm", className),
        children: "Searching for providers near you..."
      }
    );
  }
  if (!results) return null;
  if (results.count === 0) {
    return /* @__PURE__ */ jsxs("div", { className: cn("text-muted-foreground text-sm", className), children: [
      /* @__PURE__ */ jsx("strong", { children: "No providers found" }),
      " for ZIP code",
      " ",
      results.postalCode.zipcode
    ] });
  }
  const handleClick = () => {
    onResultsClick?.();
  };
  const handleKeyDown = (e) => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      onResultsClick?.();
    }
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "cursor-pointer text-sm hover:underline",
        "text-primary-foreground/90 dark:text-primary-foreground",
        className
      ),
      onClick: handleClick,
      onKeyDown: handleKeyDown,
      role: "button",
      tabIndex: 0,
      children: [
        /* @__PURE__ */ jsx("strong", { children: results.count.toLocaleString() }),
        " results in",
        " ",
        results.postalCode.city,
        ", ",
        results.postalCode.state,
        /* @__PURE__ */ jsx("br", {}),
        /* @__PURE__ */ jsxs("small", { children: [
          "Near ",
          results.postalCode.streetName || results.postalCode.zipcode,
          " ",
          "(within ",
          results.distance,
          " miles) - Click to view"
        ] })
      ]
    }
  );
};
var ProviderSearchBar = React46.forwardRef(
  ({
    onSearch,
    onGeolocate,
    geoStatus = "idle",
    providerCount,
    results,
    resultsLoading,
    onResultsClick,
    defaultValue,
    value,
    onValueChange,
    placeholder,
    loading,
    error,
    showResults = true,
    size,
    variant,
    className,
    ...props
  }, ref) => {
    const [internalValue, setInternalValue] = React46.useState(
      defaultValue || ""
    );
    const [validationError, setValidationError] = React46.useState(
      null
    );
    const zipValue = value ?? internalValue;
    const handleChange = (e) => {
      const newValue = e.target.value;
      setValidationError(null);
      if (onValueChange) {
        onValueChange(newValue);
      } else {
        setInternalValue(newValue);
      }
    };
    const handleSubmit = (e) => {
      e.preventDefault();
      if (!zipValue) {
        setValidationError("Please enter a ZIP code");
        return;
      }
      const cleanZip = zipValue.replace(/\D/g, "");
      if (cleanZip.length !== 5) {
        setValidationError("Please enter a valid 5-digit ZIP code");
        return;
      }
      setValidationError(null);
      onSearch(cleanZip);
    };
    const handleGeolocate = () => {
      onGeolocate?.();
    };
    const placeholderText = placeholder || (providerCount ? `Search our ${providerCount.toLocaleString()} providers by ZIP` : "Search providers by ZIP code");
    const displayError = error || validationError;
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: cn(
          "w-full",
          searchBarVariants({ size, variant }),
          className
        ),
        children: [
          /* @__PURE__ */ jsxs(
            "form",
            {
              ref,
              onSubmit: handleSubmit,
              className: "w-full",
              role: "search",
              "aria-label": "Provider search",
              ...props,
              children: [
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(
                      "bg-background flex items-center gap-1 rounded-lg border",
                      "focus-within:ring-primary-500 focus-within:ring-2 focus-within:ring-offset-2",
                      displayError && "border-destructive",
                      !displayError && "border-input"
                    ),
                    children: [
                      onGeolocate && /* @__PURE__ */ jsx(
                        GeolocationButton,
                        {
                          status: geoStatus,
                          onClick: handleGeolocate,
                          disabled: loading
                        }
                      ),
                      /* @__PURE__ */ jsx("div", { className: "min-w-0 flex-1", children: /* @__PURE__ */ jsx(
                        Input,
                        {
                          type: "text",
                          inputMode: "numeric",
                          pattern: "[0-9]*",
                          maxLength: 5,
                          value: zipValue,
                          onChange: handleChange,
                          placeholder: placeholderText,
                          disabled: loading,
                          "aria-label": "ZIP code",
                          "aria-invalid": !!displayError,
                          "aria-describedby": displayError ? "search-error" : void 0,
                          className: cn(
                            "border-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0",
                            "w-full",
                            onGeolocate ? "pl-0" : "pl-3"
                          )
                        }
                      ) }),
                      /* @__PURE__ */ jsx(
                        Button,
                        {
                          type: "submit",
                          variant: "ghost",
                          size: "icon",
                          disabled: loading,
                          className: "h-10 w-10 shrink-0",
                          "aria-label": "Search",
                          children: loading ? /* @__PURE__ */ jsx(SpinnerIcon4, { className: "h-4 w-4" }) : /* @__PURE__ */ jsx(SearchIcon3, { className: "h-4 w-4" })
                        }
                      )
                    ]
                  }
                ),
                displayError && /* @__PURE__ */ jsx(
                  "p",
                  {
                    id: "search-error",
                    className: "text-destructive mt-2 text-sm",
                    role: "alert",
                    children: displayError
                  }
                )
              ]
            }
          ),
          showResults && (results || resultsLoading) && /* @__PURE__ */ jsx("div", { className: "mt-3", children: /* @__PURE__ */ jsx(
            SearchResultsMessage,
            {
              results,
              loading: resultsLoading,
              onResultsClick
            }
          ) })
        ]
      }
    );
  }
);
ProviderSearchBar.displayName = "ProviderSearchBar";
var HeroSearchBar = ({
  title,
  subtitle,
  className,
  ...props
}) => {
  return /* @__PURE__ */ jsxs("div", { className: cn("text-center", className), children: [
    title && /* @__PURE__ */ jsx("h1", { className: "text-foreground mb-2 text-3xl font-bold md:text-4xl lg:text-5xl", children: title }),
    subtitle && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground mb-6 text-lg md:text-xl", children: subtitle }),
    /* @__PURE__ */ jsx("div", { className: "mx-auto max-w-xl", children: /* @__PURE__ */ jsx(ProviderSearchBar, { ...props, variant: "hero" }) })
  ] });
};
HeroSearchBar.displayName = "HeroSearchBar";
var DEFAULT_RADIUS_OPTIONS = [
  { value: 1, label: "1 mile" },
  { value: 5, label: "5 miles" },
  { value: 10, label: "10 miles" },
  { value: 25, label: "25 miles" },
  { value: 50, label: "50 miles" },
  { value: 100, label: "100 miles" }
];
var containerVariants2 = cva("provider-search-filters", {
  variants: {
    layout: {
      horizontal: "flex flex-wrap items-end gap-3",
      vertical: "flex flex-col gap-3",
      compact: "flex flex-wrap items-center gap-2"
    }
  },
  defaultVariants: {
    layout: "horizontal"
  }
});
var inputVariants3 = cva(
  [
    "flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm",
    "placeholder:text-neutral-500",
    "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",
    "disabled:cursor-not-allowed disabled:opacity-50",
    "dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100 dark:placeholder:text-neutral-400"
  ],
  {
    variants: {
      hasIcon: {
        true: "pl-10",
        false: ""
      }
    },
    defaultVariants: {
      hasIcon: false
    }
  }
);
var selectVariants = cva([
  "flex h-10 w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm",
  "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",
  "disabled:cursor-not-allowed disabled:opacity-50",
  "dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",
  "appearance-none bg-no-repeat bg-right pr-8",
  'bg-[url("data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27none%27 viewBox=%270 0 20 20%27%3e%3cpath stroke=%27%236b7280%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%271.5%27 d=%27M6 8l4 4 4-4%27/%3e%3c/svg%3e")]',
  "bg-[length:1.5em_1.5em]",
  "bg-[right_0.5rem_center]"
]);
var labelVariants = cva([
  "text-sm font-medium text-neutral-700 dark:text-neutral-300",
  "mb-1.5 block"
]);
var fieldGroupVariants = cva("flex-1 min-w-[150px]", {
  variants: {
    size: {
      sm: "min-w-[100px] max-w-[150px]",
      md: "min-w-[150px] max-w-[200px]",
      lg: "min-w-[200px] max-w-[300px]",
      full: "min-w-[200px] flex-grow"
    }
  },
  defaultVariants: {
    size: "md"
  }
});
function SearchIcon4({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-5 w-5", className),
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function MapPinIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-5 w-5", className),
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function XMarkIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-4 w-4", className),
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx("path", { d: "M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" })
    }
  );
}
function InputField({ label, icon, className, id, ...props }) {
  const inputId = id || React46.useId();
  return /* @__PURE__ */ jsxs("div", { className: "relative", children: [
    label && /* @__PURE__ */ jsx("label", { htmlFor: inputId, className: labelVariants(), children: label }),
    /* @__PURE__ */ jsxs("div", { className: "relative", children: [
      icon && /* @__PURE__ */ jsx("div", { className: "pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400", children: icon }),
      /* @__PURE__ */ jsx(
        "input",
        {
          id: inputId,
          className: cn(inputVariants3({ hasIcon: !!icon }), className),
          ...props
        }
      )
    ] })
  ] });
}
function SelectField({
  label,
  options,
  className,
  id,
  ...props
}) {
  const selectId = id || React46.useId();
  return /* @__PURE__ */ jsxs("div", { children: [
    label && /* @__PURE__ */ jsx("label", { htmlFor: selectId, className: labelVariants(), children: label }),
    /* @__PURE__ */ jsx(
      "select",
      {
        id: selectId,
        className: cn(selectVariants(), className),
        ...props,
        children: options.map((option) => /* @__PURE__ */ jsx("option", { value: option.value, children: option.label }, option.value))
      }
    )
  ] });
}
function ServiceTag({ service, onRemove }) {
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "inline-flex items-center gap-1 rounded-md px-2 py-1 text-sm",
        "bg-primary-100 text-primary-800",
        "dark:bg-primary-900/30 dark:text-primary-300"
      ),
      children: [
        service.label,
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onRemove,
            className: cn(
              "hover:bg-primary-200 dark:hover:bg-primary-800 rounded-full p-0.5",
              "focus:ring-primary-500 focus:ring-2 focus:outline-none"
            ),
            "aria-label": `Remove ${service.label}`,
            children: /* @__PURE__ */ jsx(XMarkIcon, { className: "h-3 w-3" })
          }
        )
      ]
    }
  );
}
function ServiceMultiSelect({
  services,
  selectedServices,
  onSelectionChange,
  label = "Services",
  placeholder = "All services",
  disabled = false,
  showCounts = false
}) {
  const [isOpen, setIsOpen] = React46.useState(false);
  const [searchTerm, setSearchTerm] = React46.useState("");
  const containerRef = React46.useRef(null);
  const inputRef = React46.useRef(null);
  const listboxId = React46.useId();
  React46.useEffect(() => {
    function handleClickOutside(event) {
      if (containerRef.current && !containerRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    }
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  const filteredServices = React46.useMemo(() => {
    if (!searchTerm) return services;
    const lowerSearch = searchTerm.toLowerCase();
    return services.filter(
      (service) => service.label.toLowerCase().includes(lowerSearch) || service.category?.toLowerCase().includes(lowerSearch)
    );
  }, [services, searchTerm]);
  const groupedServices = React46.useMemo(() => {
    const groups = {};
    filteredServices.forEach((service) => {
      const category = service.category || "Other";
      if (!groups[category]) groups[category] = [];
      groups[category].push(service);
    });
    return groups;
  }, [filteredServices]);
  const selectedServiceObjects = React46.useMemo(
    () => services.filter((s) => selectedServices.includes(s.value)),
    [services, selectedServices]
  );
  function handleToggleService(value) {
    if (selectedServices.includes(value)) {
      onSelectionChange(selectedServices.filter((v) => v !== value));
    } else {
      onSelectionChange([...selectedServices, value]);
    }
  }
  function handleRemoveService(value) {
    onSelectionChange(selectedServices.filter((v) => v !== value));
  }
  function handleKeyDown(event) {
    if (event.key === "Escape") {
      setIsOpen(false);
    } else if (event.key === "Enter" && !isOpen) {
      setIsOpen(true);
    }
  }
  return /* @__PURE__ */ jsxs("div", { ref: containerRef, className: "relative", children: [
    label && /* @__PURE__ */ jsx("label", { className: labelVariants(), children: label }),
    selectedServiceObjects.length > 0 && /* @__PURE__ */ jsx("div", { className: "mb-2 flex flex-wrap gap-1", children: selectedServiceObjects.map((service) => /* @__PURE__ */ jsx(
      ServiceTag,
      {
        service,
        onRemove: () => handleRemoveService(service.value)
      },
      service.value
    )) }),
    /* @__PURE__ */ jsx("div", { className: "relative", children: /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: () => !disabled && setIsOpen(!isOpen),
        onKeyDown: handleKeyDown,
        disabled,
        "aria-haspopup": "listbox",
        "aria-expanded": isOpen,
        "aria-labelledby": label ? void 0 : "services-label",
        className: cn(
          selectVariants(),
          "w-full text-left",
          !selectedServices.length && "text-neutral-500 dark:text-neutral-400",
          disabled && "cursor-not-allowed opacity-50"
        ),
        children: selectedServices.length > 0 ? `${selectedServices.length} service${selectedServices.length > 1 ? "s" : ""} selected` : placeholder
      }
    ) }),
    isOpen && /* @__PURE__ */ jsxs(
      "div",
      {
        className: cn(
          "absolute z-50 mt-1 w-full rounded-md border border-neutral-200 bg-white shadow-lg",
          "dark:border-neutral-700 dark:bg-neutral-800",
          "max-h-60 overflow-auto"
        ),
        role: "listbox",
        id: listboxId,
        "aria-multiselectable": "true",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "sticky top-0 border-b border-neutral-200 bg-white p-2 dark:border-neutral-700 dark:bg-neutral-800", children: [
            /* @__PURE__ */ jsx(
              "input",
              {
                ref: inputRef,
                type: "text",
                value: searchTerm,
                onChange: (e) => setSearchTerm(e.target.value),
                placeholder: "Search services...",
                className: cn(inputVariants3({ hasIcon: true }), "pl-8"),
                autoFocus: true
              }
            ),
            /* @__PURE__ */ jsx(SearchIcon4, { className: "absolute top-1/2 left-4 -translate-y-1/2 text-neutral-400" })
          ] }),
          Object.entries(groupedServices).length > 0 ? Object.entries(groupedServices).map(
            ([category, categoryServices]) => /* @__PURE__ */ jsxs("div", { children: [
              services.some((s) => s.category) && /* @__PURE__ */ jsx("div", { className: "bg-neutral-50 px-3 py-2 text-xs font-semibold tracking-wider text-neutral-500 uppercase dark:bg-neutral-900 dark:text-neutral-400", children: category }),
              categoryServices.map((service) => {
                const isSelected = selectedServices.includes(service.value);
                return /* @__PURE__ */ jsxs(
                  "button",
                  {
                    type: "button",
                    role: "option",
                    "aria-selected": isSelected,
                    onClick: () => handleToggleService(service.value),
                    className: cn(
                      "flex w-full items-center justify-between px-3 py-2 text-left text-sm",
                      "hover:bg-neutral-100 dark:hover:bg-neutral-700",
                      isSelected && "bg-primary-50 dark:bg-primary-900/20"
                    ),
                    children: [
                      /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
                        /* @__PURE__ */ jsx(
                          "span",
                          {
                            className: cn(
                              "flex h-4 w-4 items-center justify-center rounded border",
                              isSelected ? "bg-primary-500 border-primary-500 text-white" : "border-neutral-300 dark:border-neutral-600"
                            ),
                            children: isSelected && /* @__PURE__ */ jsx(
                              "svg",
                              {
                                className: "h-3 w-3",
                                viewBox: "0 0 12 12",
                                fill: "currentColor",
                                children: /* @__PURE__ */ jsx("path", { d: "M10.28 2.28L4.75 7.81 1.72 4.78a.75.75 0 00-1.06 1.06l3.75 3.75a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06z" })
                              }
                            )
                          }
                        ),
                        service.label
                      ] }),
                      showCounts && service.count !== void 0 && /* @__PURE__ */ jsxs("span", { className: "text-xs text-neutral-400", children: [
                        "(",
                        service.count,
                        ")"
                      ] })
                    ]
                  },
                  service.value
                );
              })
            ] }, category)
          ) : /* @__PURE__ */ jsx("div", { className: "px-3 py-4 text-center text-sm text-neutral-500 dark:text-neutral-400", children: "No services found" }),
          selectedServices.length > 0 && /* @__PURE__ */ jsx("div", { className: "sticky bottom-0 border-t border-neutral-200 bg-white p-2 dark:border-neutral-700 dark:bg-neutral-800", children: /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: () => onSelectionChange([]),
              className: cn(
                "w-full rounded-md px-3 py-2 text-center text-sm",
                "text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20"
              ),
              children: "Clear selection"
            }
          ) })
        ]
      }
    )
  ] });
}
function ProviderSearchFilters({
  filters,
  onFiltersChange,
  services = [],
  radiusOptions = DEFAULT_RADIUS_OPTIONS,
  showNameSearch = true,
  showZipCode = true,
  showRadius = true,
  showServices = true,
  showServiceCounts = false,
  showLabels = true,
  layout = "horizontal",
  formId,
  onSubmit,
  loading = false,
  className
}) {
  function handleFieldChange(field, value) {
    onFiltersChange({
      ...filters,
      [field]: value
    });
  }
  function handleSubmit(event) {
    event.preventDefault();
    onSubmit?.(filters);
  }
  const FormWrapper = onSubmit ? "form" : "div";
  const formProps = onSubmit ? { onSubmit: handleSubmit, id: formId } : {};
  return /* @__PURE__ */ jsxs(
    FormWrapper,
    {
      ...formProps,
      className: cn(containerVariants2({ layout }), className),
      children: [
        showNameSearch && /* @__PURE__ */ jsx("div", { className: fieldGroupVariants({ size: "lg" }), children: /* @__PURE__ */ jsx(
          InputField,
          {
            label: showLabels ? "Provider Name" : void 0,
            icon: /* @__PURE__ */ jsx(SearchIcon4, {}),
            type: "text",
            placeholder: "Search by provider",
            value: filters.searchPhrase || "",
            onChange: (e) => handleFieldChange("searchPhrase", e.target.value),
            disabled: loading,
            "data-cy": "input-search-providers-by-name"
          }
        ) }),
        showZipCode && /* @__PURE__ */ jsx("div", { className: fieldGroupVariants({ size: "sm" }), children: /* @__PURE__ */ jsx(
          InputField,
          {
            label: showLabels ? "ZIP Code" : void 0,
            icon: /* @__PURE__ */ jsx(MapPinIcon2, {}),
            type: "text",
            inputMode: "numeric",
            pattern: "[0-9]{5}",
            maxLength: 5,
            placeholder: "ZIP code",
            value: filters.zipCode || "",
            onChange: (e) => {
              const value = e.target.value.replace(/\D/g, "").slice(0, 5);
              handleFieldChange("zipCode", value);
            },
            disabled: loading,
            "data-cy": "input-search-providers-by-zip"
          }
        ) }),
        showRadius && /* @__PURE__ */ jsx("div", { className: fieldGroupVariants({ size: "sm" }), children: /* @__PURE__ */ jsx(
          SelectField,
          {
            label: showLabels ? "Radius" : void 0,
            options: radiusOptions.map((opt) => ({
              value: opt.value,
              label: opt.label
            })),
            value: filters.radius,
            onChange: (e) => handleFieldChange("radius", Number(e.target.value)),
            disabled: loading,
            "data-cy": "select-search-radius"
          }
        ) }),
        showServices && services.length > 0 && /* @__PURE__ */ jsx("div", { className: fieldGroupVariants({ size: "full" }), children: /* @__PURE__ */ jsx(
          ServiceMultiSelect,
          {
            services,
            selectedServices: filters.services,
            onSelectionChange: (services2) => handleFieldChange("services", services2),
            label: showLabels ? "Services" : void 0,
            placeholder: "All services",
            disabled: loading,
            showCounts: showServiceCounts
          }
        ) })
      ]
    }
  );
}
function CompactFilterBar({
  filters,
  onFiltersChange,
  services = [],
  onSearch,
  loading = false,
  className
}) {
  function handleFieldChange(field, value) {
    onFiltersChange({
      ...filters,
      [field]: value
    });
  }
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex flex-wrap items-center gap-2 rounded-lg p-3",
        "border border-neutral-200 bg-white shadow-sm",
        "dark:border-neutral-700 dark:bg-neutral-800",
        className
      ),
      children: [
        /* @__PURE__ */ jsx("div", { className: "min-w-[150px] flex-1", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx(SearchIcon4, { className: "absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-neutral-400" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              placeholder: "Search providers...",
              value: filters.searchPhrase || "",
              onChange: (e) => handleFieldChange("searchPhrase", e.target.value),
              disabled: loading,
              className: cn(
                "h-9 w-full rounded-md border border-neutral-200 pr-3 pl-9 text-sm",
                "focus:ring-primary-500 focus:ring-2 focus:outline-none",
                "dark:border-neutral-600 dark:bg-neutral-700 dark:text-white"
              )
            }
          )
        ] }) }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "text",
              inputMode: "numeric",
              pattern: "[0-9]{5}",
              maxLength: 5,
              placeholder: "ZIP",
              value: filters.zipCode || "",
              onChange: (e) => {
                const value = e.target.value.replace(/\D/g, "").slice(0, 5);
                handleFieldChange("zipCode", value);
              },
              disabled: loading,
              className: cn(
                "h-9 w-20 rounded-l-md border border-neutral-200 px-3 text-sm",
                "focus:ring-primary-500 focus:z-10 focus:ring-2 focus:outline-none",
                "dark:border-neutral-600 dark:bg-neutral-700 dark:text-white"
              )
            }
          ),
          /* @__PURE__ */ jsx(
            "select",
            {
              value: filters.radius,
              onChange: (e) => handleFieldChange("radius", Number(e.target.value)),
              disabled: loading,
              className: cn(
                "h-9 rounded-r-md border border-l-0 border-neutral-200 px-2 text-sm",
                "focus:ring-primary-500 focus:ring-2 focus:outline-none",
                "dark:border-neutral-600 dark:bg-neutral-700 dark:text-white"
              ),
              children: DEFAULT_RADIUS_OPTIONS.map((opt) => /* @__PURE__ */ jsxs("option", { value: opt.value, children: [
                opt.value,
                "mi"
              ] }, opt.value))
            }
          )
        ] }),
        services.length > 0 && /* @__PURE__ */ jsx("div", { className: "min-w-[150px]", children: /* @__PURE__ */ jsxs(
          "select",
          {
            value: filters.services[0] || "",
            onChange: (e) => {
              const value = e.target.value;
              handleFieldChange("services", value ? [value] : []);
            },
            disabled: loading,
            className: cn(
              "h-9 w-full rounded-md border border-neutral-200 px-3 text-sm",
              "focus:ring-primary-500 focus:ring-2 focus:outline-none",
              "dark:border-neutral-600 dark:bg-neutral-700 dark:text-white",
              !filters.services.length && "text-neutral-500"
            ),
            children: [
              /* @__PURE__ */ jsx("option", { value: "", children: "All services" }),
              services.map((service) => /* @__PURE__ */ jsx("option", { value: service.value, children: service.label }, service.value))
            ]
          }
        ) }),
        onSearch && /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onSearch,
            disabled: loading,
            className: cn(
              "h-9 rounded-md px-4 text-sm font-medium",
              "bg-primary-500 hover:bg-primary-600 text-white",
              "focus:ring-primary-500 focus:ring-2 focus:ring-offset-2 focus:outline-none",
              "disabled:cursor-not-allowed disabled:opacity-50"
            ),
            children: loading ? /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxs("svg", { className: "h-4 w-4 animate-spin", viewBox: "0 0 24 24", children: [
                /* @__PURE__ */ jsx(
                  "circle",
                  {
                    className: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    strokeWidth: "4",
                    fill: "none"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "path",
                  {
                    className: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  }
                )
              ] }),
              "Searching..."
            ] }) : "Search"
          }
        )
      ]
    }
  );
}
function ActiveFilters({
  filters,
  services = [],
  onClearFilter,
  onClearAll,
  className
}) {
  const activeFilters = [];
  if (filters.searchPhrase) {
    activeFilters.push({
      key: "searchPhrase",
      label: `"${filters.searchPhrase}"`,
      onClear: () => onClearFilter("searchPhrase")
    });
  }
  if (filters.zipCode) {
    activeFilters.push({
      key: "zipCode",
      label: `Near ${filters.zipCode}`,
      onClear: () => onClearFilter("zipCode")
    });
  }
  if (filters.radius !== 25) {
    activeFilters.push({
      key: "radius",
      label: `Within ${filters.radius} miles`,
      onClear: () => onClearFilter("radius")
    });
  }
  filters.services.forEach((serviceValue) => {
    const service = services.find((s) => s.value === serviceValue);
    activeFilters.push({
      key: `service-${serviceValue}`,
      label: service?.label || serviceValue,
      onClear: () => onClearFilter("services", serviceValue)
    });
  });
  if (activeFilters.length === 0) {
    return null;
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap items-center gap-2", className), children: [
    /* @__PURE__ */ jsx("span", { className: "text-sm text-neutral-500 dark:text-neutral-400", children: "Active filters:" }),
    activeFilters.map((filter) => /* @__PURE__ */ jsxs(
      "span",
      {
        className: cn(
          "inline-flex items-center gap-1 rounded-full px-2 py-1 text-sm",
          "bg-neutral-100 text-neutral-700",
          "dark:bg-neutral-700 dark:text-neutral-300"
        ),
        children: [
          filter.label,
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: filter.onClear,
              className: "ml-1 rounded-full p-0.5 hover:bg-neutral-200 dark:hover:bg-neutral-600",
              "aria-label": `Remove filter: ${filter.label}`,
              children: /* @__PURE__ */ jsx(XMarkIcon, { className: "h-3 w-3" })
            }
          )
        ]
      },
      filter.key
    )),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: onClearAll,
        className: "text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 text-sm",
        children: "Clear all"
      }
    )
  ] });
}
function ProviderSelector({
  selectedProvider,
  providers,
  onSelect,
  label,
  placeholder = "Select provider...",
  disabled = false,
  searchable = false,
  searchPlaceholder = "Search providers...",
  isLoading = false,
  size = "md",
  className
}) {
  const [isOpen, setIsOpen] = React46.useState(false);
  const [searchQuery, setSearchQuery] = React46.useState("");
  const containerRef = React46.useRef(null);
  React46.useEffect(() => {
    function handleClickOutside(event) {
      if (containerRef.current && !containerRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    }
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  React46.useEffect(() => {
    function handleEscape(event) {
      if (event.key === "Escape") {
        setIsOpen(false);
      }
    }
    document.addEventListener("keydown", handleEscape);
    return () => document.removeEventListener("keydown", handleEscape);
  }, []);
  React46.useEffect(() => {
    if (!isOpen) {
      setSearchQuery("");
    }
  }, [isOpen]);
  const filteredProviders = React46.useMemo(() => {
    if (!searchQuery) return providers;
    const query = searchQuery.toLowerCase();
    return providers.filter(
      (p) => p.name.toLowerCase().includes(query) || p.code?.toLowerCase().includes(query) || p.location?.toLowerCase().includes(query)
    );
  }, [providers, searchQuery]);
  const handleSelect = (provider) => {
    onSelect?.(provider);
    setIsOpen(false);
  };
  const sizeStyles = {
    sm: "h-8 text-sm",
    md: "h-10 text-base",
    lg: "h-12 text-lg"
  };
  const getInitials3 = (name) => {
    return name.split(" ").map((word) => word[0]).join("").substring(0, 2).toUpperCase();
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("relative", className), ref: containerRef, children: [
    label && /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: label }),
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => !disabled && setIsOpen(!isOpen),
        disabled,
        className: cn(
          "w-full flex items-center gap-3 px-3 border rounded-lg bg-white dark:bg-gray-800 text-left transition-colors",
          "border-gray-300 dark:border-gray-600",
          "hover:border-gray-400 dark:hover:border-gray-500",
          "focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",
          "disabled:opacity-50 disabled:cursor-not-allowed",
          sizeStyles[size]
        ),
        children: [
          isLoading ? /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 flex-1", children: [
            /* @__PURE__ */ jsxs(
              "svg",
              {
                className: "animate-spin h-5 w-5 text-gray-400",
                fill: "none",
                viewBox: "0 0 24 24",
                children: [
                  /* @__PURE__ */ jsx(
                    "circle",
                    {
                      className: "opacity-25",
                      cx: "12",
                      cy: "12",
                      r: "10",
                      stroke: "currentColor",
                      strokeWidth: "4"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "path",
                    {
                      className: "opacity-75",
                      fill: "currentColor",
                      d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Loading..." })
          ] }) : selectedProvider ? /* @__PURE__ */ jsxs(Fragment, { children: [
            selectedProvider.logoUrl ? /* @__PURE__ */ jsx(
              "img",
              {
                src: selectedProvider.logoUrl,
                alt: selectedProvider.name,
                className: "w-6 h-6 rounded object-cover"
              }
            ) : /* @__PURE__ */ jsx("div", { className: "w-6 h-6 rounded bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 flex items-center justify-center text-xs font-medium", children: getInitials3(selectedProvider.name) }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
              /* @__PURE__ */ jsx("div", { className: "font-medium text-gray-900 dark:text-white truncate", children: selectedProvider.name }),
              selectedProvider.location && /* @__PURE__ */ jsx("div", { className: "text-xs text-gray-500 dark:text-gray-400 truncate", children: selectedProvider.location })
            ] })
          ] }) : /* @__PURE__ */ jsx("span", { className: "flex-1 text-gray-500 dark:text-gray-400", children: placeholder }),
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: cn(
                "w-4 h-4 text-gray-400 transition-transform flex-shrink-0",
                isOpen && "rotate-180"
              ),
              fill: "none",
              viewBox: "0 0 24 24",
              stroke: "currentColor",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M19 9l-7 7-7-7"
                }
              )
            }
          )
        ]
      }
    ),
    isOpen && /* @__PURE__ */ jsxs("div", { className: "absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg overflow-hidden", children: [
      searchable && /* @__PURE__ */ jsx("div", { className: "p-2 border-b border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx(
          "input",
          {
            type: "text",
            placeholder: searchPlaceholder,
            value: searchQuery,
            onChange: (e) => setSearchQuery(e.target.value),
            className: "w-full pl-9 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500",
            autoFocus: true
          }
        )
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "max-h-64 overflow-y-auto", children: filteredProviders.length === 0 ? /* @__PURE__ */ jsx("div", { className: "px-4 py-6 text-center text-gray-500 dark:text-gray-400", children: "No providers found" }) : filteredProviders.map((provider) => /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => handleSelect(provider),
          className: cn(
            "w-full flex items-center gap-3 px-4 py-3 text-left transition-colors",
            "hover:bg-gray-50 dark:hover:bg-gray-700",
            selectedProvider?.id === provider.id && "bg-blue-50 dark:bg-blue-900/30"
          ),
          children: [
            provider.logoUrl ? /* @__PURE__ */ jsx(
              "img",
              {
                src: provider.logoUrl,
                alt: provider.name,
                className: "w-8 h-8 rounded object-cover"
              }
            ) : /* @__PURE__ */ jsx("div", { className: "w-8 h-8 rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 flex items-center justify-center text-sm font-medium", children: getInitials3(provider.name) }),
            /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-900 dark:text-white", children: provider.name }),
                provider.code && /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
                  "(",
                  provider.code,
                  ")"
                ] }),
                provider.isActive === false && /* @__PURE__ */ jsx("span", { className: "px-1.5 py-0.5 text-xs font-medium rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400", children: "Inactive" })
              ] }),
              (provider.location || provider.type) && /* @__PURE__ */ jsx("div", { className: "text-sm text-gray-500 dark:text-gray-400 truncate", children: [provider.type, provider.location].filter(Boolean).join(" \u2022 ") })
            ] }),
            selectedProvider?.id === provider.id && /* @__PURE__ */ jsx(
              "svg",
              {
                className: "w-5 h-5 text-blue-500 flex-shrink-0",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M5 13l4 4L19 7"
                  }
                )
              }
            )
          ]
        },
        provider.id
      )) })
    ] })
  ] });
}
function ProviderSettings({
  settings: initialSettings,
  onSave,
  isSaving = false,
  isLoading = false,
  defaultTab = "general",
  className = ""
}) {
  const [settings, setSettings] = React46.useState(initialSettings);
  const [hasChanges, setHasChanges] = React46.useState(false);
  React46.useEffect(() => {
    setSettings(initialSettings);
    setHasChanges(false);
  }, [initialSettings]);
  const updateGeneral = (field, value) => {
    setSettings((prev) => ({
      ...prev,
      general: { ...prev.general, [field]: value }
    }));
    setHasChanges(true);
  };
  const updateAddress = (field, value) => {
    setSettings((prev) => ({
      ...prev,
      address: { ...prev.address, [field]: value }
    }));
    setHasChanges(true);
  };
  const updateNotifications = (field, value) => {
    setSettings((prev) => ({
      ...prev,
      notifications: { ...prev.notifications, [field]: value }
    }));
    setHasChanges(true);
  };
  const updateScheduling = (field, value) => {
    setSettings((prev) => ({
      ...prev,
      scheduling: { ...prev.scheduling, [field]: value }
    }));
    setHasChanges(true);
  };
  const updatePayments = (field, value) => {
    setSettings((prev) => ({
      ...prev,
      payments: { ...prev.payments, [field]: value }
    }));
    setHasChanges(true);
  };
  const handleSave = () => {
    if (onSave) {
      onSave(settings);
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-4 animate-pulse ${className}`, children: [
      /* @__PURE__ */ jsx("div", { className: "h-12 bg-gray-200 dark:bg-gray-700 rounded-lg" }),
      /* @__PURE__ */ jsx("div", { className: "h-64 bg-gray-200 dark:bg-gray-700 rounded-lg" })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: "Provider Settings" }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        hasChanges && /* @__PURE__ */ jsx(Badge, { variant: "warning", children: "Unsaved changes" }),
        onSave && /* @__PURE__ */ jsx(Button, { onClick: handleSave, disabled: isSaving || !hasChanges, children: isSaving ? "Saving..." : "Save Changes" })
      ] })
    ] }),
    /* @__PURE__ */ jsxs(Tabs, { defaultValue: defaultTab, children: [
      /* @__PURE__ */ jsxs(TabsList, { children: [
        /* @__PURE__ */ jsx(TabsTrigger, { value: "general", children: "General" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "notifications", children: "Notifications" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "scheduling", children: "Scheduling" }),
        /* @__PURE__ */ jsx(TabsTrigger, { value: "payments", children: "Payments" })
      ] }),
      /* @__PURE__ */ jsx(TabsContent, { value: "general", children: /* @__PURE__ */ jsxs("div", { className: "grid gap-6 md:grid-cols-2", children: [
        /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Basic Information" }) }),
          /* @__PURE__ */ jsxs(CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Provider Name" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  value: settings.general.name,
                  onChange: (e) => updateGeneral("name", e.target.value)
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Description" }),
              /* @__PURE__ */ jsx(
                Textarea,
                {
                  value: settings.general.description || "",
                  onChange: (e) => updateGeneral("description", e.target.value),
                  rows: 3
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "NPI Number" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.general.npi || "",
                    onChange: (e) => updateGeneral("npi", e.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Tax ID" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.general.taxId || "",
                    onChange: (e) => updateGeneral("taxId", e.target.value)
                  }
                )
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxs(Card, { children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Contact Information" }) }),
          /* @__PURE__ */ jsxs(CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Phone" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "tel",
                  value: settings.general.phone || "",
                  onChange: (e) => updateGeneral("phone", e.target.value)
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Email" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "email",
                  value: settings.general.email || "",
                  onChange: (e) => updateGeneral("email", e.target.value)
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Website" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "url",
                  value: settings.general.website || "",
                  onChange: (e) => updateGeneral("website", e.target.value)
                }
              )
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxs(Card, { className: "md:col-span-2", children: [
          /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Address" }) }),
          /* @__PURE__ */ jsxs(CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Street Address" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.street,
                    onChange: (e) => updateAddress("street", e.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Street Address 2" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.street2 || "",
                    onChange: (e) => updateAddress("street2", e.target.value)
                  }
                )
              ] })
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "City" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.city,
                    onChange: (e) => updateAddress("city", e.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "State" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.state,
                    onChange: (e) => updateAddress("state", e.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "ZIP Code" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.zip,
                    onChange: (e) => updateAddress("zip", e.target.value)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Country" }),
                /* @__PURE__ */ jsx(
                  Input,
                  {
                    value: settings.address.country || "USA",
                    onChange: (e) => updateAddress("country", e.target.value)
                  }
                )
              ] })
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "notifications", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Notification Preferences" }) }),
        /* @__PURE__ */ jsxs(CardContent, { className: "space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 dark:text-white mb-4", children: "Email Notifications" }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "New Orders" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Receive email when a new order is placed" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.notifications.emailNewOrders,
                    onCheckedChange: (checked) => updateNotifications("emailNewOrders", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Order Updates" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Receive email when an order status changes" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.notifications.emailOrderUpdates,
                    onCheckedChange: (checked) => updateNotifications("emailOrderUpdates", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Invoice Notifications" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Receive email for invoice activity" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.notifications.emailInvoices,
                    onCheckedChange: (checked) => updateNotifications("emailInvoices", checked)
                  }
                )
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-6", children: [
            /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 dark:text-white mb-4", children: "SMS Notifications" }),
            /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "New Orders" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Receive SMS when a new order is placed" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.notifications.smsNewOrders,
                    onCheckedChange: (checked) => updateNotifications("smsNewOrders", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxs("div", { children: [
                  /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Order Updates" }),
                  /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Receive SMS when an order status changes" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.notifications.smsOrderUpdates,
                    onCheckedChange: (checked) => updateNotifications("smsOrderUpdates", checked)
                  }
                )
              ] })
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "scheduling", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Scheduling Settings" }) }),
        /* @__PURE__ */ jsxs(CardContent, { className: "space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Accepting New Patients" }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Allow new patients to schedule appointments" })
              ] }),
              /* @__PURE__ */ jsx(
                Switch,
                {
                  checked: settings.scheduling.acceptingNewPatients,
                  onCheckedChange: (checked) => updateScheduling("acceptingNewPatients", checked)
                }
              )
            ] }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Require Appointment" }),
                /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Patients must schedule before arriving" })
              ] }),
              /* @__PURE__ */ jsx(
                Switch,
                {
                  checked: settings.scheduling.requireAppointment,
                  onCheckedChange: (checked) => updateScheduling("requireAppointment", checked)
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-6 grid md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Appointment Buffer (minutes)" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "number",
                  min: 0,
                  value: settings.scheduling.appointmentBuffer,
                  onChange: (e) => updateScheduling("appointmentBuffer", parseInt(e.target.value) || 0)
                }
              ),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Minimum time between appointments" })
            ] }),
            /* @__PURE__ */ jsxs("div", { children: [
              /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Max Daily Appointments" }),
              /* @__PURE__ */ jsx(
                Input,
                {
                  type: "number",
                  min: 1,
                  value: settings.scheduling.maxDailyAppointments,
                  onChange: (e) => updateScheduling(
                    "maxDailyAppointments",
                    parseInt(e.target.value) || 1
                  )
                }
              ),
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Maximum appointments allowed per day" })
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ jsx(TabsContent, { value: "payments", children: /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Payment Settings" }) }),
        /* @__PURE__ */ jsxs(CardContent, { className: "space-y-6", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("h3", { className: "font-medium text-gray-900 dark:text-white mb-4", children: "Accepted Payment Methods" }),
            /* @__PURE__ */ jsxs("div", { className: "grid sm:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "w-8 h-8 text-gray-600 dark:text-gray-300",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 1.5,
                          d: "M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Credit Card" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.payments.acceptsCreditCard,
                    onCheckedChange: (checked) => updatePayments("acceptsCreditCard", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "w-8 h-8 text-gray-600 dark:text-gray-300",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 1.5,
                          d: "M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-700 dark:text-gray-300", children: "ACH / Bank Transfer" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.payments.acceptsACH,
                    onCheckedChange: (checked) => updatePayments("acceptsACH", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "w-8 h-8 text-gray-600 dark:text-gray-300",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 1.5,
                          d: "M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Cash" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.payments.acceptsCash,
                    onCheckedChange: (checked) => updatePayments("acceptsCash", checked)
                  }
                )
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsx(
                    "svg",
                    {
                      className: "w-8 h-8 text-gray-600 dark:text-gray-300",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24",
                      children: /* @__PURE__ */ jsx(
                        "path",
                        {
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeWidth: 1.5,
                          d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                        }
                      )
                    }
                  ),
                  /* @__PURE__ */ jsx("span", { className: "font-medium text-gray-700 dark:text-gray-300", children: "Check" })
                ] }),
                /* @__PURE__ */ jsx(
                  Switch,
                  {
                    checked: settings.payments.acceptsCheck,
                    onCheckedChange: (checked) => updatePayments("acceptsCheck", checked)
                  }
                )
              ] })
            ] })
          ] }),
          /* @__PURE__ */ jsx("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-6", children: /* @__PURE__ */ jsxs("div", { className: "max-w-xs", children: [
            /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Payment Terms (days)" }),
            /* @__PURE__ */ jsx(
              Input,
              {
                type: "number",
                min: 0,
                value: settings.payments.paymentTerms,
                onChange: (e) => updatePayments("paymentTerms", parseInt(e.target.value) || 0)
              }
            ),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Number of days until invoice is due (e.g., Net 30)" })
          ] }) })
        ] })
      ] }) })
    ] })
  ] });
}
function ProviderUsersTable({
  users,
  onEditRole,
  onRemove,
  onResendInvite,
  currentUserId,
  showActions = true,
  isLoading = false,
  emptyMessage = "No users found",
  className = ""
}) {
  const formatDate4 = (date) => {
    if (!date) return "\u2014";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      year: "numeric"
    });
  };
  const getStatusVariant = (status) => {
    switch (status) {
      case "active":
        return "success";
      case "pending":
        return "warning";
      case "inactive":
        return "secondary";
      default:
        return "default";
    }
  };
  if (isLoading) {
    return /* @__PURE__ */ jsx("div", { className: `space-y-3 ${className}`, children: [1, 2, 3].map((i) => /* @__PURE__ */ jsx(
      "div",
      {
        className: "h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"
      },
      i
    )) });
  }
  if (users.length === 0) {
    return /* @__PURE__ */ jsxs(
      "div",
      {
        className: `text-center py-12 text-gray-500 dark:text-gray-400 ${className}`,
        children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "mx-auto h-12 w-12 text-gray-400",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 1.5,
                  d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                }
              )
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "mt-2", children: emptyMessage })
        ]
      }
    );
  }
  return /* @__PURE__ */ jsx("div", { className: `overflow-x-auto ${className}`, children: /* @__PURE__ */ jsxs(Table, { children: [
    /* @__PURE__ */ jsx(TableHeader, { children: /* @__PURE__ */ jsxs(TableRow, { children: [
      /* @__PURE__ */ jsx(TableHead, { children: "User" }),
      /* @__PURE__ */ jsx(TableHead, { children: "Role" }),
      /* @__PURE__ */ jsx(TableHead, { children: "Status" }),
      /* @__PURE__ */ jsx(TableHead, { children: "Last Active" }),
      showActions && /* @__PURE__ */ jsx(TableHead, { className: "text-right", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ jsx(TableBody, { children: users.map((user) => {
      const isCurrentUser = currentUserId === user.id;
      const isPending = user.status === "pending";
      return /* @__PURE__ */ jsxs(TableRow, { children: [
        /* @__PURE__ */ jsx(TableCell, { children: /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsx(
            Avatar,
            {
              src: user.avatarUrl,
              name: user.name,
              size: "sm"
            }
          ),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsxs("p", { className: "font-medium text-gray-900 dark:text-white", children: [
              user.name,
              isCurrentUser && /* @__PURE__ */ jsx("span", { className: "ml-1.5 text-xs text-gray-500", children: "(you)" })
            ] }),
            /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: user.email })
          ] })
        ] }) }),
        /* @__PURE__ */ jsx(TableCell, { children: /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-700 dark:text-gray-300", children: user.role }) }),
        /* @__PURE__ */ jsx(TableCell, { children: /* @__PURE__ */ jsx(Badge, { variant: getStatusVariant(user.status), children: user.status || "active" }) }),
        /* @__PURE__ */ jsx(TableCell, { children: /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-500 dark:text-gray-400", children: isPending ? `Invited ${formatDate4(user.invitedAt)}` : formatDate4(user.lastActive) }) }),
        showActions && /* @__PURE__ */ jsx(TableCell, { className: "text-right", children: /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end gap-1", children: [
          isPending && onResendInvite && /* @__PURE__ */ jsx(
            Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onResendInvite(user),
              title: "Resend invitation",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                    }
                  )
                }
              )
            }
          ),
          onEditRole && /* @__PURE__ */ jsx(
            Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onEditRole(user),
              title: "Edit role",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
                    }
                  )
                }
              )
            }
          ),
          onRemove && !isCurrentUser && /* @__PURE__ */ jsx(
            Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onRemove(user),
              title: "Remove user",
              className: "text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",
              children: /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                    }
                  )
                }
              )
            }
          )
        ] }) })
      ] }, user.id);
    }) })
  ] }) });
}
function QuickLinksCard({
  title = "Quick Links",
  links,
  layout = "vertical",
  columns = 2,
  className = ""
}) {
  const handleClick = (link) => {
    if (link.disabled) return;
    if (link.onClick) {
      link.onClick();
    } else if (link.href) {
      window.location.href = link.href;
    }
  };
  const gridColsClass = {
    2: "grid-cols-2",
    3: "grid-cols-3",
    4: "grid-cols-4"
  }[columns];
  return /* @__PURE__ */ jsxs(Card, { className, children: [
    /* @__PURE__ */ jsx(CardHeader, { className: "pb-3", children: /* @__PURE__ */ jsx(CardTitle, { className: "text-base", children: title }) }),
    /* @__PURE__ */ jsx(CardContent, { className: "pt-0", children: /* @__PURE__ */ jsx(
      "div",
      {
        className: layout === "grid" ? `grid ${gridColsClass} gap-2` : "flex flex-col gap-1",
        children: links.map((link) => /* @__PURE__ */ jsxs(
          Button,
          {
            variant: "ghost",
            className: `
                justify-start h-auto py-2 px-3
                ${link.disabled ? "opacity-50 cursor-not-allowed" : ""}
                ${layout === "grid" ? "flex-col items-center text-center h-20" : ""}
              `,
            onClick: () => handleClick(link),
            disabled: link.disabled,
            children: [
              link.icon && /* @__PURE__ */ jsx(
                "span",
                {
                  className: `
                  text-gray-500 dark:text-gray-400
                  ${layout === "grid" ? "mb-1" : "mr-3"}
                `,
                  children: link.icon
                }
              ),
              /* @__PURE__ */ jsxs("span", { className: "flex-1 text-left", children: [
                /* @__PURE__ */ jsx("span", { className: "block text-sm font-medium text-gray-900 dark:text-white", children: link.label }),
                link.description && layout !== "grid" && /* @__PURE__ */ jsx("span", { className: "block text-xs text-gray-500 dark:text-gray-400", children: link.description })
              ] }),
              link.badge !== void 0 && /* @__PURE__ */ jsx("span", { className: "ml-2 px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full", children: link.badge }),
              !link.badge && layout !== "grid" && /* @__PURE__ */ jsx(
                "svg",
                {
                  className: "w-4 h-4 text-gray-400",
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M9 5l7 7-7 7"
                    }
                  )
                }
              )
            ]
          },
          link.id
        ))
      }
    ) })
  ] });
}
var occurrenceLabels = {
  monthly: "Monthly",
  quarterly: "Quarterly",
  "semi-annually": "Semi-Annually",
  annually: "Annually"
};
function RecurringServiceCard({
  service,
  onDelete,
  onEdit,
  showProvider = true,
  className,
  labels = {}
}) {
  const {
    provider = "Provider",
    occurrence = "Occurrence",
    nextOrder = "Next Order",
    consentNote = "Email will be sent to employee for consent",
    delete: deleteLabel = "Delete"
  } = labels;
  const formatDate4 = (date) => {
    if (!date) return "--";
    const d = typeof date === "string" ? new Date(date) : date;
    const now = /* @__PURE__ */ new Date();
    if (d < now) {
      return "--";
    }
    const diffDays = Math.ceil((d.getTime() - now.getTime()) / (1e3 * 60 * 60 * 24));
    if (diffDays === 0) return "Today";
    if (diffDays === 1) return "Tomorrow";
    if (diffDays < 7) return `In ${diffDays} days`;
    if (diffDays < 30) return `In ${Math.ceil(diffDays / 7)} weeks`;
    return d.toLocaleDateString();
  };
  const getOccurrenceLabel = (occ) => {
    return occurrenceLabels[occ] || occ;
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "rounded-lg border bg-white shadow-sm",
        onEdit && "cursor-pointer transition-shadow hover:shadow-md",
        className
      ),
      onClick: () => onEdit?.(service),
      role: onEdit ? "button" : void 0,
      tabIndex: onEdit ? 0 : void 0,
      onKeyDown: (e) => {
        if (onEdit && (e.key === "Enter" || e.key === " ")) {
          e.preventDefault();
          onEdit(service);
        }
      },
      children: [
        /* @__PURE__ */ jsx("div", { className: "border-b bg-gray-50 px-4 py-3", children: /* @__PURE__ */ jsx("h6", { className: "font-medium", children: service.serviceName }) }),
        /* @__PURE__ */ jsxs("div", { className: "p-4", children: [
          showProvider && service.providerName && /* @__PURE__ */ jsxs("div", { className: "mb-2 flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: provider }),
            /* @__PURE__ */ jsx("span", { children: service.providerName })
          ] }),
          /* @__PURE__ */ jsxs("div", { className: "mb-2 flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: occurrence }),
            /* @__PURE__ */ jsx("span", { children: getOccurrenceLabel(service.occurrence) })
          ] }),
          /* @__PURE__ */ jsx("hr", { className: "my-3" }),
          /* @__PURE__ */ jsxs("div", { className: "mb-2 flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: nextOrder }),
            /* @__PURE__ */ jsx("span", { title: service.nextOrder?.toString(), children: formatDate4(service.nextOrder) })
          ] }),
          !service.overrideConsent && /* @__PURE__ */ jsx("div", { className: "mt-2 text-right text-xs text-red-600", children: consentNote })
        ] }),
        /* @__PURE__ */ jsx("div", { className: "border-t bg-gray-50 px-4 py-3 text-right", children: /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: (e) => {
              e.stopPropagation();
              onDelete?.(service);
            },
            className: "rounded-lg border border-red-300 px-3 py-1.5 text-sm text-red-600 hover:bg-red-50",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-trash mr-1" }),
              deleteLabel
            ]
          }
        ) })
      ]
    }
  );
}
function RecurringServiceAddCard({
  onClick,
  className,
  label = "Setup Recurring Service"
}) {
  return /* @__PURE__ */ jsxs(
    "button",
    {
      type: "button",
      onClick,
      className: cn(
        "flex min-h-[200px] w-full flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-4 text-muted-foreground transition-colors hover:border-primary hover:bg-primary/5 hover:text-primary",
        className
      ),
      children: [
        /* @__PURE__ */ jsx("i", { className: "fas fa-calendar-plus mb-2 text-2xl" }),
        /* @__PURE__ */ jsx("span", { children: label })
      ]
    }
  );
}
function RecurringServiceSetupModal({
  open,
  onClose,
  onSave,
  providers = [],
  services = [],
  initialData,
  saving = false,
  showProviderSelector = true,
  className,
  labels = {}
}) {
  const {
    title = "Setup Recurring Service",
    provider = "Provider Name",
    service = "Service",
    occurrence = "Occurrence",
    overrideConsent = "Override Consent",
    overrideConsentNote = "Check to skip employee consent email",
    cancel = "Cancel",
    save = "Save"
  } = labels;
  const [formData, setFormData] = React46.useState(
    initialData || {
      providerId: "",
      serviceId: "",
      occurrence: "monthly",
      overrideConsent: false
    }
  );
  React46.useEffect(() => {
    if (initialData) {
      setFormData(initialData);
    } else {
      setFormData({
        providerId: "",
        serviceId: "",
        occurrence: "monthly",
        overrideConsent: false
      });
    }
  }, [initialData, open]);
  const handleSubmit = (e) => {
    e.preventDefault();
    onSave(formData);
  };
  if (!open) return null;
  return /* @__PURE__ */ jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center bg-black/50", children: /* @__PURE__ */ jsxs("div", { className: cn("w-full max-w-lg rounded-lg bg-white shadow-xl", className), children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b bg-primary p-4 text-white", children: [
      /* @__PURE__ */ jsx("h4", { className: "text-lg font-semibold", children: title }),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: onClose,
          className: "text-2xl leading-none hover:opacity-80",
          children: "\xD7"
        }
      )
    ] }),
    /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "p-6", children: [
      showProviderSelector && /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
        /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: provider }),
        /* @__PURE__ */ jsxs(
          "select",
          {
            value: formData.providerId,
            onChange: (e) => setFormData({ ...formData, providerId: e.target.value }),
            className: "w-full rounded-lg border border-gray-300 p-2",
            required: showProviderSelector,
            children: [
              /* @__PURE__ */ jsx("option", { value: "", children: "Select provider..." }),
              providers.map((p) => /* @__PURE__ */ jsx("option", { value: p.id, children: p.name }, p.id))
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
        /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: service }),
        /* @__PURE__ */ jsxs(
          "select",
          {
            value: formData.serviceId,
            onChange: (e) => setFormData({ ...formData, serviceId: e.target.value }),
            className: "w-full rounded-lg border border-gray-300 p-2",
            required: true,
            children: [
              /* @__PURE__ */ jsx("option", { value: "", children: "Select service..." }),
              services.map((s) => /* @__PURE__ */ jsx("option", { value: s.id, children: s.name }, s.id))
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
        /* @__PURE__ */ jsx("label", { className: "mb-1 block text-sm font-medium", children: occurrence }),
        /* @__PURE__ */ jsxs(
          "select",
          {
            value: formData.occurrence,
            onChange: (e) => setFormData({ ...formData, occurrence: e.target.value }),
            className: "w-full rounded-lg border border-gray-300 p-2",
            required: true,
            children: [
              /* @__PURE__ */ jsx("option", { value: "monthly", children: "Monthly" }),
              /* @__PURE__ */ jsx("option", { value: "quarterly", children: "Quarterly" }),
              /* @__PURE__ */ jsx("option", { value: "semi-annually", children: "Semi-Annually" }),
              /* @__PURE__ */ jsx("option", { value: "annually", children: "Annually" })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "mb-4", children: [
        /* @__PURE__ */ jsxs("label", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "checkbox",
              checked: formData.overrideConsent,
              onChange: (e) => setFormData({ ...formData, overrideConsent: e.target.checked }),
              className: "h-4 w-4 rounded border-gray-300"
            }
          ),
          /* @__PURE__ */ jsx("span", { className: "text-sm", children: overrideConsent })
        ] }),
        /* @__PURE__ */ jsx("p", { className: "ml-6 text-xs text-muted-foreground", children: overrideConsentNote })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex justify-end gap-2", children: [
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onClose,
            className: "rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",
            children: cancel
          }
        ),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "submit",
            disabled: saving,
            className: "rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90 disabled:bg-gray-300",
            children: saving ? /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-spinner fa-spin" }),
              "Saving..."
            ] }) : save
          }
        )
      ] })
    ] })
  ] }) });
}
function RecurringServiceGrid({
  services,
  onDelete,
  onEdit,
  onAdd,
  showProvider = true,
  className
}) {
  return /* @__PURE__ */ jsxs("div", { className: cn("grid grid-cols-1 gap-4 md:grid-cols-2", className), children: [
    /* @__PURE__ */ jsx(RecurringServiceAddCard, { onClick: onAdd }),
    services.map((service) => /* @__PURE__ */ jsx(
      RecurringServiceCard,
      {
        service,
        onDelete,
        onEdit,
        showProvider
      },
      service.id
    ))
  ] });
}
var defaultReasons = [
  { id: "incomplete", label: "Incomplete information" },
  { id: "invalid", label: "Invalid request" },
  { id: "duplicate", label: "Duplicate entry" },
  { id: "policy", label: "Does not meet policy requirements" },
  { id: "other", label: "Other", requiresDetails: true }
];
function RejectionModal({
  open,
  onOpenChange,
  onSubmit,
  title = "Reject Item",
  description,
  itemDescription,
  reasons = defaultReasons,
  showDetails = true,
  detailsLabel = "Additional Details",
  detailsPlaceholder = "Provide additional context for this rejection...",
  requireDetails = false,
  submitLabel = "Reject",
  cancelLabel = "Cancel",
  isSubmitting = false,
  variant = "danger"
}) {
  const [selectedReasonId, setSelectedReasonId] = React46.useState("");
  const [details, setDetails] = React46.useState("");
  React46.useEffect(() => {
    if (!open) {
      setSelectedReasonId("");
      setDetails("");
    }
  }, [open]);
  const selectedReason = reasons.find((r) => r.id === selectedReasonId);
  const needsDetails = requireDetails || selectedReason?.requiresDetails;
  const isValid = selectedReasonId && (!needsDetails || details.trim().length > 0);
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!isValid || !onSubmit) return;
    onSubmit({
      reasonId: selectedReasonId,
      details: details.trim() || void 0
    });
  };
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "md", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: title }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      (description || itemDescription) && /* @__PURE__ */ jsxs("div", { className: "p-3 bg-gray-50 dark:bg-gray-800 rounded-lg", children: [
        description && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: description }),
        itemDescription && /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white mt-1", children: itemDescription })
      ] }),
      variant === "danger" && /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: [
        /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
              }
            )
          }
        ),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: "This action cannot be undone. The affected party will be notified of this rejection." })
      ] }),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2", children: "Reason for rejection" }),
        /* @__PURE__ */ jsx("div", { className: "space-y-2", children: reasons.map((reason) => /* @__PURE__ */ jsxs(
          "label",
          {
            className: `
                    flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors
                    ${selectedReasonId === reason.id ? "border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400" : "border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}
                  `,
            children: [
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "radio",
                  name: "rejection-reason",
                  value: reason.id,
                  checked: selectedReasonId === reason.id,
                  onChange: (e) => setSelectedReasonId(e.target.value),
                  className: "w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600"
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "text-sm text-gray-900 dark:text-white", children: reason.label }),
              reason.requiresDetails && /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-500 dark:text-gray-400", children: "(requires details)" })
            ]
          },
          reason.id
        )) })
      ] }),
      showDetails && /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsxs("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: [
          detailsLabel,
          needsDetails && /* @__PURE__ */ jsx("span", { className: "text-red-500 ml-1", children: "*" })
        ] }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 3,
            value: details,
            onChange: (e) => setDetails(e.target.value),
            placeholder: detailsPlaceholder,
            required: needsDetails
          }
        ),
        needsDetails && !details.trim() && selectedReasonId && /* @__PURE__ */ jsx("p", { className: "mt-1 text-xs text-red-500", children: "Please provide additional details for this rejection reason." })
      ] })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: cancelLabel
        }
      ),
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "submit",
          variant: variant === "danger" ? "danger" : "primary",
          disabled: !isValid || isSubmitting,
          children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsxs(
              "svg",
              {
                className: "animate-spin -ml-1 mr-2 h-4 w-4",
                fill: "none",
                viewBox: "0 0 24 24",
                children: [
                  /* @__PURE__ */ jsx(
                    "circle",
                    {
                      className: "opacity-25",
                      cx: "12",
                      cy: "12",
                      r: "10",
                      stroke: "currentColor",
                      strokeWidth: "4"
                    }
                  ),
                  /* @__PURE__ */ jsx(
                    "path",
                    {
                      className: "opacity-75",
                      fill: "currentColor",
                      d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                    }
                  )
                ]
              }
            ),
            "Processing..."
          ] }) : submitLabel
        }
      )
    ] })
  ] }) });
}
function ReportDashboard({
  title = "Reports & Analytics",
  dateRangeLabel = "Last 30 Days",
  metrics,
  chartData = [],
  topServices = [],
  topEmployers = [],
  onDateRangeChange,
  onExport,
  dateRangeOptions = [
    { value: "7d", label: "Last 7 Days" },
    { value: "30d", label: "Last 30 Days" },
    { value: "90d", label: "Last 90 Days" },
    { value: "ytd", label: "Year to Date" },
    { value: "12m", label: "Last 12 Months" }
  ],
  selectedDateRange = "30d",
  isLoading = false,
  className = ""
}) {
  const formatCurrency3 = (value) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(value);
  };
  const formatNumber = (value) => {
    return new Intl.NumberFormat("en-US").format(value);
  };
  const getTrendColor = (trend) => {
    switch (trend) {
      case "up":
        return "text-green-600 dark:text-green-400";
      case "down":
        return "text-red-600 dark:text-red-400";
      default:
        return "text-gray-500 dark:text-gray-400";
    }
  };
  const getTrendIcon = (trend) => {
    if (trend === "up") {
      return /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-4 h-4",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 2,
              d: "M5 10l7-7m0 0l7 7m-7-7v18"
            }
          )
        }
      );
    }
    if (trend === "down") {
      return /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-4 h-4",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 2,
              d: "M19 14l-7 7m0 0l-7-7m7 7V3"
            }
          )
        }
      );
    }
    return null;
  };
  const maxChartValue = Math.max(
    ...chartData.map((d) => Math.max(d.value, d.previousValue || 0)),
    1
  );
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-6 animate-pulse ${className}`, children: [
      /* @__PURE__ */ jsx("div", { className: "h-12 bg-gray-200 dark:bg-gray-700 rounded-lg w-1/3" }),
      /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [1, 2, 3, 4].map((i) => /* @__PURE__ */ jsx(
        "div",
        {
          className: "h-24 bg-gray-200 dark:bg-gray-700 rounded-lg"
        },
        i
      )) }),
      /* @__PURE__ */ jsx("div", { className: "h-64 bg-gray-200 dark:bg-gray-700 rounded-lg" })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: title }),
        /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: dateRangeLabel })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ jsx(
          Select,
          {
            options: dateRangeOptions,
            value: selectedDateRange,
            onValueChange: (value) => onDateRangeChange?.(value),
            className: "w-40"
          }
        ),
        onExport && /* @__PURE__ */ jsxs(Button, { variant: "outline", onClick: onExport, children: [
          /* @__PURE__ */ jsx(
            "svg",
            {
              className: "w-4 h-4 mr-2",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24",
              children: /* @__PURE__ */ jsx(
                "path",
                {
                  strokeLinecap: "round",
                  strokeLinejoin: "round",
                  strokeWidth: 2,
                  d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                }
              )
            }
          ),
          "Export"
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: metrics.map((metric, index) => /* @__PURE__ */ jsx(Card, { children: /* @__PURE__ */ jsxs(CardContent, { className: "p-4", children: [
      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: metric.label }),
      /* @__PURE__ */ jsx("p", { className: "text-2xl font-bold text-gray-900 dark:text-white mt-1", children: typeof metric.value === "number" ? metric.label.toLowerCase().includes("revenue") || metric.label.toLowerCase().includes("amount") ? formatCurrency3(metric.value) : formatNumber(metric.value) : metric.value }),
      (metric.change !== void 0 || metric.changeLabel) && /* @__PURE__ */ jsxs(
        "div",
        {
          className: `flex items-center gap-1 mt-2 text-sm ${getTrendColor(metric.trend)}`,
          children: [
            getTrendIcon(metric.trend),
            /* @__PURE__ */ jsxs("span", { children: [
              metric.change !== void 0 ? `${metric.change > 0 ? "+" : ""}${metric.change}%` : "",
              metric.changeLabel && ` ${metric.changeLabel}`
            ] })
          ]
        }
      )
    ] }) }, index)) }),
    chartData.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
      /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Order Volume" }) }),
      /* @__PURE__ */ jsxs(CardContent, { children: [
        /* @__PURE__ */ jsx("div", { className: "h-48 flex items-end gap-1", children: chartData.map((point, index) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "flex-1 flex flex-col items-center gap-1",
            children: [
              /* @__PURE__ */ jsxs("div", { className: "w-full flex items-end gap-0.5 h-40", children: [
                point.previousValue !== void 0 && /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: "flex-1 bg-gray-200 dark:bg-gray-700 rounded-t",
                    style: {
                      height: `${point.previousValue / maxChartValue * 100}%`
                    },
                    title: `Previous: ${point.previousValue}`
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: "flex-1 bg-blue-500 dark:bg-blue-400 rounded-t",
                    style: {
                      height: `${point.value / maxChartValue * 100}%`
                    },
                    title: `Current: ${point.value}`
                  }
                )
              ] }),
              /* @__PURE__ */ jsx("span", { className: "text-xs text-gray-500 dark:text-gray-400 truncate w-full text-center", children: point.label })
            ]
          },
          index
        )) }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-4 mt-4 text-sm", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("div", { className: "w-3 h-3 bg-blue-500 dark:bg-blue-400 rounded" }),
            /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-300", children: "Current Period" })
          ] }),
          chartData.some((d) => d.previousValue !== void 0) && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("div", { className: "w-3 h-3 bg-gray-200 dark:bg-gray-700 rounded" }),
            /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-300", children: "Previous Period" })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "grid md:grid-cols-2 gap-6", children: [
      topServices.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Top Services" }) }),
        /* @__PURE__ */ jsx(CardContent, { className: "space-y-3", children: topServices.map((service, index) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsx(Badge, { variant: "secondary", className: "w-6 h-6 justify-center", children: index + 1 }),
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: service.name }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: formatNumber(service.value) })
            ] }),
            service.percentage !== void 0 && /* @__PURE__ */ jsx("div", { className: "mt-1 h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden", children: /* @__PURE__ */ jsx(
              "div",
              {
                className: "h-full bg-blue-500 dark:bg-blue-400 rounded-full",
                style: { width: `${service.percentage}%` }
              }
            ) })
          ] })
        ] }, service.id)) })
      ] }),
      topEmployers.length > 0 && /* @__PURE__ */ jsxs(Card, { children: [
        /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Top Employers" }) }),
        /* @__PURE__ */ jsx(CardContent, { className: "space-y-3", children: topEmployers.map((employer, index) => /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsx(Badge, { variant: "secondary", className: "w-6 h-6 justify-center", children: index + 1 }),
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: employer.name }),
              /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-300", children: formatCurrency3(employer.value) })
            ] }),
            employer.percentage !== void 0 && /* @__PURE__ */ jsx("div", { className: "mt-1 h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden", children: /* @__PURE__ */ jsx(
              "div",
              {
                className: "h-full bg-green-500 dark:bg-green-400 rounded-full",
                style: { width: `${employer.percentage}%` }
              }
            ) })
          ] })
        ] }, employer.id)) })
      ] })
    ] })
  ] });
}
function ResultsEntryForm({
  employeeFirstName,
  employeeLastName,
  initialData = {},
  providerContacts = [],
  showFileUpload = false,
  showApplyToAll = true,
  onSubmit,
  labels = {},
  className
}) {
  const {
    testResults = "Test Results",
    passed = "Passed",
    failed = "Failed",
    alternateResultsText = "Alternate Results Text",
    dateDrawn = "Date Drawn",
    dateCompleted = "Date Completed",
    useResultsForAllServices = "Use results for all services",
    providerRecommendations = "Provider Recommendations",
    results = "Results",
    browseFiles = "Browse",
    provider = "Provider",
    noProviderContacts = "No Provider Contacts",
    noProviderContactsMessage = "You do not have providers associated to your provider organization.",
    addProviderContact = "Click here to add a provider contact",
    pleaseSelectResult = "Please select a result"
  } = labels;
  const [result, setResult] = React46.useState(
    initialData.result ?? null
  );
  const [alternateText, setAlternateText] = React46.useState(
    initialData.alternateText ?? ""
  );
  const [dateDrawnValue, setDateDrawnValue] = React46.useState(
    initialData.dateDrawn ?? ""
  );
  const [dateCompletedValue, setDateCompletedValue] = React46.useState(
    initialData.dateCompleted ?? ""
  );
  const [recommendations, setRecommendations] = React46.useState(
    initialData.recommendations ?? ""
  );
  const [files, setFiles] = React46.useState(initialData.files ?? []);
  const [selectedContacts, setSelectedContacts] = React46.useState(
    initialData.providerContacts ?? []
  );
  const [applyToAll, setApplyToAll] = React46.useState(
    initialData.applyToAllServices ?? false
  );
  const [showError, setShowError] = React46.useState(false);
  const fileInputRef = React46.useRef(null);
  const handleFileSelect = (e) => {
    const selectedFiles = Array.from(e.target.files || []);
    setFiles((prev) => [...prev, ...selectedFiles]);
    if (fileInputRef.current) {
      fileInputRef.current.value = "";
    }
  };
  const removeFile = (index) => {
    setFiles((prev) => prev.filter((_, i) => i !== index));
  };
  const handleContactToggle = (contactId) => {
    setSelectedContacts(
      (prev) => prev.includes(contactId) ? prev.filter((id) => id !== contactId) : [...prev, contactId]
    );
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("space-y-6", className), children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 sm:flex-row sm:items-center", children: [
      /* @__PURE__ */ jsxs("div", { className: "sm:w-1/2", children: [
        /* @__PURE__ */ jsx("span", { className: "mr-2 font-semibold", children: testResults }),
        /* @__PURE__ */ jsxs("div", { className: "mt-2 flex gap-4 sm:mt-0 sm:inline-flex", children: [
          /* @__PURE__ */ jsx(
            Radio,
            {
              name: "result",
              value: "passed",
              label: passed,
              checked: result === "passed",
              onChange: () => {
                setResult("passed");
                setShowError(false);
              }
            }
          ),
          /* @__PURE__ */ jsx(
            Radio,
            {
              name: "result",
              value: "failed",
              label: failed,
              checked: result === "failed",
              onChange: () => {
                setResult("failed");
                setShowError(false);
              }
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "sm:w-1/2", children: /* @__PURE__ */ jsx(
        Input,
        {
          label: alternateResultsText,
          value: alternateText,
          onChange: (e) => setAlternateText(e.target.value),
          placeholder: alternateResultsText
        }
      ) })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 sm:flex-row sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "sm:w-1/2", children: /* @__PURE__ */ jsxs("span", { className: "font-semibold", children: [
        dateDrawn,
        ":"
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "sm:w-1/2", children: /* @__PURE__ */ jsx(
        Input,
        {
          type: "date",
          label: dateDrawn,
          value: dateDrawnValue,
          onChange: (e) => setDateDrawnValue(e.target.value)
        }
      ) })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-4 sm:flex-row sm:items-center", children: [
      /* @__PURE__ */ jsx("div", { className: "sm:w-1/2", children: /* @__PURE__ */ jsxs("span", { className: "font-semibold", children: [
        dateCompleted,
        ":"
      ] }) }),
      /* @__PURE__ */ jsx("div", { className: "sm:w-1/2", children: /* @__PURE__ */ jsx(
        Input,
        {
          type: "date",
          label: dateCompleted,
          value: dateCompletedValue,
          onChange: (e) => setDateCompletedValue(e.target.value)
        }
      ) })
    ] }),
    showApplyToAll && /* @__PURE__ */ jsx("div", { className: "flex justify-end", children: /* @__PURE__ */ jsx(
      Checkbox,
      {
        id: "apply-to-all",
        label: useResultsForAllServices,
        checked: applyToAll,
        onChange: (e) => setApplyToAll(e.target.checked),
        labelPosition: "left"
      }
    ) }),
    /* @__PURE__ */ jsx("div", { children: /* @__PURE__ */ jsx(
      Textarea,
      {
        label: providerRecommendations,
        value: recommendations,
        onChange: (e) => setRecommendations(e.target.value),
        rows: 4,
        placeholder: providerRecommendations
      }
    ) }),
    showFileUpload && /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx("span", { className: "bg-muted border-input rounded-l-md border border-r-0 px-3 py-2 text-sm font-medium", children: results }),
        /* @__PURE__ */ jsx(
          Input,
          {
            value: files.map((f) => f.name).join(", "),
            readOnly: true,
            className: "rounded-none border-r-0 border-l-0",
            placeholder: "No files selected"
          }
        ),
        /* @__PURE__ */ jsx(
          "input",
          {
            ref: fileInputRef,
            type: "file",
            multiple: true,
            className: "hidden",
            onChange: handleFileSelect
          }
        ),
        /* @__PURE__ */ jsxs(
          Button,
          {
            type: "button",
            variant: "secondary",
            className: "rounded-l-none",
            onClick: () => fileInputRef.current?.click(),
            children: [
              /* @__PURE__ */ jsx(FileUp, { className: "mr-2 h-4 w-4" }),
              browseFiles
            ]
          }
        )
      ] }),
      files.length > 0 && /* @__PURE__ */ jsx("div", { className: "mt-2 space-y-1", children: files.map((file, index) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "bg-muted/50 flex items-center justify-between rounded px-3 py-1.5 text-sm",
          children: [
            /* @__PURE__ */ jsx("span", { className: "truncate", children: file.name }),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: () => removeFile(index),
                className: "text-muted-foreground hover:text-destructive ml-2",
                children: /* @__PURE__ */ jsx(X, { className: "h-4 w-4" })
              }
            )
          ]
        },
        index
      )) })
    ] }),
    providerContacts.length > 0 ? /* @__PURE__ */ jsxs("div", { children: [
      /* @__PURE__ */ jsx("h5", { className: "mb-2 font-semibold", children: provider }),
      /* @__PURE__ */ jsx("hr", { className: "mb-3" }),
      /* @__PURE__ */ jsx("div", { className: "max-h-40 space-y-2 overflow-y-auto", children: providerContacts.map((contact) => /* @__PURE__ */ jsxs(
        "div",
        {
          className: "hover:bg-muted/50 flex items-center gap-3 rounded px-3 py-2",
          children: [
            /* @__PURE__ */ jsx(
              Checkbox,
              {
                id: `contact-${contact.id}`,
                checked: selectedContacts.includes(contact.id),
                onChange: () => handleContactToggle(contact.id)
              }
            ),
            /* @__PURE__ */ jsxs(
              "label",
              {
                htmlFor: `contact-${contact.id}`,
                className: "cursor-pointer text-sm",
                children: [
                  contact.firstName,
                  " ",
                  contact.lastName,
                  contact.degree && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground", children: [
                    " ",
                    "| ",
                    contact.degree
                  ] }),
                  contact.positionTitle && /* @__PURE__ */ jsxs("span", { className: "text-muted-foreground", children: [
                    " ",
                    "| ",
                    contact.positionTitle
                  ] })
                ]
              }
            )
          ]
        },
        contact.id
      )) })
    ] }) : showFileUpload && /* @__PURE__ */ jsxs("div", { className: "bg-warning/10 border-warning/30 rounded-lg border p-4", children: [
      /* @__PURE__ */ jsxs("h4", { className: "flex items-center gap-2 font-semibold", children: [
        /* @__PURE__ */ jsx(AlertCircle, { className: "text-warning h-5 w-5" }),
        noProviderContacts
      ] }),
      /* @__PURE__ */ jsx("p", { className: "text-muted-foreground mt-1 text-sm", children: noProviderContactsMessage }),
      /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          className: "text-primary mt-2 inline-block text-sm hover:underline",
          children: addProviderContact
        }
      )
    ] }),
    showError && /* @__PURE__ */ jsx("p", { className: "text-destructive text-sm font-medium", children: pleaseSelectResult })
  ] });
}
function ResultsEntryCard({
  serviceName,
  employeeFirstName,
  employeeLastName,
  isOpen = true,
  onClose,
  onSubmit,
  labels = {},
  ...props
}) {
  const { submit = "Submit", close = "Close" } = labels;
  const employeeName = employeeFirstName || employeeLastName ? `${employeeFirstName ?? ""} ${employeeLastName ?? ""}`.trim() : void 0;
  if (!isOpen) return null;
  const handleSubmit = (data) => {
    onSubmit(data);
    onClose();
  };
  return /* @__PURE__ */ jsxs("div", { className: "bg-background w-full max-w-2xl rounded-lg border shadow-lg", children: [
    /* @__PURE__ */ jsxs("div", { className: "bg-primary text-primary-foreground rounded-t-lg p-4", children: [
      /* @__PURE__ */ jsx("h4", { className: "text-lg font-semibold", children: serviceName }),
      employeeName && /* @__PURE__ */ jsx("p", { className: "text-sm opacity-90", children: employeeName })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "p-6", children: /* @__PURE__ */ jsx(
      ResultsEntryForm,
      {
        serviceName,
        employeeFirstName,
        employeeLastName,
        onSubmit: handleSubmit,
        labels,
        ...props
      }
    ) }),
    /* @__PURE__ */ jsxs("div", { className: "flex justify-end gap-3 border-t p-4", children: [
      /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: onClose, children: close }),
      /* @__PURE__ */ jsx(
        Button,
        {
          onClick: () => {
            const form = document.querySelector("[data-results-form]");
            if (form) {
              form.dispatchEvent(new Event("submit", { bubbles: true }));
            }
          },
          children: submit
        }
      )
    ] })
  ] });
}
function ScheduleCalendar({
  appointments,
  selectedDate = /* @__PURE__ */ new Date(),
  onDateSelect,
  onAppointmentClick,
  onAddAppointment,
  view = "day",
  startHour = 7,
  endHour = 18,
  isLoading = false,
  className = ""
}) {
  const [currentDate, setCurrentDate] = React46.useState(selectedDate);
  const formatTime4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleTimeString("en-US", {
      hour: "numeric",
      minute: "2-digit",
      hour12: true
    });
  };
  const isSameDay = (date1, date2) => {
    return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
  };
  const getStatusColor = (status) => {
    switch (status) {
      case "confirmed":
        return "bg-blue-500 border-blue-600";
      case "pending":
        return "bg-yellow-500 border-yellow-600";
      case "completed":
        return "bg-green-500 border-green-600";
      case "cancelled":
        return "bg-gray-400 border-gray-500";
      case "no-show":
        return "bg-red-500 border-red-600";
      default:
        return "bg-blue-500 border-blue-600";
    }
  };
  const hours = Array.from(
    { length: endHour - startHour + 1 },
    (_, i) => startHour + i
  );
  const getWeekDates = (date) => {
    const day = date.getDay();
    const start = new Date(date);
    start.setDate(date.getDate() - day);
    return Array.from({ length: 7 }, (_, i) => {
      const d = new Date(start);
      d.setDate(start.getDate() + i);
      return d;
    });
  };
  const navigateDate = (direction) => {
    const newDate = new Date(currentDate);
    if (view === "day") {
      newDate.setDate(currentDate.getDate() + (direction === "next" ? 1 : -1));
    } else {
      newDate.setDate(currentDate.getDate() + (direction === "next" ? 7 : -7));
    }
    setCurrentDate(newDate);
    onDateSelect?.(newDate);
  };
  const goToToday = () => {
    const today = /* @__PURE__ */ new Date();
    setCurrentDate(today);
    onDateSelect?.(today);
  };
  const getAppointmentsForDate = (date) => {
    return appointments.filter((apt) => {
      const aptDate = typeof apt.startTime === "string" ? new Date(apt.startTime) : apt.startTime;
      return isSameDay(aptDate, date);
    });
  };
  const getAppointmentPosition = (appointment) => {
    const start = typeof appointment.startTime === "string" ? new Date(appointment.startTime) : appointment.startTime;
    const end = appointment.endTime ? typeof appointment.endTime === "string" ? new Date(appointment.endTime) : appointment.endTime : new Date(start.getTime() + 30 * 60 * 1e3);
    const startMinutes = (start.getHours() - startHour) * 60 + start.getMinutes();
    const duration = (end.getTime() - start.getTime()) / (1e3 * 60);
    return {
      top: `${startMinutes / 60 * 4}rem`,
      height: `${duration / 60 * 4}rem`
    };
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${className}`, children: [
      /* @__PURE__ */ jsx("div", { className: "h-12 bg-gray-200 dark:bg-gray-700 rounded-t-lg animate-pulse" }),
      /* @__PURE__ */ jsx("div", { className: "p-4 space-y-2", children: [1, 2, 3, 4, 5].map((i) => /* @__PURE__ */ jsx("div", { className: "h-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse" }, i)) })
    ] });
  }
  const weekDates = view === "week" ? getWeekDates(currentDate) : [currentDate];
  return /* @__PURE__ */ jsxs("div", { className: `bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsx(Button, { variant: "outline", size: "sm", onClick: () => navigateDate("prev"), children: /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 19l-7-7 7-7" }) }) }),
        /* @__PURE__ */ jsx(Button, { variant: "outline", size: "sm", onClick: () => navigateDate("next"), children: /* @__PURE__ */ jsx("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5l7 7-7 7" }) }) }),
        /* @__PURE__ */ jsx(Button, { variant: "ghost", size: "sm", onClick: goToToday, children: "Today" })
      ] }),
      /* @__PURE__ */ jsx("h2", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: view === "day" ? currentDate.toLocaleDateString("en-US", {
        weekday: "long",
        month: "long",
        day: "numeric",
        year: "numeric"
      }) : `Week of ${weekDates[0].toLocaleDateString("en-US", { month: "short", day: "numeric" })}` }),
      /* @__PURE__ */ jsx("div", { className: "flex items-center gap-2", children: onAddAppointment && /* @__PURE__ */ jsx(Button, { size: "sm", onClick: () => onAddAppointment(currentDate), children: "Add Appointment" }) })
    ] }),
    /* @__PURE__ */ jsx("div", { className: "overflow-auto", children: /* @__PURE__ */ jsxs("div", { className: "min-w-[600px]", children: [
      view === "week" && /* @__PURE__ */ jsxs("div", { className: "flex border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("div", { className: "w-16 flex-shrink-0" }),
        weekDates.map((date, i) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: `flex-1 p-2 text-center border-l border-gray-200 dark:border-gray-700 ${isSameDay(date, /* @__PURE__ */ new Date()) ? "bg-blue-50 dark:bg-blue-900/20" : ""}`,
            children: [
              /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: date.toLocaleDateString("en-US", { weekday: "short" }) }),
              /* @__PURE__ */ jsx(
                "p",
                {
                  className: `text-lg font-semibold ${isSameDay(date, /* @__PURE__ */ new Date()) ? "text-blue-600 dark:text-blue-400" : "text-gray-900 dark:text-white"}`,
                  children: date.getDate()
                }
              )
            ]
          },
          i
        ))
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex", children: [
        /* @__PURE__ */ jsx("div", { className: "w-16 flex-shrink-0", children: hours.map((hour) => /* @__PURE__ */ jsx(
          "div",
          {
            className: "h-16 pr-2 text-right text-xs text-gray-500 dark:text-gray-400",
            children: new Date(2e3, 0, 1, hour).toLocaleTimeString("en-US", {
              hour: "numeric",
              hour12: true
            })
          },
          hour
        )) }),
        weekDates.map((date, dayIndex) => {
          const dayAppointments = getAppointmentsForDate(date);
          return /* @__PURE__ */ jsxs(
            "div",
            {
              className: `flex-1 relative border-l border-gray-200 dark:border-gray-700 ${view === "week" && isSameDay(date, /* @__PURE__ */ new Date()) ? "bg-blue-50/50 dark:bg-blue-900/10" : ""}`,
              children: [
                hours.map((hour) => /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: "h-16 border-b border-gray-100 dark:border-gray-800",
                    onClick: () => {
                      if (onAddAppointment) {
                        const clickDate = new Date(date);
                        clickDate.setHours(hour, 0, 0, 0);
                        onAddAppointment(clickDate, `${hour}:00`);
                      }
                    }
                  },
                  hour
                )),
                dayAppointments.map((appointment) => {
                  const position = getAppointmentPosition(appointment);
                  return /* @__PURE__ */ jsxs(
                    "div",
                    {
                      className: `absolute left-1 right-1 px-2 py-1 rounded text-white text-xs cursor-pointer overflow-hidden border-l-4 ${getStatusColor(appointment.status)}`,
                      style: {
                        top: position.top,
                        height: position.height,
                        minHeight: "1.5rem"
                      },
                      onClick: () => onAppointmentClick?.(appointment),
                      children: [
                        /* @__PURE__ */ jsx("p", { className: "font-medium truncate", children: appointment.patientName || appointment.title }),
                        /* @__PURE__ */ jsx("p", { className: "opacity-80 truncate", children: formatTime4(appointment.startTime) })
                      ]
                    },
                    appointment.id
                  );
                })
              ]
            },
            dayIndex
          );
        })
      ] })
    ] }) }),
    /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-4 p-4 border-t border-gray-200 dark:border-gray-700 text-xs", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
        /* @__PURE__ */ jsx("span", { className: "w-3 h-3 rounded bg-blue-500" }),
        /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Confirmed" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
        /* @__PURE__ */ jsx("span", { className: "w-3 h-3 rounded bg-yellow-500" }),
        /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Pending" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
        /* @__PURE__ */ jsx("span", { className: "w-3 h-3 rounded bg-green-500" }),
        /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Completed" })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-1", children: [
        /* @__PURE__ */ jsx("span", { className: "w-3 h-3 rounded bg-gray-400" }),
        /* @__PURE__ */ jsx("span", { className: "text-gray-600 dark:text-gray-400", children: "Cancelled" })
      ] })
    ] })
  ] });
}
var accordionVariants = cva(
  "service-accordion divide-y divide-neutral-200 dark:divide-neutral-700",
  {
    variants: {
      variant: {
        default: "",
        bordered: "border border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden",
        cards: "space-y-3"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
var categoryHeaderVariants = cva(
  [
    "w-full flex items-center justify-between py-4 px-4 text-left",
    "transition-colors",
    "focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"
  ],
  {
    variants: {
      variant: {
        default: "hover:bg-neutral-50 dark:hover:bg-neutral-800/50",
        bordered: "hover:bg-neutral-50 dark:hover:bg-neutral-800/50",
        cards: "bg-white dark:bg-neutral-800 rounded-lg shadow-sm hover:shadow-md border border-neutral-200 dark:border-neutral-700"
      },
      isExpanded: {
        true: "",
        false: ""
      }
    },
    compoundVariants: [
      {
        variant: "cards",
        isExpanded: true,
        className: "rounded-b-none"
      }
    ],
    defaultVariants: {
      variant: "default",
      isExpanded: false
    }
  }
);
var serviceLinkVariants = cva(
  [
    "flex items-center gap-2 py-2 px-3 rounded-md",
    "text-neutral-700 dark:text-neutral-300",
    "hover:bg-neutral-100 dark:hover:bg-neutral-700/50 hover:text-primary-600 dark:hover:text-primary-400",
    "transition-colors",
    "focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"
  ],
  {
    variants: {
      size: {
        sm: "text-sm py-1.5",
        md: "text-base py-2",
        lg: "text-lg py-2.5"
      }
    },
    defaultVariants: {
      size: "md"
    }
  }
);
function ChevronDownIcon3({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-5 w-5", className),
      "aria-hidden": "true",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          d: "M5.22 8.22a.75.75 0 011.06 0L10 11.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.22 9.28a.75.75 0 010-1.06z",
          clipRule: "evenodd"
        }
      )
    }
  );
}
function LinkIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 20 20",
      fill: "currentColor",
      className: cn("h-4 w-4", className),
      "aria-hidden": "true",
      children: [
        /* @__PURE__ */ jsx("path", { d: "M12.232 4.232a2.5 2.5 0 013.536 3.536l-1.225 1.224a.75.75 0 001.061 1.06l1.224-1.224a4 4 0 00-5.656-5.656l-3 3a4 4 0 00.225 5.865.75.75 0 00.977-1.138 2.5 2.5 0 01-.142-3.667l3-3z" }),
        /* @__PURE__ */ jsx("path", { d: "M11.603 7.963a.75.75 0 00-.977 1.138 2.5 2.5 0 01.142 3.667l-3 3a2.5 2.5 0 01-3.536-3.536l1.225-1.224a.75.75 0 00-1.061-1.06l-1.224 1.224a4 4 0 105.656 5.656l3-3a4 4 0 00-.225-5.865z" })
      ]
    }
  );
}
function ServiceLink({
  service,
  basePath = "/service",
  size = "md",
  onClick
}) {
  const handleClick = (e) => {
    if (onClick) {
      e.preventDefault();
      onClick(service);
    }
  };
  return /* @__PURE__ */ jsxs(
    "a",
    {
      href: `${basePath}/${service.slug}`,
      onClick: handleClick,
      className: serviceLinkVariants({ size }),
      "data-cy": `service-link-${service.slug}`,
      children: [
        /* @__PURE__ */ jsx(LinkIcon, { className: "flex-shrink-0 text-neutral-400" }),
        /* @__PURE__ */ jsx("span", { className: "flex-grow", children: service.name }),
        service.providerCount !== void 0 && /* @__PURE__ */ jsxs("span", { className: "ml-2 text-xs text-neutral-400 dark:text-neutral-500", children: [
          "(",
          service.providerCount,
          ")"
        ] })
      ]
    }
  );
}
function SubCategoryAccordion({
  subCategory,
  basePath,
  onServiceClick,
  index
}) {
  const [isExpanded, setIsExpanded] = React46.useState(
    subCategory.defaultExpanded ?? false
  );
  const contentId = `sub-content-${index}`;
  return /* @__PURE__ */ jsxs("div", { className: "sub-category", children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => setIsExpanded(!isExpanded),
        className: cn(
          "flex w-full items-center justify-between px-3 py-2",
          "text-left font-medium text-neutral-700 dark:text-neutral-200",
          "hover:text-primary-600 dark:hover:text-primary-400",
          "focus-visible:ring-primary-500 focus:outline-none focus-visible:ring-2"
        ),
        "aria-expanded": isExpanded,
        "aria-controls": contentId,
        "data-cy": `btn-sub-service-${index}`,
        children: [
          /* @__PURE__ */ jsx("span", { children: subCategory.name }),
          /* @__PURE__ */ jsx(
            ChevronDownIcon3,
            {
              className: cn(
                "transition-transform duration-200",
                isExpanded && "rotate-180"
              )
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx(
      "div",
      {
        id: contentId,
        className: cn(
          "overflow-hidden transition-all duration-200 ease-in-out",
          isExpanded ? "max-h-[1000px] opacity-100" : "max-h-0 opacity-0"
        ),
        "aria-hidden": !isExpanded,
        children: /* @__PURE__ */ jsx("div", { className: "space-y-1 pb-2 pl-4", children: subCategory.services.map((service, serviceIdx) => /* @__PURE__ */ jsx(
          ServiceLink,
          {
            service,
            basePath,
            size: "sm",
            onClick: onServiceClick
          },
          serviceIdx
        )) })
      }
    )
  ] });
}
function CategoryAccordionItem({
  category,
  variant = "default",
  basePath,
  onServiceClick,
  index,
  allowMultiple = true,
  expandedCategories,
  onExpandChange
}) {
  const isControlled = expandedCategories !== void 0;
  const [internalExpanded, setInternalExpanded] = React46.useState(
    category.defaultExpanded ?? false
  );
  const isExpanded = isControlled ? expandedCategories.includes(category.name) : internalExpanded;
  const contentId = `category-content-${index}`;
  const handleToggle = () => {
    if (isControlled && onExpandChange) {
      onExpandChange(category.name, !isExpanded);
    } else {
      setInternalExpanded(!isExpanded);
    }
  };
  const hasContent = category.services && category.services.length > 0 || category.subCategories && category.subCategories.length > 0;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        variant === "cards" && "overflow-hidden rounded-lg",
        variant === "cards" && isExpanded && "shadow-md"
      ),
      children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: handleToggle,
            className: categoryHeaderVariants({ variant, isExpanded }),
            "aria-expanded": isExpanded,
            "aria-controls": contentId,
            "data-cy": `btn-category-${index}`,
            children: [
              /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
                category.icon && /* @__PURE__ */ jsx("span", { className: "text-primary-500 dark:text-primary-400", children: typeof category.icon === "string" ? /* @__PURE__ */ jsx("span", { className: "text-xl", children: category.icon }) : category.icon }),
                /* @__PURE__ */ jsx("span", { className: "font-semibold text-neutral-900 dark:text-white", children: category.name })
              ] }),
              hasContent && /* @__PURE__ */ jsx(
                ChevronDownIcon3,
                {
                  className: cn(
                    "text-neutral-500 transition-transform duration-200",
                    isExpanded && "rotate-180"
                  )
                }
              )
            ]
          }
        ),
        hasContent && /* @__PURE__ */ jsx(
          "div",
          {
            id: contentId,
            className: cn(
              "overflow-hidden transition-all duration-200 ease-in-out",
              isExpanded ? "max-h-[2000px] opacity-100" : "max-h-0 opacity-0",
              variant === "cards" && "rounded-b-lg border border-t-0 border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-800"
            ),
            "aria-hidden": !isExpanded,
            children: /* @__PURE__ */ jsxs("div", { className: "space-y-2 p-4", children: [
              category.services && category.services.length > 0 && /* @__PURE__ */ jsx("div", { className: "space-y-1", children: category.services.map((service, serviceIdx) => /* @__PURE__ */ jsx(
                ServiceLink,
                {
                  service,
                  basePath,
                  onClick: onServiceClick
                },
                serviceIdx
              )) }),
              category.subCategories && category.subCategories.length > 0 && /* @__PURE__ */ jsx("div", { className: "space-y-2", children: category.subCategories.map((subCat, subIdx) => /* @__PURE__ */ jsx(
                SubCategoryAccordion,
                {
                  subCategory: subCat,
                  basePath,
                  onServiceClick,
                  index: subIdx
                },
                subIdx
              )) })
            ] })
          }
        )
      ]
    }
  );
}
function ServiceAccordion({
  categories,
  variant = "default",
  basePath = "/service",
  onServiceClick,
  allowMultiple = true,
  expandedCategories: controlledExpanded,
  onExpandedChange,
  className
}) {
  const [internalExpanded, setInternalExpanded] = React46.useState([]);
  const isControlled = controlledExpanded !== void 0;
  const expanded = isControlled ? controlledExpanded : internalExpanded;
  const handleExpandChange = (categoryName, isExpanded) => {
    let newExpanded;
    if (isExpanded) {
      if (allowMultiple) {
        newExpanded = [...expanded, categoryName];
      } else {
        newExpanded = [categoryName];
      }
    } else {
      newExpanded = expanded.filter((name) => name !== categoryName);
    }
    if (isControlled && onExpandedChange) {
      onExpandedChange(newExpanded);
    } else {
      setInternalExpanded(newExpanded);
    }
  };
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(accordionVariants({ variant }), className),
      role: "region",
      "aria-label": "Service categories",
      children: categories.map((category, index) => /* @__PURE__ */ jsx(
        CategoryAccordionItem,
        {
          category,
          variant: variant ?? "default",
          basePath,
          onServiceClick,
          index,
          allowMultiple,
          expandedCategories: expanded,
          onExpandChange: handleExpandChange
        },
        index
      ))
    }
  );
}
function ServiceTagCloud({
  services,
  basePath = "/service",
  onServiceClick,
  showCounts = false,
  maxItems,
  className
}) {
  const displayedServices = maxItems ? services.slice(0, maxItems) : services;
  const hasMore = maxItems && services.length > maxItems;
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap gap-2", className), children: [
    displayedServices.map((service, index) => /* @__PURE__ */ jsxs(
      "a",
      {
        href: `${basePath}/${service.slug}`,
        onClick: (e) => {
          if (onServiceClick) {
            e.preventDefault();
            onServiceClick(service);
          }
        },
        className: cn(
          "inline-flex items-center gap-1.5 rounded-full px-3 py-1.5",
          "text-sm font-medium",
          "bg-primary-100 text-primary-800 hover:bg-primary-200",
          "dark:bg-primary-900/30 dark:text-primary-300 dark:hover:bg-primary-900/50",
          "transition-colors",
          "focus-visible:ring-primary-500 focus:outline-none focus-visible:ring-2"
        ),
        "data-cy": `service-tag-${service.slug}`,
        children: [
          service.name,
          showCounts && service.providerCount !== void 0 && /* @__PURE__ */ jsxs("span", { className: "text-xs opacity-70", children: [
            "(",
            service.providerCount,
            ")"
          ] })
        ]
      },
      index
    )),
    hasMore && /* @__PURE__ */ jsxs("span", { className: "inline-flex items-center px-3 py-1.5 text-sm text-neutral-500 dark:text-neutral-400", children: [
      "+",
      services.length - (maxItems || 0),
      " more"
    ] })
  ] });
}
function ServiceList({
  services,
  basePath = "/service",
  onServiceClick,
  columns = 1,
  showCounts = false,
  className
}) {
  const gridClasses = {
    1: "grid-cols-1",
    2: "grid-cols-1 sm:grid-cols-2",
    3: "grid-cols-1 sm:grid-cols-2 md:grid-cols-3",
    4: "grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"
  };
  return /* @__PURE__ */ jsx("ul", { className: cn("grid gap-1", gridClasses[columns], className), children: services.map((service, index) => /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(
    "a",
    {
      href: `${basePath}/${service.slug}`,
      onClick: (e) => {
        if (onServiceClick) {
          e.preventDefault();
          onServiceClick(service);
        }
      },
      className: cn(
        "flex items-center gap-2 py-1.5",
        "text-neutral-700 dark:text-neutral-300",
        "hover:text-primary-600 dark:hover:text-primary-400",
        "transition-colors"
      ),
      children: [
        /* @__PURE__ */ jsx("span", { className: "flex-grow", children: service.name }),
        showCounts && service.providerCount !== void 0 && /* @__PURE__ */ jsxs("span", { className: "text-xs text-neutral-400", children: [
          service.providerCount,
          " providers"
        ] })
      ]
    }
  ) }, index)) });
}
var serviceBadgeVariants = cva(
  "inline-flex items-center font-medium transition-colors",
  {
    variants: {
      variant: {
        default: "bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400",
        secondary: "bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",
        success: "bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",
        warning: "bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",
        danger: "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",
        info: "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",
        outline: "border border-gray-300 text-gray-700 bg-transparent dark:border-gray-600 dark:text-gray-300",
        ghost: "text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"
      },
      size: {
        xs: "text-xs px-1.5 py-0.5 rounded",
        sm: "text-xs px-2 py-1 rounded-md",
        md: "text-sm px-2.5 py-1.5 rounded-md",
        lg: "text-sm px-3 py-2 rounded-lg",
        xl: "text-base px-4 py-2.5 rounded-lg"
      },
      interactive: {
        true: "cursor-pointer hover:opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-1",
        false: ""
      }
    },
    compoundVariants: [
      {
        variant: "default",
        interactive: true,
        className: "hover:bg-primary-200 dark:hover:bg-primary-900/50 focus:ring-primary-500"
      },
      {
        variant: "secondary",
        interactive: true,
        className: "hover:bg-gray-200 dark:hover:bg-gray-700 focus:ring-gray-500"
      },
      {
        variant: "success",
        interactive: true,
        className: "hover:bg-green-200 dark:hover:bg-green-900/50 focus:ring-green-500"
      },
      {
        variant: "warning",
        interactive: true,
        className: "hover:bg-yellow-200 dark:hover:bg-yellow-900/50 focus:ring-yellow-500"
      },
      {
        variant: "danger",
        interactive: true,
        className: "hover:bg-red-200 dark:hover:bg-red-900/50 focus:ring-red-500"
      },
      {
        variant: "info",
        interactive: true,
        className: "hover:bg-blue-200 dark:hover:bg-blue-900/50 focus:ring-blue-500"
      },
      {
        variant: "outline",
        interactive: true,
        className: "hover:bg-gray-50 dark:hover:bg-gray-800 focus:ring-gray-500"
      }
    ],
    defaultVariants: {
      variant: "default",
      size: "md",
      interactive: false
    }
  }
);
function ServiceBadge({
  children,
  variant,
  size,
  interactive,
  href,
  onClick,
  icon,
  onRemove,
  removable = false,
  className,
  ...props
}) {
  const isClickable = Boolean(href || onClick);
  const isInteractive = interactive ?? isClickable;
  const content = /* @__PURE__ */ jsxs(Fragment, { children: [
    icon && /* @__PURE__ */ jsx("span", { className: "mr-1 flex-shrink-0", children: icon }),
    /* @__PURE__ */ jsx("span", { className: "truncate", children }),
    removable && onRemove && /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: (e) => {
          e.preventDefault();
          e.stopPropagation();
          onRemove();
        },
        className: "ml-1 flex-shrink-0 rounded-full p-0.5 transition-colors hover:bg-black/10 dark:hover:bg-white/10",
        "aria-label": `Remove ${children}`,
        children: /* @__PURE__ */ jsx(CloseIcon4, { className: "h-3 w-3" })
      }
    )
  ] });
  const classes = cn(
    serviceBadgeVariants({
      variant: variant ?? "default",
      size: size ?? "md",
      interactive: isInteractive
    }),
    className
  );
  if (href) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href,
        className: classes,
        ...props,
        children: content
      }
    );
  }
  if (onClick) {
    return /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick,
        className: classes,
        ...props,
        children: content
      }
    );
  }
  return /* @__PURE__ */ jsx("span", { className: classes, ...props, children: content });
}
function ServiceBadgeGroup({
  children,
  className,
  maxVisible,
  size = "md",
  onShowMore
}) {
  const badges = React46.Children.toArray(children);
  const visibleBadges = maxVisible ? badges.slice(0, maxVisible) : badges;
  const hiddenCount = maxVisible ? badges.length - maxVisible : 0;
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap gap-2", className), children: [
    visibleBadges,
    hiddenCount > 0 && /* @__PURE__ */ jsxs(
      ServiceBadge,
      {
        variant: "secondary",
        size,
        interactive: Boolean(onShowMore),
        onClick: onShowMore,
        children: [
          "+",
          hiddenCount,
          " more"
        ]
      }
    )
  ] });
}
function ServiceCategoryBadge({
  category = "other",
  children,
  ...props
}) {
  const icons = {
    "drug-testing": /* @__PURE__ */ jsx(TestTubeIcon, { className: "h-3.5 w-3.5" }),
    medical: /* @__PURE__ */ jsx(MedicalIcon, { className: "h-3.5 w-3.5" }),
    occupational: /* @__PURE__ */ jsx(BriefcaseIcon, { className: "h-3.5 w-3.5" }),
    wellness: /* @__PURE__ */ jsx(HeartIcon, { className: "h-3.5 w-3.5" }),
    lab: /* @__PURE__ */ jsx(LabIcon, { className: "h-3.5 w-3.5" }),
    other: /* @__PURE__ */ jsx(TagIcon, { className: "h-3.5 w-3.5" })
  };
  return /* @__PURE__ */ jsx(ServiceBadge, { icon: icons[category], ...props, children });
}
function ServiceTagCloudBadges({
  services,
  variant = "default",
  size = "md",
  onServiceClick,
  maxVisible,
  showCounts = false,
  className
}) {
  const visibleServices = maxVisible ? services.slice(0, maxVisible) : services;
  const hiddenCount = maxVisible ? services.length - maxVisible : 0;
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap gap-2", className), children: [
    visibleServices.map((service) => /* @__PURE__ */ jsxs(
      ServiceBadge,
      {
        variant,
        size,
        onClick: onServiceClick ? () => onServiceClick(service.slug) : void 0,
        href: onServiceClick ? void 0 : `/service/${service.slug}`,
        children: [
          service.name,
          showCounts && service.count !== void 0 && /* @__PURE__ */ jsxs("span", { className: "ml-1 opacity-70", children: [
            "(",
            service.count,
            ")"
          ] })
        ]
      },
      service.id
    )),
    hiddenCount > 0 && /* @__PURE__ */ jsxs(ServiceBadge, { variant: "secondary", size, children: [
      "+",
      hiddenCount,
      " more"
    ] })
  ] });
}
function SelectedServicesBadges({
  services,
  onRemove,
  onClearAll,
  variant = "default",
  size = "sm",
  className
}) {
  if (services.length === 0) {
    return null;
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap items-center gap-2", className), children: [
    services.map((service) => /* @__PURE__ */ jsx(
      ServiceBadge,
      {
        variant,
        size,
        removable: true,
        onRemove: () => onRemove(service.slug),
        children: service.name
      },
      service.id
    )),
    onClearAll && services.length > 1 && /* @__PURE__ */ jsx(
      "button",
      {
        type: "button",
        onClick: onClearAll,
        className: "ml-1 text-xs text-gray-500 underline hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",
        children: "Clear all"
      }
    )
  ] });
}
var dotVariants = {
  "dot-certified": {
    label: "DOT Certified",
    className: "bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"
  },
  "non-dot": {
    label: "Non-DOT",
    className: "bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"
  },
  fmcsa: {
    label: "FMCSA",
    className: "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"
  },
  faa: {
    label: "FAA",
    className: "bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400"
  },
  uscg: {
    label: "USCG",
    className: "bg-navy-100 text-navy-700 dark:bg-navy-900/30 dark:text-navy-400 bg-blue-900 text-white dark:bg-blue-800"
  },
  phmsa: {
    label: "PHMSA",
    className: "bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"
  },
  fra: {
    label: "FRA",
    className: "bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"
  }
};
function DOTBadge({
  type,
  children,
  className,
  size,
  ...props
}) {
  const config = dotVariants[type] || dotVariants["non-dot"];
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "inline-flex items-center rounded-md font-medium",
        config.className,
        size === "xs" && "px-1.5 py-0.5 text-xs",
        size === "sm" && "px-2 py-1 text-xs",
        (size === "md" || !size) && "px-2.5 py-1.5 text-sm",
        size === "lg" && "px-3 py-2 text-sm",
        size === "xl" && "px-4 py-2.5 text-base",
        className
      ),
      ...props,
      children: [
        /* @__PURE__ */ jsx(DOTIcon, { className: "mr-1 h-3.5 w-3.5" }),
        children || config.label
      ]
    }
  );
}
function CloseIcon4({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function TestTubeIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M7 2v2h1v14a4 4 0 0 0 8 0V4h1V2H7zm6 2v6h-2V4h2zm-2 8h2v6a2 2 0 1 1-4 0v-2.5l2-1.5V12z" })
    }
  );
}
function MedicalIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" })
    }
  );
}
function BriefcaseIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" })
    }
  );
}
function HeartIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" })
    }
  );
}
function LabIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19.8 18.4L14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6z" })
    }
  );
}
function TagIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z" })
    }
  );
}
function DOTIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" })
    }
  );
}
function formatCurrency2(amount, currency = "USD") {
  return new Intl.NumberFormat("en-US", {
    style: "currency",
    currency
  }).format(amount);
}
function ServiceCard({
  id,
  name,
  description,
  price,
  currency = "USD",
  currentlyOffered = true,
  limitedInventory = false,
  inventoryCount,
  inventoryTotal,
  hasCustomAvailability = false,
  customPricingCount = 0,
  category,
  tags = [],
  onClick,
  onEdit,
  onManage,
  onDelete,
  selected = false,
  className = ""
}) {
  const handleCardClick = () => {
    if (onClick) {
      onClick(id);
    }
  };
  const handleEditClick = (e) => {
    e.stopPropagation();
    if (onEdit) {
      onEdit(id);
    }
  };
  const handleManageClick = (e) => {
    e.stopPropagation();
    if (onManage) {
      onManage(id);
    }
  };
  const handleDeleteClick = (e) => {
    e.stopPropagation();
    if (onDelete) {
      onDelete(id);
    }
  };
  const showInventory = limitedInventory && inventoryCount !== void 0;
  const isLowInventory = showInventory && inventoryTotal && inventoryCount / inventoryTotal < 0.2;
  return /* @__PURE__ */ jsx(
    Card,
    {
      className: `
        h-full transition-all duration-200
        ${onClick ? "cursor-pointer hover:shadow-md" : ""}
        ${selected ? "ring-2 ring-blue-500 dark:ring-blue-400" : ""}
        ${!currentlyOffered ? "opacity-60" : ""}
        ${className}
      `.trim(),
      onClick: onClick ? handleCardClick : void 0,
      children: /* @__PURE__ */ jsxs("div", { className: "p-4 flex flex-col h-full", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between gap-2 mb-2", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex-1 min-w-0", children: [
            /* @__PURE__ */ jsx("h3", { className: "font-semibold text-gray-900 dark:text-white truncate", children: name }),
            category && /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-0.5", children: category })
          ] }),
          !currentlyOffered && /* @__PURE__ */ jsx(Badge, { variant: "warning", size: "sm", children: "Not Offered" })
        ] }),
        description && /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2", children: description }),
        tags.length > 0 && /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-1 mb-3", children: [
          tags.slice(0, 3).map((tag) => /* @__PURE__ */ jsx(
            "span",
            {
              className: "inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400",
              children: tag
            },
            tag
          )),
          tags.length > 3 && /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
            "+",
            tags.length - 3
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "mt-auto", children: [
          price !== void 0 && /* @__PURE__ */ jsxs("div", { className: "flex items-baseline justify-between mb-2", children: [
            /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase", children: "Base Price" }),
            /* @__PURE__ */ jsx("span", { className: "text-lg font-bold text-gray-900 dark:text-white", children: formatCurrency2(price, currency) })
          ] }),
          showInventory && /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between text-sm mb-2", children: [
            /* @__PURE__ */ jsx("span", { className: "text-gray-500 dark:text-gray-400", children: "Inventory" }),
            /* @__PURE__ */ jsxs(
              "span",
              {
                className: `font-medium ${isLowInventory ? "text-red-600 dark:text-red-400" : "text-gray-900 dark:text-white"}`,
                children: [
                  inventoryCount,
                  inventoryTotal && ` / ${inventoryTotal}`
                ]
              }
            )
          ] }),
          (hasCustomAvailability || customPricingCount > 0) && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-3", children: [
            /* @__PURE__ */ jsx(
              "svg",
              {
                className: "w-3.5 h-3.5",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
                  }
                )
              }
            ),
            /* @__PURE__ */ jsx("span", { children: customPricingCount > 0 ? `${customPricingCount} custom pricing tier${customPricingCount > 1 ? "s" : ""}` : "Custom availability" })
          ] }),
          (onEdit || onManage || onDelete) && /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-end gap-2 pt-2 border-t border-gray-100 dark:border-gray-800", children: [
            onDelete && /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: handleDeleteClick,
                className: "p-1.5 text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",
                title: "Delete service",
                children: /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-4 h-4",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                      }
                    )
                  }
                )
              }
            ),
            onEdit && /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: handleEditClick,
                className: "p-1.5 text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",
                title: "Edit service",
                children: /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-4 h-4",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                      }
                    )
                  }
                )
              }
            ),
            onManage && /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: handleManageClick,
                className: "px-3 py-1 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",
                children: "Manage"
              }
            )
          ] })
        ] })
      ] })
    }
  );
}
function AddServiceCard({ onClick, className = "" }) {
  return /* @__PURE__ */ jsx(
    Card,
    {
      className: `
        h-full border-2 border-dashed border-gray-300 dark:border-gray-600
        bg-gray-50 dark:bg-gray-800/50
        hover:border-blue-400 dark:hover:border-blue-500
        hover:bg-gray-100 dark:hover:bg-gray-800
        transition-all duration-200 cursor-pointer
        ${className}
      `.trim(),
      onClick,
      children: /* @__PURE__ */ jsxs("div", { className: "p-4 flex flex-col items-center justify-center h-full min-h-[160px]", children: [
        /* @__PURE__ */ jsx("div", { className: "w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-3", children: /* @__PURE__ */ jsx(
          "svg",
          {
            className: "w-6 h-6 text-gray-500 dark:text-gray-400",
            fill: "none",
            viewBox: "0 0 24 24",
            stroke: "currentColor",
            children: /* @__PURE__ */ jsx(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 4v16m8-8H4"
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Add New Service" })
      ] })
    }
  );
}
function ServiceGeneralSettings({
  name = "",
  onNameChange,
  description = "",
  onDescriptionChange,
  serviceCode = "",
  onServiceCodeChange,
  categoryId,
  onCategoryChange,
  categories = [],
  basePrice = 0,
  onBasePriceChange,
  isActive = true,
  onIsActiveChange,
  isFeatured = false,
  onIsFeaturedChange,
  turnaroundDays,
  onTurnaroundDaysChange,
  cptCode = "",
  onCptCodeChange,
  onSave,
  isSaving = false,
  errorMessage,
  className = ""
}) {
  return /* @__PURE__ */ jsxs(Card, { className, children: [
    /* @__PURE__ */ jsxs(CardHeader, { className: "pb-4", children: [
      /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "General Settings" }),
      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Basic service information and configuration" })
    ] }),
    /* @__PURE__ */ jsxs(CardContent, { className: "space-y-6", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-6 pb-4 border-b border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsx(Switch, { checked: isActive, onCheckedChange: onIsActiveChange }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Active" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Service is available for orders" })
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsx(Switch, { checked: isFeatured, onCheckedChange: onIsFeaturedChange }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Featured" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Show prominently in listings" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Service Name",
            value: name,
            onChange: (e) => onNameChange?.(e.target.value),
            placeholder: "Enter service name",
            required: true
          }
        ),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Description" }),
          /* @__PURE__ */ jsx(
            "textarea",
            {
              className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
              rows: 3,
              value: description,
              onChange: (e) => onDescriptionChange?.(e.target.value),
              placeholder: "Describe the service..."
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ jsx(
            Input,
            {
              label: "Service Code / SKU",
              value: serviceCode,
              onChange: (e) => onServiceCodeChange?.(e.target.value),
              placeholder: "e.g., DOT-5P"
            }
          ),
          categories.length > 0 && /* @__PURE__ */ jsx(
            Select,
            {
              label: "Category",
              value: categoryId || "",
              onValueChange: (value) => onCategoryChange?.(value),
              placeholder: "Select category...",
              options: categories.map((c) => ({
                value: c.id,
                label: c.name
              }))
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Pricing & Timing" }),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Base Price" }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-500", children: "$" }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "number",
                  min: "0",
                  step: "0.01",
                  className: "w-full pl-7 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
                  value: basePrice,
                  onChange: (e) => onBasePriceChange?.(parseFloat(e.target.value) || 0),
                  placeholder: "0.00"
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Turnaround Time" }),
            /* @__PURE__ */ jsxs("div", { className: "relative", children: [
              /* @__PURE__ */ jsx(
                "input",
                {
                  type: "number",
                  min: "0",
                  className: "w-full pr-16 py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
                  value: turnaroundDays ?? "",
                  onChange: (e) => onTurnaroundDaysChange?.(parseInt(e.target.value) || 0),
                  placeholder: "0"
                }
              ),
              /* @__PURE__ */ jsx("span", { className: "absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm", children: "days" })
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Billing Information" }),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "CPT Code",
            value: cptCode,
            onChange: (e) => onCptCodeChange?.(e.target.value),
            placeholder: "e.g., 80305"
          }
        )
      ] }),
      onSave && /* @__PURE__ */ jsx("div", { className: "flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(Button, { onClick: onSave, disabled: isSaving, children: isSaving ? "Saving..." : "Save Settings" }) })
    ] })
  ] });
}
function ServiceSkeleton() {
  return /* @__PURE__ */ jsxs("div", { className: "border border-gray-200 dark:border-gray-700 rounded-lg p-4 animate-pulse", children: [
    /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between mb-3", children: [
      /* @__PURE__ */ jsx("div", { className: "h-5 w-32 bg-gray-200 dark:bg-gray-700 rounded" }),
      /* @__PURE__ */ jsx("div", { className: "h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded" })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-2 mb-4", children: [
      /* @__PURE__ */ jsx("div", { className: "h-4 w-full bg-gray-200 dark:bg-gray-700 rounded" }),
      /* @__PURE__ */ jsx("div", { className: "h-4 w-3/4 bg-gray-200 dark:bg-gray-700 rounded" })
    ] }),
    /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
      /* @__PURE__ */ jsx("div", { className: "h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full" }),
      /* @__PURE__ */ jsx("div", { className: "h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded-full" })
    ] })
  ] });
}
function ServiceGrid({
  services,
  onEdit,
  onManage,
  onDelete,
  onAdd,
  showAddCard = true,
  isLoading = false,
  skeletonCount = 6,
  emptyMessage = "No services available",
  columns = 3,
  gap = "md",
  className
}) {
  const columnClasses = {
    1: "grid-cols-1",
    2: "grid-cols-1 sm:grid-cols-2",
    3: "grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",
    4: "grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"
  };
  const gapClasses = {
    sm: "gap-3",
    md: "gap-4",
    lg: "gap-6"
  };
  if (isLoading) {
    return /* @__PURE__ */ jsx("div", { className: cn("grid", columnClasses[columns], gapClasses[gap], className), children: Array.from({ length: skeletonCount }).map((_, index) => /* @__PURE__ */ jsx(ServiceSkeleton, {}, index)) });
  }
  if (services.length === 0 && !showAddCard) {
    return /* @__PURE__ */ jsxs("div", { className: "flex flex-col items-center justify-center py-12 text-center", children: [
      /* @__PURE__ */ jsx(
        "svg",
        {
          className: "w-12 h-12 text-gray-400 mb-4",
          fill: "none",
          viewBox: "0 0 24 24",
          stroke: "currentColor",
          children: /* @__PURE__ */ jsx(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 1.5,
              d: "M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
            }
          )
        }
      ),
      /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400", children: emptyMessage })
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("grid", columnClasses[columns], gapClasses[gap], className), children: [
    showAddCard && onAdd && /* @__PURE__ */ jsx(AddServiceCard, { onClick: onAdd }),
    services.map((service) => /* @__PURE__ */ jsx(
      ServiceCard,
      {
        ...service,
        onEdit: onEdit ? () => onEdit(service.id) : void 0,
        onManage: onManage ? () => onManage(service.id) : void 0,
        onDelete: onDelete ? () => onDelete(service.id) : void 0
      },
      service.id
    ))
  ] });
}
function filterServices(groups, query) {
  const normalizedQuery = query.toLowerCase().trim();
  if (!normalizedQuery) return groups;
  const filtered = [];
  for (const group of groups) {
    const filteredServices = group.services.filter(
      (service) => service.name.toLowerCase().includes(normalizedQuery) || service.code?.toLowerCase().includes(normalizedQuery) || service.description?.toLowerCase().includes(normalizedQuery)
    );
    const filteredSubGroups = group.subGroups ? filterServices(group.subGroups, query) : void 0;
    const hasMatches = filteredServices.length > 0 || filteredSubGroups && filteredSubGroups.length > 0;
    if (hasMatches) {
      filtered.push({
        ...group,
        services: filteredServices,
        subGroups: filteredSubGroups?.filter(
          (sg) => sg.services.length > 0 || sg.subGroups && sg.subGroups.length > 0
        )
      });
    }
  }
  return filtered;
}
function flattenServices(groups) {
  const services = [];
  const traverse = (group) => {
    services.push(...group.services);
    group.subGroups?.forEach(traverse);
  };
  groups.forEach(traverse);
  return services;
}
function ServicePicker({
  groups,
  selectedIds,
  onSelectionChange,
  showSearch = true,
  searchPlaceholder = "Search by service name, code, category, etc.",
  multiple = true,
  loading = false,
  error,
  emptyMessage = "No Available Services",
  heading = "Available Services",
  hideHeading = false,
  fullWidth = false,
  className
}) {
  const [searchQuery, setSearchQuery] = React46.useState("");
  const [expandedGroups, setExpandedGroups] = React46.useState(
    /* @__PURE__ */ new Set()
  );
  const filteredGroups = React46.useMemo(
    () => filterServices(groups, searchQuery),
    [groups, searchQuery]
  );
  const searchResults = React46.useMemo(
    () => searchQuery ? flattenServices(filteredGroups) : [],
    [filteredGroups, searchQuery]
  );
  const isSearching = searchQuery.length > 0;
  const handleServiceToggle = (serviceId) => {
    if (multiple) {
      if (selectedIds.includes(serviceId)) {
        onSelectionChange(selectedIds.filter((id) => id !== serviceId));
      } else {
        onSelectionChange([...selectedIds, serviceId]);
      }
    } else {
      onSelectionChange([serviceId]);
    }
  };
  const toggleGroup = (groupId) => {
    setExpandedGroups((prev) => {
      const next = new Set(prev);
      if (next.has(groupId)) {
        next.delete(groupId);
      } else {
        next.add(groupId);
      }
      return next;
    });
  };
  const hasSelectedInGroup = (group) => {
    const hasDirectSelection = group.services.some(
      (s) => selectedIds.includes(s.id)
    );
    const hasSubSelection = group.subGroups?.some(hasSelectedInGroup) ?? false;
    return hasDirectSelection || hasSubSelection;
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn("flex flex-col", !fullWidth && "lg:max-w-md", className),
      children: [
        /* @__PURE__ */ jsxs("div", { className: "p-3", children: [
          !hideHeading && /* @__PURE__ */ jsx("h2", { className: "mb-3 text-xl font-bold text-gray-900 dark:text-gray-100", children: heading }),
          showSearch && /* @__PURE__ */ jsxs("div", { className: "relative", children: [
            /* @__PURE__ */ jsx("div", { className: "pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3", children: /* @__PURE__ */ jsx(SearchIcon5, { className: "h-5 w-5 text-gray-400" }) }),
            /* @__PURE__ */ jsx(
              Input,
              {
                type: "search",
                value: searchQuery,
                onChange: (e) => setSearchQuery(e.target.value),
                placeholder: searchPlaceholder,
                className: "pl-10",
                "data-cy": "input-search-services"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex-1 overflow-y-auto p-3", children: [
          error && /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-lg bg-red-50 p-4 text-red-700 dark:bg-red-900/20 dark:text-red-400", children: /* @__PURE__ */ jsx("strong", { children: error }) }),
          loading ? /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-gray-500", children: [
            /* @__PURE__ */ jsx(SpinnerIcon5, { className: "h-5 w-5 animate-spin" }),
            /* @__PURE__ */ jsx("span", { children: "Loading available services..." })
          ] }) : isSearching ? (
            // Search results - flat list
            /* @__PURE__ */ jsx("ul", { className: "space-y-1", children: searchResults.length > 0 ? searchResults.map((service) => /* @__PURE__ */ jsx(
              ServiceItem,
              {
                service,
                selected: selectedIds.includes(service.id),
                onToggle: () => handleServiceToggle(service.id),
                multiple
              },
              service.id
            )) : /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx("div", { className: "rounded-lg bg-yellow-50 p-4 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400", children: /* @__PURE__ */ jsx("strong", { children: emptyMessage }) }) }) })
          ) : (
            // Grouped list - accordion style
            /* @__PURE__ */ jsx("ul", { className: "space-y-1", children: filteredGroups.length > 0 ? filteredGroups.map((group) => /* @__PURE__ */ jsx(
              ServiceGroupItem,
              {
                group,
                selectedIds,
                expandedGroups,
                onToggleGroup: toggleGroup,
                onToggleService: handleServiceToggle,
                hasSelectedInGroup,
                multiple
              },
              group.id
            )) : /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsx("div", { className: "rounded-lg bg-yellow-50 p-4 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400", children: /* @__PURE__ */ jsx("strong", { children: emptyMessage }) }) }) })
          )
        ] })
      ]
    }
  );
}
ServicePicker.displayName = "ServicePicker";
function ServiceGroupItem({
  group,
  selectedIds,
  expandedGroups,
  onToggleGroup,
  onToggleService,
  hasSelectedInGroup,
  multiple,
  depth = 0
}) {
  const isExpanded = expandedGroups.has(group.id);
  const hasSelection = hasSelectedInGroup(group);
  return /* @__PURE__ */ jsxs("li", { className: "service-group", children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => onToggleGroup(group.id),
        className: cn(
          "flex w-full items-center justify-between rounded-lg px-3 py-2",
          "text-left text-sm font-medium",
          "hover:bg-gray-100 dark:hover:bg-gray-800",
          "transition-colors",
          depth > 0 && "ml-4 text-gray-600 dark:text-gray-400"
        ),
        "aria-expanded": isExpanded,
        children: [
          /* @__PURE__ */ jsxs("span", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("span", { children: group.name }),
            hasSelection && /* @__PURE__ */ jsx(
              "span",
              {
                className: "bg-brand-500 h-2 w-2 rounded-full",
                "aria-label": "Has selected items"
              }
            )
          ] }),
          /* @__PURE__ */ jsx(
            ChevronIcon2,
            {
              className: cn(
                "h-5 w-5 transition-transform",
                isExpanded && "rotate-180"
              )
            }
          )
        ]
      }
    ),
    isExpanded && /* @__PURE__ */ jsxs("ul", { className: "mt-1 space-y-1 pl-4", children: [
      group.services.map((service) => /* @__PURE__ */ jsx(
        ServiceItem,
        {
          service,
          selected: selectedIds.includes(service.id),
          onToggle: () => onToggleService(service.id),
          multiple
        },
        service.id
      )),
      group.subGroups?.map((subGroup) => /* @__PURE__ */ jsx(
        ServiceGroupItem,
        {
          group: subGroup,
          selectedIds,
          expandedGroups,
          onToggleGroup,
          onToggleService,
          hasSelectedInGroup,
          multiple,
          depth: depth + 1
        },
        subGroup.id
      ))
    ] })
  ] });
}
function ServiceItem({
  service,
  selected,
  onToggle,
  multiple
}) {
  return /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(
    "label",
    {
      className: cn(
        "flex cursor-pointer items-center gap-3 rounded-lg px-3 py-2",
        "hover:bg-gray-100 dark:hover:bg-gray-800",
        "transition-colors",
        service.disabled && "cursor-not-allowed opacity-50"
      ),
      children: [
        multiple ? /* @__PURE__ */ jsx(
          "input",
          {
            type: "checkbox",
            checked: selected,
            onChange: onToggle,
            disabled: service.disabled,
            className: "text-brand-600 focus:ring-brand-500 h-4 w-4 rounded border-gray-300"
          }
        ) : /* @__PURE__ */ jsx(
          "input",
          {
            type: "radio",
            checked: selected,
            onChange: onToggle,
            disabled: service.disabled,
            className: "text-brand-600 focus:ring-brand-500 h-4 w-4 border-gray-300"
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("span", { className: "text-sm font-medium text-gray-900 dark:text-gray-100", children: service.name }),
            service.code && /* @__PURE__ */ jsxs("span", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
              "(",
              service.code,
              ")"
            ] })
          ] }),
          service.description && /* @__PURE__ */ jsx("p", { className: "truncate text-xs text-gray-500 dark:text-gray-400", children: service.description })
        ] }),
        service.price !== void 0 && /* @__PURE__ */ jsxs("span", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: [
          "$",
          service.price.toFixed(2)
        ] })
      ]
    }
  ) });
}
function SearchIcon5({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
        }
      )
    }
  );
}
function SpinnerIcon5({ className }) {
  return /* @__PURE__ */ jsxs("svg", { className, fill: "none", viewBox: "0 0 24 24", children: [
    /* @__PURE__ */ jsx(
      "circle",
      {
        className: "opacity-25",
        cx: "12",
        cy: "12",
        r: "10",
        stroke: "currentColor",
        strokeWidth: "4"
      }
    ),
    /* @__PURE__ */ jsx(
      "path",
      {
        className: "opacity-75",
        fill: "currentColor",
        d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
      }
    )
  ] });
}
function ChevronIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 2,
      children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 9l-7 7-7-7" })
    }
  );
}
function ServicePricingManager({
  services,
  onUpdatePrice,
  onToggleStatus,
  onBulkUpdate,
  isSaving = false,
  isLoading = false,
  categories = [],
  className = ""
}) {
  const [searchTerm, setSearchTerm] = React46.useState("");
  const [selectedCategory, setSelectedCategory] = React46.useState(null);
  const [editingService, setEditingService] = React46.useState(null);
  const [editPrice, setEditPrice] = React46.useState("");
  const [editEmployerPrice, setEditEmployerPrice] = React46.useState("");
  const [showBulkModal, setShowBulkModal] = React46.useState(false);
  const [bulkAdjustment, setBulkAdjustment] = React46.useState("");
  const [bulkAdjustmentType, setBulkAdjustmentType] = React46.useState("percent");
  const formatCurrency3 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD"
    }).format(amount);
  };
  const filteredServices = services.filter((service) => {
    const matchesSearch = service.serviceName.toLowerCase().includes(searchTerm.toLowerCase()) || service.serviceCode?.toLowerCase().includes(searchTerm.toLowerCase());
    const matchesCategory = !selectedCategory || service.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });
  const uniqueCategories = Array.from(
    new Set(
      services.map((s) => s.category).filter((c) => c !== void 0)
    )
  );
  const handleEditClick = (service) => {
    setEditingService(service);
    setEditPrice(service.basePrice.toString());
    setEditEmployerPrice(service.employerPrice?.toString() || "");
  };
  const handleSaveEdit = () => {
    if (!editingService || !onUpdatePrice) return;
    const newBasePrice = parseFloat(editPrice);
    if (!isNaN(newBasePrice) && newBasePrice !== editingService.basePrice) {
      onUpdatePrice(editingService.id, newBasePrice, "base");
    }
    const newEmployerPrice = parseFloat(editEmployerPrice);
    if (!isNaN(newEmployerPrice) && newEmployerPrice !== editingService.employerPrice) {
      onUpdatePrice(editingService.id, newEmployerPrice, "employer");
    }
    setEditingService(null);
  };
  const handleBulkAdjust = () => {
    if (!onBulkUpdate || !bulkAdjustment) return;
    const adjustment = parseFloat(bulkAdjustment);
    if (isNaN(adjustment)) return;
    const updates = filteredServices.map((service) => {
      let newPrice = service.basePrice;
      if (bulkAdjustmentType === "percent") {
        newPrice = service.basePrice * (1 + adjustment / 100);
      } else {
        newPrice = service.basePrice + adjustment;
      }
      return {
        serviceId: service.id,
        price: Math.max(0, Math.round(newPrice * 100) / 100),
        priceType: "base"
      };
    });
    onBulkUpdate(updates);
    setShowBulkModal(false);
    setBulkAdjustment("");
  };
  if (isLoading) {
    return /* @__PURE__ */ jsxs("div", { className: `space-y-4 animate-pulse ${className}`, children: [
      /* @__PURE__ */ jsx("div", { className: "h-12 bg-gray-200 dark:bg-gray-700 rounded-lg w-1/2" }),
      /* @__PURE__ */ jsx("div", { className: "h-10 bg-gray-200 dark:bg-gray-700 rounded-lg" }),
      [1, 2, 3, 4, 5].map((i) => /* @__PURE__ */ jsx(
        "div",
        {
          className: "h-16 bg-gray-200 dark:bg-gray-700 rounded-lg"
        },
        i
      ))
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4", children: [
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("h1", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: "Service Pricing" }),
        /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
          "Manage pricing for ",
          services.length,
          " services"
        ] })
      ] }),
      onBulkUpdate && /* @__PURE__ */ jsx(Button, { variant: "outline", onClick: () => setShowBulkModal(true), children: "Bulk Adjust Prices" })
    ] }),
    /* @__PURE__ */ jsx(Card, { children: /* @__PURE__ */ jsx(CardContent, { className: "p-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col md:flex-row gap-4", children: [
      /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx(
        Input,
        {
          placeholder: "Search services...",
          value: searchTerm,
          onChange: (e) => setSearchTerm(e.target.value)
        }
      ) }),
      uniqueCategories.length > 0 && /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap gap-2", children: [
        /* @__PURE__ */ jsx(
          Button,
          {
            variant: selectedCategory === null ? "primary" : "ghost",
            size: "sm",
            onClick: () => setSelectedCategory(null),
            children: "All"
          }
        ),
        uniqueCategories.map((category) => /* @__PURE__ */ jsx(
          Button,
          {
            variant: selectedCategory === category ? "primary" : "ghost",
            size: "sm",
            onClick: () => setSelectedCategory(category),
            children: category
          },
          category
        ))
      ] })
    ] }) }) }),
    /* @__PURE__ */ jsxs(Card, { children: [
      /* @__PURE__ */ jsx(CardHeader, { children: /* @__PURE__ */ jsxs(CardTitle, { className: "text-lg", children: [
        "Services (",
        filteredServices.length,
        ")"
      ] }) }),
      /* @__PURE__ */ jsx(CardContent, { children: filteredServices.length === 0 ? /* @__PURE__ */ jsx("p", { className: "text-center text-gray-500 dark:text-gray-400 py-8", children: "No services found" }) : /* @__PURE__ */ jsxs("div", { className: "divide-y divide-gray-200 dark:divide-gray-700", children: [
        /* @__PURE__ */ jsxs("div", { className: "hidden md:grid md:grid-cols-6 gap-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase", children: [
          /* @__PURE__ */ jsx("div", { className: "col-span-2", children: "Service" }),
          /* @__PURE__ */ jsx("div", { className: "text-right", children: "Base Price" }),
          /* @__PURE__ */ jsx("div", { className: "text-right", children: "Employer Price" }),
          /* @__PURE__ */ jsx("div", { className: "text-center", children: "Status" }),
          /* @__PURE__ */ jsx("div", { className: "text-right", children: "Actions" })
        ] }),
        filteredServices.map((service) => /* @__PURE__ */ jsxs(
          "div",
          {
            className: "py-4 md:grid md:grid-cols-6 gap-4 items-center",
            children: [
              /* @__PURE__ */ jsxs("div", { className: "col-span-2 mb-2 md:mb-0", children: [
                /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: service.serviceName }),
                /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400", children: [
                  service.serviceCode && /* @__PURE__ */ jsx("span", { children: service.serviceCode }),
                  service.category && /* @__PURE__ */ jsx(Badge, { variant: "secondary", children: service.category })
                ] })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex md:block justify-between items-center mb-2 md:mb-0", children: [
                /* @__PURE__ */ jsx("span", { className: "md:hidden text-sm text-gray-500", children: "Base:" }),
                /* @__PURE__ */ jsx("p", { className: "font-semibold text-gray-900 dark:text-white text-right", children: formatCurrency3(service.basePrice) })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex md:block justify-between items-center mb-2 md:mb-0", children: [
                /* @__PURE__ */ jsx("span", { className: "md:hidden text-sm text-gray-500", children: "Employer:" }),
                /* @__PURE__ */ jsx("p", { className: "text-gray-600 dark:text-gray-300 text-right", children: service.employerPrice ? formatCurrency3(service.employerPrice) : "\u2014" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex md:justify-center items-center mb-2 md:mb-0", children: [
                /* @__PURE__ */ jsx("span", { className: "md:hidden text-sm text-gray-500 mr-2", children: "Status:" }),
                /* @__PURE__ */ jsx(Badge, { variant: service.isActive ? "success" : "secondary", children: service.isActive ? "Active" : "Inactive" })
              ] }),
              /* @__PURE__ */ jsxs("div", { className: "flex justify-end gap-2", children: [
                onToggleStatus && /* @__PURE__ */ jsx(
                  Button,
                  {
                    variant: "ghost",
                    size: "sm",
                    onClick: () => onToggleStatus(service.id, !service.isActive),
                    children: service.isActive ? "Deactivate" : "Activate"
                  }
                ),
                onUpdatePrice && /* @__PURE__ */ jsx(
                  Button,
                  {
                    variant: "outline",
                    size: "sm",
                    onClick: () => handleEditClick(service),
                    children: "Edit Price"
                  }
                )
              ] })
            ]
          },
          service.id
        ))
      ] }) })
    ] }),
    /* @__PURE__ */ jsxs(Modal, { open: !!editingService, onOpenChange: () => setEditingService(null), children: [
      /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Edit Service Price" }) }),
      /* @__PURE__ */ jsxs(ModalBody, { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "font-medium text-gray-900 dark:text-white", children: editingService?.serviceName }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Base Price" }),
          /* @__PURE__ */ jsx(
            Input,
            {
              type: "number",
              step: "0.01",
              min: "0",
              value: editPrice,
              onChange: (e) => setEditPrice(e.target.value)
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Employer Price (optional)" }),
          /* @__PURE__ */ jsx(
            Input,
            {
              type: "number",
              step: "0.01",
              min: "0",
              value: editEmployerPrice,
              onChange: (e) => setEditEmployerPrice(e.target.value),
              placeholder: "Leave empty for default"
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs(ModalFooter, { children: [
        /* @__PURE__ */ jsx(Button, { variant: "ghost", onClick: () => setEditingService(null), children: "Cancel" }),
        /* @__PURE__ */ jsx(Button, { onClick: handleSaveEdit, disabled: isSaving, children: isSaving ? "Saving..." : "Save Changes" })
      ] })
    ] }),
    /* @__PURE__ */ jsxs(Modal, { open: showBulkModal, onOpenChange: setShowBulkModal, children: [
      /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: "Bulk Price Adjustment" }) }),
      /* @__PURE__ */ jsxs(ModalBody, { className: "space-y-4", children: [
        /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
          "Apply adjustment to ",
          filteredServices.length,
          " filtered services"
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex gap-2", children: [
          /* @__PURE__ */ jsx(
            Button,
            {
              variant: bulkAdjustmentType === "percent" ? "primary" : "ghost",
              size: "sm",
              onClick: () => setBulkAdjustmentType("percent"),
              children: "Percentage"
            }
          ),
          /* @__PURE__ */ jsx(
            Button,
            {
              variant: bulkAdjustmentType === "fixed" ? "primary" : "ghost",
              size: "sm",
              onClick: () => setBulkAdjustmentType("fixed"),
              children: "Fixed Amount"
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: bulkAdjustmentType === "percent" ? "Percentage Change (%)" : "Amount Change ($)" }),
          /* @__PURE__ */ jsx(
            Input,
            {
              type: "number",
              step: bulkAdjustmentType === "percent" ? "1" : "0.01",
              value: bulkAdjustment,
              onChange: (e) => setBulkAdjustment(e.target.value),
              placeholder: bulkAdjustmentType === "percent" ? "e.g., 5" : "e.g., 10.00"
            }
          ),
          /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: "Use negative values to decrease prices" })
        ] })
      ] }),
      /* @__PURE__ */ jsxs(ModalFooter, { children: [
        /* @__PURE__ */ jsx(Button, { variant: "ghost", onClick: () => setShowBulkModal(false), children: "Cancel" }),
        /* @__PURE__ */ jsx(
          Button,
          {
            onClick: handleBulkAdjust,
            disabled: isSaving || !bulkAdjustment,
            children: isSaving ? "Applying..." : "Apply Adjustment"
          }
        )
      ] })
    ] })
  ] });
}
var US_STATES = [
  { value: "AL", label: "Alabama" },
  { value: "AK", label: "Alaska" },
  { value: "AZ", label: "Arizona" },
  { value: "AR", label: "Arkansas" },
  { value: "CA", label: "California" },
  { value: "CO", label: "Colorado" },
  { value: "CT", label: "Connecticut" },
  { value: "DE", label: "Delaware" },
  { value: "FL", label: "Florida" },
  { value: "GA", label: "Georgia" },
  { value: "HI", label: "Hawaii" },
  { value: "ID", label: "Idaho" },
  { value: "IL", label: "Illinois" },
  { value: "IN", label: "Indiana" },
  { value: "IA", label: "Iowa" },
  { value: "KS", label: "Kansas" },
  { value: "KY", label: "Kentucky" },
  { value: "LA", label: "Louisiana" },
  { value: "ME", label: "Maine" },
  { value: "MD", label: "Maryland" },
  { value: "MA", label: "Massachusetts" },
  { value: "MI", label: "Michigan" },
  { value: "MN", label: "Minnesota" },
  { value: "MS", label: "Mississippi" },
  { value: "MO", label: "Missouri" },
  { value: "MT", label: "Montana" },
  { value: "NE", label: "Nebraska" },
  { value: "NV", label: "Nevada" },
  { value: "NH", label: "New Hampshire" },
  { value: "NJ", label: "New Jersey" },
  { value: "NM", label: "New Mexico" },
  { value: "NY", label: "New York" },
  { value: "NC", label: "North Carolina" },
  { value: "ND", label: "North Dakota" },
  { value: "OH", label: "Ohio" },
  { value: "OK", label: "Oklahoma" },
  { value: "OR", label: "Oregon" },
  { value: "PA", label: "Pennsylvania" },
  { value: "RI", label: "Rhode Island" },
  { value: "SC", label: "South Carolina" },
  { value: "SD", label: "South Dakota" },
  { value: "TN", label: "Tennessee" },
  { value: "TX", label: "Texas" },
  { value: "UT", label: "Utah" },
  { value: "VT", label: "Vermont" },
  { value: "VA", label: "Virginia" },
  { value: "WA", label: "Washington" },
  { value: "WV", label: "West Virginia" },
  { value: "WI", label: "Wisconsin" },
  { value: "WY", label: "Wyoming" }
];
function ServiceShippingSettings({
  shippingEnabled = false,
  onShippingEnabledChange,
  defaultAddress,
  onAddressChange,
  shippingMethods = [],
  selectedMethodId,
  onMethodChange,
  carrierAccountNumber,
  onCarrierAccountChange,
  instructions,
  onInstructionsChange,
  useKitShipping = false,
  onUseKitShippingChange,
  onSave,
  isSaving = false,
  className = ""
}) {
  const [address, setAddress] = React46.useState(
    defaultAddress || {
      name: "",
      street1: "",
      street2: "",
      city: "",
      state: "",
      zipCode: "",
      country: "US"
    }
  );
  const handleAddressFieldChange = (field, value) => {
    const newAddress = { ...address, [field]: value };
    setAddress(newAddress);
    onAddressChange?.(newAddress);
  };
  return /* @__PURE__ */ jsxs(Card, { className, children: [
    /* @__PURE__ */ jsxs(CardHeader, { className: "pb-4", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsx(CardTitle, { className: "text-lg", children: "Shipping Settings" }),
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: shippingEnabled,
            onCheckedChange: onShippingEnabledChange
          }
        )
      ] }),
      /* @__PURE__ */ jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: "Configure how kits and materials are shipped" })
    ] }),
    shippingEnabled && /* @__PURE__ */ jsxs(CardContent, { className: "space-y-6", children: [
      shippingMethods.length > 0 && /* @__PURE__ */ jsx(
        Select,
        {
          label: "Shipping Method",
          value: selectedMethodId || "",
          onValueChange: (value) => onMethodChange?.(value),
          placeholder: "Select shipping method...",
          options: shippingMethods.map((m) => ({
            value: m.id,
            label: `${m.name} ($${m.price.toFixed(2)})`
          }))
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between py-2", children: [
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Use Kit Shipping" }),
          /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Send collection kits to patients" })
        ] }),
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: useKitShipping,
            onCheckedChange: onUseKitShippingChange
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Default Return Address" }),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Recipient Name",
            value: address.name || "",
            onChange: (e) => handleAddressFieldChange("name", e.target.value),
            placeholder: "Lab Name or Attention"
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Street Address",
            value: address.street1,
            onChange: (e) => handleAddressFieldChange("street1", e.target.value),
            placeholder: "123 Main St",
            required: true
          }
        ),
        /* @__PURE__ */ jsx(
          Input,
          {
            label: "Street Address 2",
            value: address.street2 || "",
            onChange: (e) => handleAddressFieldChange("street2", e.target.value),
            placeholder: "Suite, Apt, etc."
          }
        ),
        /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-6 gap-3", children: [
          /* @__PURE__ */ jsx("div", { className: "col-span-3", children: /* @__PURE__ */ jsx(
            Input,
            {
              label: "City",
              value: address.city,
              onChange: (e) => handleAddressFieldChange("city", e.target.value),
              placeholder: "City",
              required: true
            }
          ) }),
          /* @__PURE__ */ jsx("div", { className: "col-span-1", children: /* @__PURE__ */ jsx(
            Select,
            {
              label: "State",
              value: address.state,
              onValueChange: (value) => handleAddressFieldChange("state", value),
              placeholder: "ST",
              options: US_STATES
            }
          ) }),
          /* @__PURE__ */ jsx("div", { className: "col-span-2", children: /* @__PURE__ */ jsx(
            Input,
            {
              label: "ZIP Code",
              value: address.zipCode,
              onChange: (e) => handleAddressFieldChange("zipCode", e.target.value),
              placeholder: "12345",
              required: true
            }
          ) })
        ] })
      ] }),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: "Carrier Account Number (Optional)",
          value: carrierAccountNumber || "",
          onChange: (e) => onCarrierAccountChange?.(e.target.value),
          placeholder: "For billing shipping to your account"
        }
      ),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Special Instructions" }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 3,
            value: instructions || "",
            onChange: (e) => onInstructionsChange?.(e.target.value),
            placeholder: "Any special shipping instructions..."
          }
        )
      ] }),
      onSave && /* @__PURE__ */ jsx("div", { className: "flex justify-end pt-2", children: /* @__PURE__ */ jsx(Button, { onClick: onSave, disabled: isSaving, children: isSaving ? "Saving..." : "Save Shipping Settings" }) })
    ] })
  ] });
}
function SetupServiceModal({
  open,
  onOpenChange,
  onSave,
  categories = [],
  availableServices = [],
  showServicePicker = false,
  isSubmitting = false,
  errorMessage,
  title = "Add New Service"
}) {
  const [formData, setFormData] = React46.useState({
    name: "",
    description: "",
    price: 0,
    categoryId: "",
    currentlyOffered: true,
    limitedInventory: false,
    initialInventory: void 0,
    autoAcceptReferrals: false
  });
  React46.useEffect(() => {
    if (!open) {
      setFormData({
        name: "",
        description: "",
        price: 0,
        categoryId: "",
        currentlyOffered: true,
        limitedInventory: false,
        initialInventory: void 0,
        autoAcceptReferrals: false
      });
    }
  }, [open]);
  const handleServiceSelect = (serviceId) => {
    const service = availableServices.find((s) => s.id === serviceId);
    if (service) {
      setFormData((prev) => ({
        ...prev,
        serviceId,
        name: service.name,
        price: service.defaultPrice || 0
      }));
    }
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!formData.name || formData.price < 0 || !onSave) return;
    onSave(formData);
  };
  const isValid = formData.name.trim() && formData.price >= 0;
  return /* @__PURE__ */ jsx(Modal, { open, onOpenChange, size: "lg", children: /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, children: [
    /* @__PURE__ */ jsx(ModalHeader, { children: /* @__PURE__ */ jsx(ModalTitle, { children: title }) }),
    /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
      errorMessage && /* @__PURE__ */ jsx("div", { className: "p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg", children: /* @__PURE__ */ jsx("p", { className: "text-sm text-red-600 dark:text-red-400", children: errorMessage }) }),
      showServicePicker && availableServices.length > 0 && /* @__PURE__ */ jsx(
        Select,
        {
          label: "Select Service",
          value: formData.serviceId || "",
          onValueChange: handleServiceSelect,
          placeholder: "Choose a service...",
          options: availableServices.map((s) => ({
            value: s.id,
            label: s.name
          }))
        }
      ),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: "Service Name",
          value: formData.name,
          onChange: (e) => setFormData((prev) => ({ ...prev, name: e.target.value })),
          placeholder: "Enter service name",
          required: true,
          disabled: showServicePicker && !!formData.serviceId
        }
      ),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Description" }),
        /* @__PURE__ */ jsx(
          "textarea",
          {
            className: "w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
            rows: 3,
            value: formData.description,
            onChange: (e) => setFormData((prev) => ({ ...prev, description: e.target.value })),
            placeholder: "Describe the service..."
          }
        )
      ] }),
      categories.length > 0 && /* @__PURE__ */ jsx(
        Select,
        {
          label: "Category",
          value: formData.categoryId || "",
          onValueChange: (value) => setFormData((prev) => ({ ...prev, categoryId: value })),
          placeholder: "Select category...",
          options: categories.map((c) => ({
            value: c.id,
            label: c.name
          }))
        }
      ),
      /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsx("label", { className: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Base Price" }),
        /* @__PURE__ */ jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-500", children: "$" }),
          /* @__PURE__ */ jsx(
            "input",
            {
              type: "number",
              min: "0",
              step: "0.01",
              className: "w-full pl-7 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",
              value: formData.price,
              onChange: (e) => setFormData((prev) => ({
                ...prev,
                price: parseFloat(e.target.value) || 0
              })),
              placeholder: "0.00",
              required: true
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-3 pt-2", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Currently Offered" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Service is available for orders" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: formData.currentlyOffered,
              onCheckedChange: (checked) => setFormData((prev) => ({ ...prev, currentlyOffered: checked }))
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Limited Inventory" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Track inventory for this service" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: formData.limitedInventory,
              onCheckedChange: (checked) => setFormData((prev) => ({ ...prev, limitedInventory: checked }))
            }
          )
        ] }),
        formData.limitedInventory && /* @__PURE__ */ jsx("div", { className: "ml-4 pl-4 border-l-2 border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ jsx(
          Input,
          {
            label: "Initial Inventory",
            type: "number",
            min: "0",
            value: formData.initialInventory || "",
            onChange: (e) => setFormData((prev) => ({
              ...prev,
              initialInventory: parseInt(e.target.value) || void 0
            })),
            placeholder: "Enter quantity"
          }
        ) }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ jsxs("div", { children: [
            /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: "Auto-Accept Referrals" }),
            /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Automatically accept incoming referrals" })
          ] }),
          /* @__PURE__ */ jsx(
            Switch,
            {
              checked: formData.autoAcceptReferrals,
              onCheckedChange: (checked) => setFormData((prev) => ({ ...prev, autoAcceptReferrals: checked }))
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxs(ModalFooter, { children: [
      /* @__PURE__ */ jsx(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: () => onOpenChange(false),
          disabled: isSubmitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ jsx(Button, { type: "submit", disabled: !isValid || isSubmitting, children: isSubmitting ? /* @__PURE__ */ jsxs(Fragment, { children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: "animate-spin -ml-1 mr-2 h-4 w-4",
            fill: "none",
            viewBox: "0 0 24 24",
            children: [
              /* @__PURE__ */ jsx(
                "circle",
                {
                  className: "opacity-25",
                  cx: "12",
                  cy: "12",
                  r: "10",
                  stroke: "currentColor",
                  strokeWidth: "4"
                }
              ),
              /* @__PURE__ */ jsx(
                "path",
                {
                  className: "opacity-75",
                  fill: "currentColor",
                  d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                }
              )
            ]
          }
        ),
        "Saving..."
      ] }) : "Add Service" })
    ] })
  ] }) });
}
var SidebarContext = createContext(null);
function SidebarProvider({
  children,
  defaultCollapsed = false,
  storageKey = "sidebar-collapsed",
  persistCollapsed = true,
  defaultExpandedGroup = null,
  mobileBreakpoint = "(max-width: 1023px)"
}) {
  const isMobileViewport = useMediaQuery(mobileBreakpoint);
  const [isCollapsed, setIsCollapsed] = useState(() => {
    if (typeof window !== "undefined" && persistCollapsed) {
      const stored = localStorage.getItem(storageKey);
      if (stored !== null) {
        return stored === "true";
      }
    }
    return defaultCollapsed;
  });
  const [isMobileOpen, setIsMobileOpen] = useState(false);
  const [expandedGroup, setExpandedGroup] = useState(
    defaultExpandedGroup
  );
  useEffect(() => {
    if (persistCollapsed && typeof window !== "undefined") {
      localStorage.setItem(storageKey, String(isCollapsed));
    }
  }, [isCollapsed, persistCollapsed, storageKey]);
  useEffect(() => {
    if (!isMobileViewport && isMobileOpen) {
      setIsMobileOpen(false);
    }
  }, [isMobileViewport, isMobileOpen]);
  const toggleCollapsed = useCallback(() => {
    setIsCollapsed((prev) => !prev);
  }, []);
  const setCollapsed = useCallback((collapsed) => {
    setIsCollapsed(collapsed);
  }, []);
  const openMobile = useCallback(() => {
    setIsMobileOpen(true);
  }, []);
  const closeMobile = useCallback(() => {
    setIsMobileOpen(false);
  }, []);
  const toggleMobile = useCallback(() => {
    setIsMobileOpen((prev) => !prev);
  }, []);
  const toggleGroup = useCallback((group) => {
    setExpandedGroup((prev) => prev === group ? null : group);
  }, []);
  const contextValue = useMemo(
    () => ({
      isCollapsed,
      toggleCollapsed,
      setCollapsed,
      isMobileOpen,
      openMobile,
      closeMobile,
      toggleMobile,
      isMobileViewport,
      expandedGroup,
      setExpandedGroup,
      toggleGroup
    }),
    [
      isCollapsed,
      toggleCollapsed,
      setCollapsed,
      isMobileOpen,
      openMobile,
      closeMobile,
      toggleMobile,
      isMobileViewport,
      expandedGroup,
      toggleGroup
    ]
  );
  return /* @__PURE__ */ jsx(SidebarContext.Provider, { value: contextValue, children });
}
function useSidebar() {
  const context = useContext(SidebarContext);
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider");
  }
  return context;
}
var ChevronLeftIcon2 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-4 w-4",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M15 19l-7-7 7-7" })
  }
);
var ChevronRightIcon2 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-4 w-4",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M9 5l7 7-7 7" })
  }
);
var ChevronDownIcon4 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-3 w-3",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 9l-7 7-7-7" })
  }
);
var XIcon3 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M6 18L18 6M6 6l12 12"
      }
    )
  }
);
var MenuIcon = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M4 6h16M4 12h16M4 18h16"
      }
    )
  }
);
var SearchIcon6 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-4 w-4",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
      }
    )
  }
);
function Sidebar({
  children,
  className,
  expandedWidth = "280px",
  collapsedWidth = "80px",
  style,
  "data-testid": testId = "sidebar"
}) {
  const { isCollapsed, isMobileOpen, closeMobile, isMobileViewport } = useSidebar();
  const width = isMobileViewport ? expandedWidth : isCollapsed ? collapsedWidth : expandedWidth;
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    isMobileViewport && isMobileOpen && /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 z-40 bg-black/50 lg:hidden",
        onClick: closeMobile,
        "aria-hidden": "true"
      }
    ),
    /* @__PURE__ */ jsx(
      "nav",
      {
        "data-testid": testId,
        className: cn(
          "flex h-screen flex-col",
          "border-r border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-900",
          "transition-all duration-300 ease-in-out",
          // Mobile positioning
          isMobileViewport && "fixed top-0 left-0 z-50",
          isMobileViewport && (isMobileOpen ? "translate-x-0" : "-translate-x-full"),
          // Desktop positioning
          !isMobileViewport && "relative",
          className
        ),
        style: {
          width,
          minWidth: width,
          ...style
        },
        "aria-label": "Main navigation",
        children
      }
    )
  ] });
}
function SidebarHeader({
  children,
  className,
  showMobileClose = true
}) {
  const { closeMobile, isMobileViewport, isCollapsed } = useSidebar();
  const showCollapsed = !isMobileViewport && isCollapsed;
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "flex items-center border-b border-neutral-200 py-4 dark:border-neutral-700",
        showCollapsed ? "justify-center px-2" : "justify-between px-4",
        className
      ),
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "min-w-0",
              showCollapsed ? "flex justify-center" : "flex-1"
            ),
            children
          }
        ),
        showMobileClose && isMobileViewport && /* @__PURE__ */ jsx(
          "button",
          {
            onClick: closeMobile,
            className: "-mr-2 rounded-lg p-2 text-neutral-500 transition-colors hover:bg-neutral-100 lg:hidden dark:hover:bg-neutral-800",
            "aria-label": "Close navigation",
            children: /* @__PURE__ */ jsx(XIcon3, {})
          }
        )
      ]
    }
  );
}
function SidebarFooter({
  children,
  className
}) {
  const { isCollapsed, isMobileViewport } = useSidebar();
  const showCollapsed = !isMobileViewport && isCollapsed;
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "mt-auto border-t border-neutral-200 py-4 dark:border-neutral-700",
        showCollapsed ? "flex justify-center px-2" : "px-4",
        className
      ),
      children
    }
  );
}
function SidebarContent({
  children,
  className
}) {
  return /* @__PURE__ */ jsx("div", { className: cn("flex-1 overflow-y-auto py-4", className), children });
}
function SidebarNav({
  children,
  className
}) {
  return /* @__PURE__ */ jsx("nav", { className: cn("space-y-1 px-2", className), children });
}
function SidebarNavGroup({
  label,
  icon,
  children,
  defaultExpanded = false,
  groupId,
  className
}) {
  const { isCollapsed, isMobileViewport, expandedGroup, toggleGroup } = useSidebar();
  const showCollapsed = !isMobileViewport && isCollapsed;
  const isExpanded = groupId ? expandedGroup === groupId : defaultExpanded;
  const [localExpanded, setLocalExpanded] = useState(defaultExpanded);
  const effectiveExpanded = groupId ? isExpanded : localExpanded;
  const handleToggle = useCallback(() => {
    if (groupId) {
      toggleGroup(groupId);
    } else {
      setLocalExpanded((prev) => !prev);
    }
  }, [groupId, toggleGroup]);
  return /* @__PURE__ */ jsxs("div", { className: cn("mb-2", className), children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        onClick: handleToggle,
        className: cn(
          "flex w-full items-center rounded-lg px-3 py-2 text-sm font-semibold",
          "text-neutral-700 dark:text-neutral-300",
          "transition-colors hover:bg-neutral-100 dark:hover:bg-neutral-800",
          showCollapsed && "justify-center"
        ),
        title: showCollapsed ? label : void 0,
        children: [
          icon && /* @__PURE__ */ jsx(
            "span",
            {
              className: cn(
                "h-5 w-5 flex-shrink-0 text-neutral-500 dark:text-neutral-400",
                !showCollapsed && "mr-3"
              ),
              children: icon
            }
          ),
          !showCollapsed && /* @__PURE__ */ jsxs(Fragment, { children: [
            /* @__PURE__ */ jsx("span", { className: "flex-1 truncate text-left", children: label }),
            /* @__PURE__ */ jsx(
              "span",
              {
                className: cn(
                  "ml-2 flex-shrink-0 transition-transform duration-200",
                  effectiveExpanded && "rotate-180"
                ),
                children: /* @__PURE__ */ jsx(ChevronDownIcon4, {})
              }
            )
          ] })
        ]
      }
    ),
    !showCollapsed && /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "overflow-hidden transition-all duration-300",
          effectiveExpanded ? "mt-1 max-h-[1000px] opacity-100" : "max-h-0 opacity-0"
        ),
        children: /* @__PURE__ */ jsx("div", { className: "pl-2", children })
      }
    )
  ] });
}
function SidebarNavItem({
  label,
  icon,
  isActive = false,
  onClick,
  href,
  badge,
  disabled = false,
  className,
  "data-testid": testId
}) {
  const { isCollapsed, isMobileViewport, closeMobile } = useSidebar();
  const showCollapsed = !isMobileViewport && isCollapsed;
  const handleClick = useCallback(() => {
    if (disabled) return;
    onClick?.();
    if (isMobileViewport) {
      closeMobile();
    }
  }, [disabled, onClick, isMobileViewport, closeMobile]);
  const content = /* @__PURE__ */ jsxs(Fragment, { children: [
    icon && /* @__PURE__ */ jsx(
      "span",
      {
        className: cn(
          "h-5 w-5 flex-shrink-0",
          isActive ? "text-primary-600 dark:text-primary-400" : "text-neutral-500 dark:text-neutral-400",
          !showCollapsed && "mr-3"
        ),
        children: icon
      }
    ),
    !showCollapsed && /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx("span", { className: "flex-1 truncate text-left", children: label }),
      badge && /* @__PURE__ */ jsx(
        "span",
        {
          className: cn(
            "ml-2 rounded-full px-2 py-0.5 text-xs font-medium",
            isActive ? "bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300" : "bg-neutral-100 text-neutral-600 dark:bg-neutral-700 dark:text-neutral-400"
          ),
          children: badge
        }
      )
    ] })
  ] });
  const baseClasses = cn(
    "flex items-center w-full px-3 py-2 text-sm rounded-lg transition-colors",
    isActive ? "bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 font-medium" : "text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800",
    disabled && "opacity-50 cursor-not-allowed",
    showCollapsed && "justify-center",
    className
  );
  if (href && !disabled) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href,
        onClick: handleClick,
        "data-testid": testId,
        className: baseClasses,
        title: showCollapsed ? label : void 0,
        children: content
      }
    );
  }
  return /* @__PURE__ */ jsx(
    "button",
    {
      onClick: handleClick,
      disabled,
      "data-testid": testId,
      className: baseClasses,
      title: showCollapsed ? label : void 0,
      children: content
    }
  );
}
function SidebarToggle({
  className,
  position = "inline"
}) {
  const { isCollapsed, toggleCollapsed, isMobileViewport } = useSidebar();
  if (isMobileViewport) return /* @__PURE__ */ jsx(Fragment, {});
  const button = /* @__PURE__ */ jsx(
    "button",
    {
      onClick: toggleCollapsed,
      className: cn(
        "rounded-lg p-2 text-neutral-500 dark:text-neutral-400",
        "transition-colors hover:bg-neutral-100 dark:hover:bg-neutral-800",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        className
      ),
      "aria-label": isCollapsed ? "Expand sidebar" : "Collapse sidebar",
      children: isCollapsed ? /* @__PURE__ */ jsx(ChevronRightIcon2, {}) : /* @__PURE__ */ jsx(ChevronLeftIcon2, {})
    }
  );
  if (position === "floating") {
    return /* @__PURE__ */ jsx("div", { className: "absolute top-6 -right-3 z-10 rounded-full border border-neutral-200 bg-white shadow-md dark:border-neutral-700 dark:bg-neutral-900", children: button });
  }
  return button;
}
function SidebarMobileToggle({
  className,
  icon
}) {
  const { openMobile, isMobileViewport } = useSidebar();
  if (!isMobileViewport) return /* @__PURE__ */ jsx(Fragment, {});
  return /* @__PURE__ */ jsx(
    "button",
    {
      onClick: openMobile,
      className: cn(
        "rounded-lg p-2 text-neutral-500 dark:text-neutral-400",
        "transition-colors hover:bg-neutral-100 dark:hover:bg-neutral-800",
        "focus:ring-primary-500 focus:ring-2 focus:outline-none",
        className
      ),
      "aria-label": "Open navigation",
      children: icon ?? /* @__PURE__ */ jsx(MenuIcon, {})
    }
  );
}
function SidebarSearch({
  value,
  onChange,
  placeholder = "Search...",
  shortcutHint = "/",
  className,
  "data-testid": testId = "sidebar-search"
}) {
  const { isCollapsed, isMobileViewport, setCollapsed } = useSidebar();
  const inputRef = useRef(null);
  const showCollapsed = !isMobileViewport && isCollapsed;
  useEffect(() => {
    const handleKeyDown = (e) => {
      const target = e.target;
      if (target.tagName === "INPUT" || target.tagName === "TEXTAREA" || target.isContentEditable) {
        return;
      }
      if (e.key === "/") {
        e.preventDefault();
        if (showCollapsed) {
          setCollapsed(false);
          setTimeout(() => inputRef.current?.focus(), 350);
        } else {
          inputRef.current?.focus();
        }
      }
    };
    document.addEventListener("keydown", handleKeyDown);
    return () => document.removeEventListener("keydown", handleKeyDown);
  }, [showCollapsed, setCollapsed]);
  if (showCollapsed) return /* @__PURE__ */ jsx(Fragment, {});
  return /* @__PURE__ */ jsx("div", { className: cn("px-3 py-2", className), children: /* @__PURE__ */ jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ jsx("div", { className: "absolute top-1/2 left-3 -translate-y-1/2 text-neutral-400", children: /* @__PURE__ */ jsx(SearchIcon6, {}) }),
    /* @__PURE__ */ jsx(
      "input",
      {
        ref: inputRef,
        type: "text",
        value,
        onChange: (e) => onChange(e.target.value),
        placeholder: `${placeholder} (${shortcutHint})`,
        "data-testid": testId,
        className: cn(
          "w-full rounded-lg py-2 pr-4 pl-10 text-sm",
          "border-transparent bg-neutral-100 dark:bg-neutral-800",
          "text-neutral-900 placeholder-neutral-400 dark:text-white dark:placeholder-neutral-500",
          "focus:ring-primary-500 focus:bg-white focus:ring-2 focus:outline-none dark:focus:bg-neutral-700",
          "transition-colors"
        )
      }
    )
  ] }) });
}
function InstagramIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" })
    }
  );
}
function LinkedInIcon3({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" })
    }
  );
}
function TwitterIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" })
    }
  );
}
function FacebookIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" })
    }
  );
}
function YouTubeIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" })
    }
  );
}
function TikTokIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z" })
    }
  );
}
function GitHubIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      viewBox: "0 0 24 24",
      fill: "currentColor",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx("path", { d: "M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" })
    }
  );
}
var socialIcons = {
  instagram: InstagramIcon2,
  linkedin: LinkedInIcon3,
  twitter: TwitterIcon2,
  facebook: FacebookIcon2,
  youtube: YouTubeIcon2,
  tiktok: TikTokIcon2,
  github: GitHubIcon
};
function SocialMediaLinks2({
  links,
  variant = "dark",
  size = "md",
  className
}) {
  const sizeClasses2 = {
    sm: "w-8 h-8 text-lg",
    md: "w-10 h-10 text-xl",
    lg: "w-12 h-12 text-2xl"
  };
  return /* @__PURE__ */ jsx("div", { className: cn("flex items-center gap-2", className), children: links.map((link) => {
    const Icon = socialIcons[link.platform];
    return /* @__PURE__ */ jsx(
      "a",
      {
        href: link.href,
        target: "_blank",
        rel: "noopener noreferrer",
        "aria-label": link.label || `Follow us on ${link.platform}`,
        className: cn(
          "flex items-center justify-center rounded-full transition-colors",
          sizeClasses2[size],
          variant === "light" ? "text-white/70 hover:bg-white/10 hover:text-white" : "text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"
        ),
        children: /* @__PURE__ */ jsx(Icon, {})
      },
      link.platform
    );
  }) });
}
function NewsletterForm({
  onSubmit,
  placeholder = "Enter your email",
  buttonText = "Sign Up",
  variant = "dark",
  isLoading = false,
  className
}) {
  const [email, setEmail] = React46.useState("");
  function handleSubmit(e) {
    e.preventDefault();
    if (email.trim()) {
      onSubmit?.(email.trim());
      setEmail("");
    }
  }
  return /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: cn("flex gap-2", className), children: [
    /* @__PURE__ */ jsx(
      "input",
      {
        type: "email",
        value: email,
        onChange: (e) => setEmail(e.target.value),
        placeholder,
        required: true,
        className: cn(
          "min-w-0 flex-1 rounded-lg px-4 py-2 text-sm transition-colors",
          variant === "light" ? "border border-white/20 bg-white/10 text-white placeholder-white/60 focus:border-white/50 focus:outline-none" : "focus:border-primary-500 border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400"
        ),
        disabled: isLoading
      }
    ),
    /* @__PURE__ */ jsx(
      "button",
      {
        type: "submit",
        disabled: isLoading,
        className: cn(
          "rounded-lg px-4 py-2 text-sm font-medium whitespace-nowrap transition-colors",
          variant === "light" ? "text-primary-600 bg-white hover:bg-white/90" : "bg-primary-600 hover:bg-primary-700 text-white",
          isLoading && "cursor-not-allowed opacity-50"
        ),
        children: isLoading ? "Sending..." : buttonText
      }
    )
  ] });
}
function FooterLinkSection({
  group,
  variant = "dark",
  className
}) {
  return /* @__PURE__ */ jsxs("div", { className, children: [
    /* @__PURE__ */ jsx(
      "h3",
      {
        className: cn(
          "mb-4 text-sm font-semibold tracking-wider uppercase",
          variant === "light" ? "text-white/70" : "text-gray-500 dark:text-gray-400"
        ),
        children: group.title
      }
    ),
    /* @__PURE__ */ jsx("ul", { className: "space-y-2", children: group.links.map((link) => /* @__PURE__ */ jsx("li", { children: /* @__PURE__ */ jsxs(
      "a",
      {
        href: link.href,
        target: link.external ? "_blank" : void 0,
        rel: link.external ? "noopener noreferrer" : void 0,
        className: cn(
          "text-sm transition-colors",
          variant === "light" ? "text-white/60 hover:text-white" : "text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"
        ),
        children: [
          link.label,
          link.external && /* @__PURE__ */ jsx(ExternalLinkIcon, { className: "ml-1 inline-block h-3 w-3 opacity-50" })
        ]
      }
    ) }, link.href)) })
  ] });
}
function CopyrightText({
  companyName,
  year = (/* @__PURE__ */ new Date()).getFullYear(),
  variant = "dark",
  className
}) {
  return /* @__PURE__ */ jsxs(
    "span",
    {
      className: cn(
        "text-sm",
        variant === "light" ? "text-white/60" : "text-gray-500 dark:text-gray-400",
        className
      ),
      children: [
        "\xA9 ",
        year,
        " ",
        companyName
      ]
    }
  );
}
function LegalLinks({
  privacyHref = "/privacy",
  termsHref = "/terms",
  cookiesHref,
  additionalLinks = [],
  variant = "dark",
  className
}) {
  const links = [
    { label: "Privacy Policy", href: privacyHref },
    { label: "Terms & Conditions", href: termsHref },
    ...cookiesHref ? [{ label: "Cookie Policy", href: cookiesHref }] : [],
    ...additionalLinks
  ];
  return /* @__PURE__ */ jsx(
    "nav",
    {
      className: cn("flex flex-wrap items-center gap-x-4 gap-y-1", className),
      children: links.map((link, index) => /* @__PURE__ */ jsxs(React46.Fragment, { children: [
        index > 0 && /* @__PURE__ */ jsx(
          "span",
          {
            className: cn(
              "hidden sm:inline",
              variant === "light" ? "text-white/40" : "text-gray-300 dark:text-gray-600"
            ),
            children: "|"
          }
        ),
        /* @__PURE__ */ jsx(
          "a",
          {
            href: link.href,
            target: link.external ? "_blank" : void 0,
            rel: link.external ? "noopener noreferrer" : void 0,
            className: cn(
              "text-sm transition-colors",
              variant === "light" ? "text-white/60 hover:text-white" : "text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white"
            ),
            children: link.label
          }
        )
      ] }, link.href))
    }
  );
}
function DisclaimerText({
  children,
  variant = "dark",
  className
}) {
  return /* @__PURE__ */ jsx(
    "p",
    {
      className: cn(
        "text-xs leading-relaxed",
        variant === "light" ? "text-white/50" : "text-gray-400 dark:text-gray-500",
        className
      ),
      children
    }
  );
}
var footerVariants = cva("", {
  variants: {
    variant: {
      default: "bg-gray-100 dark:bg-gray-900",
      dark: "bg-gray-900 dark:bg-gray-950",
      primary: "bg-primary-600 dark:bg-primary-800",
      white: "bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800"
    }
  },
  defaultVariants: {
    variant: "default"
  }
});
function SiteFooter({
  logo = {},
  description,
  linkGroups = [],
  socialLinks = [],
  companyName = "BlueHive Health LLC",
  variant,
  showNewsletter = false,
  onNewsletterSubmit,
  newsletterPlaceholder,
  privacyHref,
  termsHref,
  cookiesHref,
  additionalLegalLinks,
  disclaimer,
  emergencyDisclaimer = false,
  className
}) {
  const colorVariant = variant === "primary" || variant === "dark" ? "light" : "dark";
  return /* @__PURE__ */ jsx(
    "footer",
    {
      className: cn(
        footerVariants({ variant: variant ?? "default" }),
        className
      ),
      children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto px-4 py-12", children: [
        /* @__PURE__ */ jsxs("div", { className: "mb-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-12", children: [
          /* @__PURE__ */ jsxs("div", { className: "lg:col-span-4", children: [
            (logo.name || logo.src) && /* @__PURE__ */ jsx("div", { className: "mb-4", children: logo.href ? /* @__PURE__ */ jsx(
              "a",
              {
                href: logo.href,
                className: "inline-flex items-center gap-2",
                children: logo.src ? /* @__PURE__ */ jsx(
                  "img",
                  {
                    src: logo.src,
                    alt: logo.alt || logo.name,
                    className: "h-8"
                  }
                ) : /* @__PURE__ */ jsx(
                  "span",
                  {
                    className: cn(
                      "text-xl font-bold",
                      colorVariant === "light" ? "text-white" : "text-gray-900 dark:text-white"
                    ),
                    children: logo.name
                  }
                )
              }
            ) : logo.src ? /* @__PURE__ */ jsx(
              "img",
              {
                src: logo.src,
                alt: logo.alt || logo.name,
                className: "h-8"
              }
            ) : /* @__PURE__ */ jsx(
              "span",
              {
                className: cn(
                  "text-xl font-bold",
                  colorVariant === "light" ? "text-white" : "text-gray-900 dark:text-white"
                ),
                children: logo.name
              }
            ) }),
            description && /* @__PURE__ */ jsx(
              "p",
              {
                className: cn(
                  "mb-4 text-sm",
                  colorVariant === "light" ? "text-white/70" : "text-gray-600 dark:text-gray-400"
                ),
                children: description
              }
            ),
            socialLinks.length > 0 && /* @__PURE__ */ jsx(SocialMediaLinks2, { links: socialLinks, variant: colorVariant })
          ] }),
          linkGroups.length > 0 && /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 gap-8 sm:grid-cols-3 lg:col-span-8 lg:grid-cols-4", children: linkGroups.map((group) => /* @__PURE__ */ jsx(
            FooterLinkSection,
            {
              group,
              variant: colorVariant
            },
            group.title
          )) })
        ] }),
        showNewsletter && /* @__PURE__ */ jsx(
          "div",
          {
            className: cn(
              "mb-6 border-t py-6",
              colorVariant === "light" ? "border-white/10" : "border-gray-200 dark:border-gray-800"
            ),
            children: /* @__PURE__ */ jsxs("div", { className: "max-w-md", children: [
              /* @__PURE__ */ jsx(
                "h3",
                {
                  className: cn(
                    "mb-3 text-sm font-semibold",
                    colorVariant === "light" ? "text-white" : "text-gray-900 dark:text-white"
                  ),
                  children: "Subscribe to our newsletter"
                }
              ),
              /* @__PURE__ */ jsx(
                NewsletterForm,
                {
                  onSubmit: onNewsletterSubmit,
                  placeholder: newsletterPlaceholder,
                  variant: colorVariant
                }
              )
            ] })
          }
        ),
        /* @__PURE__ */ jsxs(
          "div",
          {
            className: cn(
              "border-t pt-6",
              colorVariant === "light" ? "border-white/10" : "border-gray-200 dark:border-gray-800"
            ),
            children: [
              /* @__PURE__ */ jsxs("div", { className: "mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between", children: [
                /* @__PURE__ */ jsx(CopyrightText, { companyName, variant: colorVariant }),
                /* @__PURE__ */ jsx(
                  LegalLinks,
                  {
                    privacyHref,
                    termsHref,
                    cookiesHref,
                    additionalLinks: additionalLegalLinks,
                    variant: colorVariant
                  }
                )
              ] }),
              (disclaimer || emergencyDisclaimer) && /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
                emergencyDisclaimer && /* @__PURE__ */ jsx(DisclaimerText, { variant: colorVariant, children: /* @__PURE__ */ jsx("strong", { children: "In the event of a medical emergency, call 911." }) }),
                disclaimer && /* @__PURE__ */ jsx(DisclaimerText, { variant: colorVariant, children: disclaimer })
              ] })
            ]
          }
        )
      ] })
    }
  );
}
function SimpleFooter({
  companyName = "BlueHive Health LLC",
  privacyHref = "/privacy",
  termsHref = "/terms",
  variant = "dark",
  className
}) {
  return /* @__PURE__ */ jsx(
    "footer",
    {
      className: cn(
        "border-t py-4",
        variant === "light" ? "bg-primary-700 border-white/10" : "border-gray-200 bg-white dark:border-gray-800 dark:bg-gray-900",
        className
      ),
      children: /* @__PURE__ */ jsx("div", { className: "container mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-2 text-center sm:flex-row sm:items-center sm:justify-between sm:text-left", children: [
        /* @__PURE__ */ jsx(CopyrightText, { companyName, variant }),
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-center gap-4 sm:justify-end", children: [
          /* @__PURE__ */ jsx(
            "a",
            {
              href: privacyHref,
              className: cn(
                "text-sm transition-colors",
                variant === "light" ? "text-white/60 hover:text-white" : "text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white"
              ),
              children: "Privacy"
            }
          ),
          /* @__PURE__ */ jsx(
            "a",
            {
              href: termsHref,
              className: cn(
                "text-sm transition-colors",
                variant === "light" ? "text-white/60 hover:text-white" : "text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white"
              ),
              children: "Terms"
            }
          )
        ] })
      ] }) })
    }
  );
}
function ExternalLinkIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
        }
      )
    }
  );
}
function SiteLogo({
  href = "/",
  logoSrc,
  logoAlt = "Logo",
  textSrc,
  name,
  variant = "light",
  className
}) {
  const content = /* @__PURE__ */ jsxs("div", { className: cn("flex items-center gap-2", className), children: [
    logoSrc ? /* @__PURE__ */ jsx("img", { src: logoSrc, alt: logoAlt, className: "h-8 w-8 object-contain" }) : /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "flex h-8 w-8 items-center justify-center rounded-lg text-lg font-bold",
          variant === "light" ? "bg-white/20 text-white" : "bg-primary-600 text-white"
        ),
        children: name?.[0] || "B"
      }
    ),
    textSrc ? /* @__PURE__ */ jsx(
      "img",
      {
        src: textSrc,
        alt: `${logoAlt} Text`,
        className: cn(
          "h-6 object-contain",
          variant === "light" ? "brightness-0 invert" : ""
        )
      }
    ) : name ? /* @__PURE__ */ jsx(
      "span",
      {
        className: cn(
          "hidden text-xl font-semibold sm:block",
          variant === "light" ? "text-white" : "text-gray-900 dark:text-white"
        ),
        children: name
      }
    ) : null
  ] });
  return /* @__PURE__ */ jsx("a", { href, className: "flex-shrink-0", children: content });
}
function NavLinks({
  links,
  variant = "light",
  className
}) {
  return /* @__PURE__ */ jsx("nav", { className: cn("hidden items-center gap-1 md:flex", className), children: links.map((link) => /* @__PURE__ */ jsxs(
    "a",
    {
      href: link.href,
      target: link.external ? "_blank" : void 0,
      rel: link.external ? "noopener noreferrer" : void 0,
      className: cn(
        "rounded-lg px-3 py-2 text-sm font-medium transition-colors",
        variant === "light" ? "text-white/90 hover:bg-white/10 hover:text-white" : "text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white"
      ),
      children: [
        link.label,
        link.external && /* @__PURE__ */ jsx(ExternalLinkIcon2, { className: "ml-1 inline-block h-3 w-3 opacity-50" })
      ]
    },
    link.href
  )) });
}
function AuthButtons({
  variant = "light",
  onLogin,
  onSignUp,
  loginHref,
  signUpHref,
  showSignUp = true,
  className
}) {
  const loginButton = /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick: onLogin,
      className: cn(
        "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
        variant === "light" ? "border border-white/30 text-white hover:bg-white/10" : "border border-gray-300 text-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-800"
      ),
      children: "Log In"
    }
  );
  const signUpButton = showSignUp && /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick: onSignUp,
      className: cn(
        "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
        variant === "light" ? "text-primary-600 bg-white hover:bg-white/90" : "bg-primary-600 hover:bg-primary-700 text-white"
      ),
      children: "Sign Up"
    }
  );
  if (loginHref || signUpHref) {
    return /* @__PURE__ */ jsxs("div", { className: cn("flex items-center gap-2", className), children: [
      loginHref ? /* @__PURE__ */ jsx(
        "a",
        {
          href: loginHref,
          className: cn(
            "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
            variant === "light" ? "border border-white/30 text-white hover:bg-white/10" : "border border-gray-300 text-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-800"
          ),
          children: "Log In"
        }
      ) : loginButton,
      showSignUp && signUpHref ? /* @__PURE__ */ jsx(
        "a",
        {
          href: signUpHref,
          className: cn(
            "rounded-lg px-4 py-2 text-sm font-medium transition-colors",
            variant === "light" ? "text-primary-600 bg-white hover:bg-white/90" : "bg-primary-600 hover:bg-primary-700 text-white"
          ),
          children: "Sign Up"
        }
      ) : signUpButton
    ] });
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("flex items-center gap-2", className), children: [
    loginButton,
    signUpButton
  ] });
}
function UserMenu({
  user,
  variant = "light",
  onLogout,
  onProfile,
  onSettings,
  menuItems = [],
  className
}) {
  const [isOpen, setIsOpen] = React46.useState(false);
  const menuRef = React46.useRef(null);
  React46.useEffect(() => {
    function handleClickOutside(event) {
      if (menuRef.current && !menuRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    }
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  const initials = user.name.split(" ").map((word) => word[0]).join("").toUpperCase().slice(0, 2);
  const defaultItems = [
    ...onProfile ? [
      {
        label: "Profile",
        onClick: onProfile,
        icon: /* @__PURE__ */ jsx(UserIcon, { className: "h-4 w-4" })
      }
    ] : [],
    ...onSettings ? [
      {
        label: "Settings",
        onClick: onSettings,
        icon: /* @__PURE__ */ jsx(SettingsIcon, { className: "h-4 w-4" })
      }
    ] : [],
    ...menuItems,
    ...onLogout ? [
      {
        label: "Log Out",
        onClick: onLogout,
        icon: /* @__PURE__ */ jsx(LogoutIcon, { className: "h-4 w-4" })
      }
    ] : []
  ];
  return /* @__PURE__ */ jsxs("div", { ref: menuRef, className: cn("relative", className), children: [
    /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => setIsOpen(!isOpen),
        className: cn(
          "flex items-center gap-2 rounded-full p-1 transition-colors",
          variant === "light" ? "hover:bg-white/10" : "hover:bg-gray-100 dark:hover:bg-gray-800"
        ),
        "aria-expanded": isOpen,
        "aria-haspopup": "true",
        children: [
          user.avatarUrl ? /* @__PURE__ */ jsx(
            "img",
            {
              src: user.avatarUrl,
              alt: user.name,
              className: "h-8 w-8 rounded-full object-cover"
            }
          ) : /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium",
                variant === "light" ? "bg-white/20 text-white" : "bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400"
              ),
              children: initials
            }
          ),
          /* @__PURE__ */ jsx(
            ChevronDownIcon5,
            {
              className: cn(
                "h-4 w-4 transition-transform",
                variant === "light" ? "text-white/70" : "text-gray-500 dark:text-gray-400",
                isOpen && "rotate-180"
              )
            }
          )
        ]
      }
    ),
    isOpen && /* @__PURE__ */ jsxs("div", { className: "absolute right-0 z-50 mt-2 w-56 rounded-lg bg-white shadow-lg ring-1 ring-black/5 dark:bg-gray-800 dark:ring-white/10", children: [
      /* @__PURE__ */ jsxs("div", { className: "border-b border-gray-100 px-4 py-3 dark:border-gray-700", children: [
        /* @__PURE__ */ jsx("p", { className: "truncate text-sm font-medium text-gray-900 dark:text-white", children: user.name }),
        user.email && /* @__PURE__ */ jsx("p", { className: "truncate text-xs text-gray-500 dark:text-gray-400", children: user.email })
      ] }),
      /* @__PURE__ */ jsx("div", { className: "py-1", children: defaultItems.map(
        (item, index) => item.href ? /* @__PURE__ */ jsxs(
          "a",
          {
            href: item.href,
            className: "flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",
            onClick: () => setIsOpen(false),
            children: [
              item.icon,
              item.label
            ]
          },
          item.label
        ) : /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: () => {
              item.onClick?.();
              setIsOpen(false);
            },
            className: cn(
              "flex w-full items-center gap-2 px-4 py-2 text-left text-sm",
              index === defaultItems.length - 1 && onLogout ? "text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20" : "text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
            ),
            children: [
              item.icon,
              item.label
            ]
          },
          item.label
        )
      ) })
    ] })
  ] });
}
function MobileMenuButton({
  isOpen,
  onClick,
  variant = "light",
  className
}) {
  return /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick,
      className: cn(
        "rounded-lg p-2 transition-colors md:hidden",
        variant === "light" ? "text-white hover:bg-white/10" : "text-gray-700 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-800",
        className
      ),
      "aria-expanded": isOpen,
      "aria-label": "Toggle menu",
      children: isOpen ? /* @__PURE__ */ jsx(CloseIcon5, { className: "h-6 w-6" }) : /* @__PURE__ */ jsx(MenuIcon2, { className: "h-6 w-6" })
    }
  );
}
function MobileMenuPanel({
  isOpen,
  onClose,
  links,
  user,
  onLogin,
  onSignUp,
  onLogout,
  className
}) {
  if (!isOpen) return null;
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(
      "div",
      {
        className: "fixed inset-0 z-40 bg-black/50 md:hidden",
        onClick: onClose,
        "aria-hidden": "true"
      }
    ),
    /* @__PURE__ */ jsxs(
      "div",
      {
        className: cn(
          "fixed top-0 right-0 bottom-0 z-50 w-80 max-w-full bg-white shadow-xl md:hidden dark:bg-gray-900",
          className
        ),
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b border-gray-200 p-4 dark:border-gray-700", children: [
            /* @__PURE__ */ jsx("span", { className: "text-lg font-semibold text-gray-900 dark:text-white", children: "Menu" }),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: onClose,
                className: "rounded-lg p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200",
                "aria-label": "Close menu",
                children: /* @__PURE__ */ jsx(CloseIcon5, { className: "h-5 w-5" })
              }
            )
          ] }),
          /* @__PURE__ */ jsx("nav", { className: "space-y-1 p-4", children: links.map((link) => /* @__PURE__ */ jsxs(
            "a",
            {
              href: link.href,
              target: link.external ? "_blank" : void 0,
              rel: link.external ? "noopener noreferrer" : void 0,
              className: "flex items-center gap-2 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",
              onClick: onClose,
              children: [
                link.label,
                link.external && /* @__PURE__ */ jsx(ExternalLinkIcon2, { className: "h-4 w-4 opacity-50" })
              ]
            },
            link.href
          )) }),
          /* @__PURE__ */ jsx("div", { className: "absolute right-0 bottom-0 left-0 border-t border-gray-200 p-4 dark:border-gray-700", children: user ? /* @__PURE__ */ jsxs("div", { className: "space-y-3", children: [
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 px-2", children: [
              /* @__PURE__ */ jsx("div", { className: "bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 flex h-10 w-10 items-center justify-center rounded-full font-medium", children: user.name.split(" ").map((w) => w[0]).join("").slice(0, 2) }),
              /* @__PURE__ */ jsxs("div", { children: [
                /* @__PURE__ */ jsx("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: user.name }),
                user.email && /* @__PURE__ */ jsx("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: user.email })
              ] })
            ] }),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: () => {
                  onLogout?.();
                  onClose();
                },
                className: "w-full rounded-lg px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",
                children: "Log Out"
              }
            )
          ] }) : /* @__PURE__ */ jsxs("div", { className: "grid grid-cols-2 gap-3", children: [
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: () => {
                  onLogin?.();
                  onClose();
                },
                className: "rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",
                children: "Log In"
              }
            ),
            /* @__PURE__ */ jsx(
              "button",
              {
                type: "button",
                onClick: () => {
                  onSignUp?.();
                  onClose();
                },
                className: "bg-primary-600 hover:bg-primary-700 rounded-lg px-4 py-2 text-sm font-medium text-white",
                children: "Sign Up"
              }
            )
          ] }) })
        ]
      }
    )
  ] });
}
var headerVariants3 = cva(
  "fixed top-0 left-0 right-0 z-40 transition-colors",
  {
    variants: {
      variant: {
        primary: "bg-primary-600",
        white: "bg-white shadow-sm dark:bg-gray-900 dark:border-b dark:border-gray-800",
        transparent: "bg-transparent",
        glass: "bg-white/80 backdrop-blur-md shadow-sm dark:bg-gray-900/80"
      }
    },
    defaultVariants: {
      variant: "primary"
    }
  }
);
function SiteHeader({
  logo = {},
  links = [],
  user,
  variant,
  onLogin,
  onSignUp,
  onLogout,
  onProfile,
  loginHref,
  signUpHref,
  showSignUp = true,
  userMenuItems,
  className
}) {
  const [mobileMenuOpen, setMobileMenuOpen] = React46.useState(false);
  const colorVariant = variant === "primary" || variant === "transparent" ? "light" : "dark";
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx("div", { className: "h-16", "aria-hidden": "true" }),
    /* @__PURE__ */ jsx(
      "header",
      {
        className: cn(
          headerVariants3({ variant: variant ?? "primary" }),
          className
        ),
        children: /* @__PURE__ */ jsx("div", { className: "container mx-auto px-4", children: /* @__PURE__ */ jsxs("div", { className: "flex h-16 items-center justify-between", children: [
          /* @__PURE__ */ jsx(
            SiteLogo,
            {
              href: logo.href,
              logoSrc: logo.src,
              logoAlt: logo.alt,
              textSrc: logo.textSrc,
              name: logo.name,
              variant: colorVariant
            }
          ),
          /* @__PURE__ */ jsx(NavLinks, { links, variant: colorVariant }),
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsx("div", { className: "hidden md:block", children: user ? /* @__PURE__ */ jsx(
              UserMenu,
              {
                user,
                variant: colorVariant,
                onLogout,
                onProfile,
                menuItems: userMenuItems
              }
            ) : /* @__PURE__ */ jsx(
              AuthButtons,
              {
                variant: colorVariant,
                onLogin,
                onSignUp,
                loginHref,
                signUpHref,
                showSignUp
              }
            ) }),
            /* @__PURE__ */ jsx(
              MobileMenuButton,
              {
                isOpen: mobileMenuOpen,
                onClick: () => setMobileMenuOpen(!mobileMenuOpen),
                variant: colorVariant
              }
            )
          ] })
        ] }) })
      }
    ),
    /* @__PURE__ */ jsx(
      MobileMenuPanel,
      {
        isOpen: mobileMenuOpen,
        onClose: () => setMobileMenuOpen(false),
        links,
        user,
        onLogin,
        onSignUp,
        onLogout
      }
    )
  ] });
}
function CompactHeader({
  title,
  backHref,
  onBack,
  rightContent,
  className
}) {
  const backButton = backHref ? /* @__PURE__ */ jsx(
    "a",
    {
      href: backHref,
      className: "rounded-lg p-2 text-gray-700 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-800",
      children: /* @__PURE__ */ jsx(ChevronLeftIcon3, { className: "h-5 w-5" })
    }
  ) : onBack ? /* @__PURE__ */ jsx(
    "button",
    {
      type: "button",
      onClick: onBack,
      className: "rounded-lg p-2 text-gray-700 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-800",
      children: /* @__PURE__ */ jsx(ChevronLeftIcon3, { className: "h-5 w-5" })
    }
  ) : null;
  return /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx("div", { className: "h-14", "aria-hidden": "true" }),
    /* @__PURE__ */ jsx(
      "header",
      {
        className: cn(
          "fixed top-0 right-0 left-0 z-40 border-b border-gray-200 bg-white dark:border-gray-800 dark:bg-gray-900",
          className
        ),
        children: /* @__PURE__ */ jsxs("div", { className: "flex h-14 items-center justify-between px-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            backButton,
            title && /* @__PURE__ */ jsx("h1", { className: "truncate text-lg font-semibold text-gray-900 dark:text-white", children: title })
          ] }),
          rightContent
        ] })
      }
    )
  ] });
}
function MenuIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M4 6h16M4 12h16M4 18h16"
        }
      )
    }
  );
}
function CloseIcon5({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function ChevronDownIcon5({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M19 9l-7 7-7-7"
        }
      )
    }
  );
}
function ChevronLeftIcon3({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M15 19l-7-7 7-7"
        }
      )
    }
  );
}
function ExternalLinkIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
        }
      )
    }
  );
}
function UserIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
        }
      )
    }
  );
}
function SettingsIcon({ className }) {
  return /* @__PURE__ */ jsxs(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: [
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            strokeWidth: 2,
            d: "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
          }
        ),
        /* @__PURE__ */ jsx(
          "path",
          {
            strokeLinecap: "round",
            strokeLinejoin: "round",
            strokeWidth: 2,
            d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
          }
        )
      ]
    }
  );
}
function LogoutIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      stroke: "currentColor",
      viewBox: "0 0 24 24",
      width: "1em",
      height: "1em",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
        }
      )
    }
  );
}
function SSOConfigForm({
  initialData = {},
  hasExistingConfig = false,
  onSubmit,
  onDelete,
  onCancel,
  className,
  labels = {}
}) {
  const {
    title = "Configure Single Sign-On",
    clientDomain: clientDomainLabel = "Client Domain",
    clientDomainPlaceholder = "example.com",
    invalidClientDomain = "Please enter a valid client domain",
    ssoLoginUrl: ssoLoginUrlLabel = "SSO Login URL",
    ssoLoginUrlPlaceholder = "https://idp.example.com/login",
    invalidSsoLoginUrl = "Please enter a valid SSO login URL",
    ssoLogoutUrl: ssoLogoutUrlLabel = "SSO Logout URL",
    ssoLogoutUrlPlaceholder = "https://idp.example.com/logout",
    selectCertificate = "Select certificate file to upload (.cert)",
    selectFileToUpload = "Select File to Upload",
    certificateSelected = "Certificate selected:",
    otherOptions = "Other SSO Options",
    forceReauthentication = "Force Re-authentication",
    forceReauthenticationDescription = "Require users to authenticate every time",
    idpSignsRequest = "IDP Signs Request",
    idpSignsRequestDescription = "Enable if your IDP signs the authentication request",
    allowUnencryptedAssertion = "Allow Unencrypted Assertion",
    allowUnencryptedAssertionDescription = "Allow assertions without encryption (less secure)",
    save = "Save SSO Settings",
    delete: deleteLabel = "Delete SSO",
    cancel = "Cancel"
  } = labels;
  const [clientDomain, setClientDomain] = React46.useState(
    initialData.clientDomain ?? ""
  );
  const [ssoLoginUrl, setSsoLoginUrl] = React46.useState(
    initialData.ssoLoginUrl ?? ""
  );
  const [ssoLogoutUrl, setSsoLogoutUrl] = React46.useState(
    initialData.ssoLogoutUrl ?? ""
  );
  const [forceReauth, setForceReauth] = React46.useState(
    initialData.forceReauthentication ?? false
  );
  const [idpSigns, setIdpSigns] = React46.useState(
    initialData.idpSignsRequest ?? false
  );
  const [allowUnencrypted, setAllowUnencrypted] = React46.useState(
    initialData.allowUnencryptedAssertion ?? false
  );
  const [certificateFile, setCertificateFile] = React46.useState(
    null
  );
  const fileInputRef = React46.useRef(null);
  const [errors, setErrors] = React46.useState({});
  const validate = () => {
    const newErrors = {};
    if (!clientDomain.trim()) {
      newErrors.clientDomain = invalidClientDomain;
    }
    if (!ssoLoginUrl.trim()) {
      newErrors.ssoLoginUrl = invalidSsoLoginUrl;
    } else {
      try {
        new URL(ssoLoginUrl);
      } catch {
        newErrors.ssoLoginUrl = invalidSsoLoginUrl;
      }
    }
    if (!hasExistingConfig && !certificateFile) {
      newErrors.certificate = selectCertificate;
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!validate()) return;
    onSubmit(
      {
        clientDomain,
        ssoLoginUrl,
        ssoLogoutUrl: ssoLogoutUrl || void 0,
        forceReauthentication: forceReauth,
        idpSignsRequest: idpSigns,
        allowUnencryptedAssertion: allowUnencrypted
      },
      certificateFile ?? void 0
    );
  };
  const handleFileChange = (e) => {
    const file = e.target.files?.[0];
    if (file) {
      setCertificateFile(file);
      setErrors((prev) => ({ ...prev, certificate: "" }));
    }
  };
  const handleDragOver = (e) => {
    e.preventDefault();
    e.stopPropagation();
  };
  const handleDrop = (e) => {
    e.preventDefault();
    e.stopPropagation();
    const file = e.dataTransfer.files?.[0];
    if (file && file.name.endsWith(".cert")) {
      setCertificateFile(file);
      setErrors((prev) => ({ ...prev, certificate: "" }));
    }
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("space-y-6", className), children: [
    /* @__PURE__ */ jsx("h3", { className: "text-xl font-semibold", children: title }),
    /* @__PURE__ */ jsxs("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
      /* @__PURE__ */ jsx(
        Input,
        {
          label: clientDomainLabel,
          value: clientDomain,
          onChange: (e) => setClientDomain(e.target.value),
          placeholder: clientDomainPlaceholder,
          error: errors.clientDomain,
          required: true
        }
      ),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: ssoLoginUrlLabel,
          type: "url",
          value: ssoLoginUrl,
          onChange: (e) => setSsoLoginUrl(e.target.value),
          placeholder: ssoLoginUrlPlaceholder,
          error: errors.ssoLoginUrl,
          required: true
        }
      ),
      /* @__PURE__ */ jsx(
        Input,
        {
          label: ssoLogoutUrlLabel,
          type: "url",
          value: ssoLogoutUrl,
          onChange: (e) => setSsoLogoutUrl(e.target.value),
          placeholder: ssoLogoutUrlPlaceholder
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxs(
          "label",
          {
            htmlFor: "cert-upload",
            className: cn(
              "flex flex-col items-center justify-center",
              "w-full cursor-pointer rounded-lg border-2 border-dashed p-6",
              "transition-colors duration-200",
              "hover:border-primary hover:bg-primary/5",
              errors.certificate ? "border-destructive bg-destructive/5" : "border-border bg-muted/30"
            ),
            onDragOver: handleDragOver,
            onDrop: handleDrop,
            children: [
              certificateFile ? /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
                /* @__PURE__ */ jsx("span", { className: "text-muted-foreground text-sm", children: certificateSelected }),
                /* @__PURE__ */ jsx("p", { className: "text-foreground mt-1 font-medium", children: certificateFile.name })
              ] }) : /* @__PURE__ */ jsxs("div", { className: "text-center", children: [
                /* @__PURE__ */ jsx("p", { className: "text-muted-foreground mb-3 text-sm", children: selectCertificate }),
                /* @__PURE__ */ jsx(Button, { type: "button", variant: "primary", size: "sm", children: selectFileToUpload })
              ] }),
              /* @__PURE__ */ jsx(
                "input",
                {
                  ref: fileInputRef,
                  id: "cert-upload",
                  type: "file",
                  accept: ".cert",
                  onChange: handleFileChange,
                  className: "hidden"
                }
              )
            ]
          }
        ),
        errors.certificate && /* @__PURE__ */ jsx("p", { className: "text-destructive text-sm", children: errors.certificate })
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsx("h4", { className: "text-lg font-semibold", children: otherOptions }),
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: forceReauth,
            onCheckedChange: setForceReauth,
            label: forceReauthentication,
            description: forceReauthenticationDescription,
            id: "force-reauth"
          }
        ),
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: idpSigns,
            onCheckedChange: setIdpSigns,
            label: idpSignsRequest,
            description: idpSignsRequestDescription,
            id: "idp-signs"
          }
        ),
        /* @__PURE__ */ jsx(
          Switch,
          {
            checked: allowUnencrypted,
            onCheckedChange: setAllowUnencrypted,
            label: allowUnencryptedAssertion,
            description: allowUnencryptedAssertionDescription,
            id: "allow-unencrypted"
          }
        )
      ] }),
      /* @__PURE__ */ jsxs("div", { className: "flex flex-col gap-3 pt-4 sm:flex-row", children: [
        /* @__PURE__ */ jsx(Button, { type: "submit", variant: "primary", children: save }),
        hasExistingConfig && onDelete && /* @__PURE__ */ jsx(Button, { type: "button", variant: "danger", onClick: onDelete, children: deleteLabel }),
        onCancel && /* @__PURE__ */ jsx(Button, { type: "button", variant: "secondary", onClick: onCancel, children: cancel })
      ] })
    ] })
  ] });
}
function CheckIcon4({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M5 13l4 4L19 7"
        }
      )
    }
  );
}
function ErrorIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M6 18L18 6M6 6l12 12"
        }
      )
    }
  );
}
function StepIndicator({
  steps,
  currentStep,
  orientation = "horizontal",
  size = "md",
  onStepClick,
  allowCompletedStepsOnly = true,
  className = ""
}) {
  const sizeClasses2 = {
    sm: {
      circle: "w-6 h-6 text-xs",
      line: orientation === "horizontal" ? "h-0.5" : "w-0.5",
      gap: orientation === "horizontal" ? "gap-2" : "gap-2",
      text: "text-xs"
    },
    md: {
      circle: "w-8 h-8 text-sm",
      line: orientation === "horizontal" ? "h-0.5" : "w-0.5",
      gap: orientation === "horizontal" ? "gap-3" : "gap-3",
      text: "text-sm"
    },
    lg: {
      circle: "w-10 h-10 text-base",
      line: orientation === "horizontal" ? "h-1" : "w-1",
      gap: orientation === "horizontal" ? "gap-4" : "gap-4",
      text: "text-base"
    }
  };
  const sizes = sizeClasses2[size];
  const getStepStatus = (index) => {
    if (index < currentStep) return "completed";
    if (index === currentStep) return "current";
    return "upcoming";
  };
  const handleStepClick = (index) => {
    if (!onStepClick) return;
    if (allowCompletedStepsOnly && index > currentStep) return;
    onStepClick(index);
  };
  const isClickable = (index) => {
    if (!onStepClick) return false;
    if (allowCompletedStepsOnly) return index <= currentStep;
    return true;
  };
  return /* @__PURE__ */ jsx(
    "nav",
    {
      className: `
        ${orientation === "horizontal" ? "flex items-center" : "flex flex-col"}
        ${sizes.gap}
        ${className}
      `.trim(),
      "aria-label": "Progress",
      children: steps.map((step, index) => {
        const status = getStepStatus(index);
        const isLast = index === steps.length - 1;
        const clickable = isClickable(index);
        return /* @__PURE__ */ jsxs(React46.Fragment, { children: [
          /* @__PURE__ */ jsxs(
            "div",
            {
              className: `
                flex items-center
                ${orientation === "vertical" ? "flex-row" : "flex-col"}
                ${sizes.gap}
              `.trim(),
              children: [
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    onClick: () => handleStepClick(index),
                    disabled: !clickable,
                    className: `
                  ${sizes.circle}
                  rounded-full flex items-center justify-center
                  font-medium transition-all duration-200
                  focus:outline-none focus:ring-2 focus:ring-offset-2
                  ${clickable ? "cursor-pointer" : "cursor-default"}
                  ${step.hasError ? "bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400 focus:ring-red-500" : status === "completed" ? "bg-blue-600 text-white dark:bg-blue-500 focus:ring-blue-500" : status === "current" ? "bg-blue-600 text-white dark:bg-blue-500 ring-2 ring-blue-600 dark:ring-blue-500 ring-offset-2 focus:ring-blue-500" : "bg-gray-200 text-gray-500 dark:bg-gray-700 dark:text-gray-400 focus:ring-gray-400"}
                `.trim(),
                    "aria-current": status === "current" ? "step" : void 0,
                    children: step.hasError ? /* @__PURE__ */ jsx(ErrorIcon, { className: "w-4 h-4" }) : status === "completed" ? step.icon || /* @__PURE__ */ jsx(CheckIcon4, { className: "w-4 h-4" }) : step.icon || /* @__PURE__ */ jsx("span", { children: index + 1 })
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: `
                  ${orientation === "horizontal" ? "text-center" : "flex-1"}
                  ${sizes.text}
                `.trim(),
                    children: [
                      /* @__PURE__ */ jsxs(
                        "p",
                        {
                          className: `
                    font-medium
                    ${step.hasError ? "text-red-600 dark:text-red-400" : status === "completed" || status === "current" ? "text-gray-900 dark:text-white" : "text-gray-500 dark:text-gray-400"}
                  `.trim(),
                          children: [
                            step.label,
                            step.optional && /* @__PURE__ */ jsxs("span", { className: "font-normal text-gray-500 dark:text-gray-400", children: [
                              " ",
                              "(optional)"
                            ] })
                          ]
                        }
                      ),
                      step.description && /* @__PURE__ */ jsx("p", { className: "text-gray-500 dark:text-gray-400 mt-0.5", children: step.description })
                    ]
                  }
                )
              ]
            }
          ),
          !isLast && /* @__PURE__ */ jsx(
            "div",
            {
              className: `
                  ${orientation === "horizontal" ? "flex-1 min-w-8" : "ml-4 min-h-4"}
                  flex items-center justify-center
                `.trim(),
              "aria-hidden": "true",
              children: /* @__PURE__ */ jsx(
                "div",
                {
                  className: `
                    ${orientation === "horizontal" ? "w-full" : "h-full min-h-4"}
                    ${sizes.line}
                    ${index < currentStep ? "bg-blue-600 dark:bg-blue-500" : "bg-gray-200 dark:bg-gray-700"}
                  `.trim()
                }
              )
            }
          )
        ] }, step.id);
      })
    }
  );
}
function StripeLogo({ className, ...props }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      viewBox: "0 0 60 25",
      fill: "currentColor",
      xmlns: "http://www.w3.org/2000/svg",
      className,
      "aria-label": "Stripe",
      ...props,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          fillRule: "evenodd",
          clipRule: "evenodd",
          d: "M59.64 14.28c0-4.38-2.1-7.84-6.12-7.84-4.04 0-6.48 3.46-6.48 7.8 0 5.16 2.88 7.76 7.02 7.76 2.02 0 3.54-.46 4.7-1.1v-3.42c-1.16.58-2.48.94-4.16.94-1.64 0-3.1-.58-3.28-2.58h8.28c0-.22.04-1.1.04-1.56zm-8.36-1.62c0-1.92 1.18-2.72 2.26-2.72 1.04 0 2.16.8 2.16 2.72h-4.42zM40.04 6.44c-1.66 0-2.72.78-3.32 1.32l-.22-1.04h-3.74v20.52l4.24-.9.02-4.98c.62.44 1.52 1.08 3 1.08 3.04 0 5.8-2.44 5.8-7.82-.02-4.92-2.82-7.58-5.78-7.58v-.6zm-1.02 11.66c-1 0-1.58-.36-2-.8l-.02-6.32c.44-.48 1.04-.86 2.02-.86 1.54 0 2.6 1.74 2.6 4 0 2.3-1.04 3.98-2.6 3.98zM27.42 5.16l4.26-.92V.78l-4.26.9v3.48zM27.42 6.72h4.26v14.86h-4.26V6.72zM22.94 7.94l-.26-1.22h-3.68v14.86h4.24v-10.1c1-.8 2.7-.66 3.24-.44V6.72c-.56-.2-2.62-.58-3.54 1.22zM14.66 2.9l-4.14.88-.02 13.6c0 2.52 1.88 4.38 4.4 4.38 1.4 0 2.42-.26 2.98-.56v-3.44c-.54.22-3.22 1-3.22-1.5V10.2h3.22V6.72h-3.22V2.9zM4.32 11.08c0-.66.54-1.14 1.44-1.14 1.28 0 2.9.52 4.18 1.44V7.36c-1.4-.56-2.78-.78-4.18-.78C2.32 6.58 0 8.46 0 11.3c0 4.48 6.16 3.76 6.16 5.7 0 .78-.68 1.04-1.62 1.04-1.4 0-3.2-.58-4.62-1.36v4.04c1.58.68 3.18.98 4.62.98 3.5 0 5.9-1.74 5.9-4.62-.02-4.84-6.2-3.98-6.2-5.8h.08z"
        }
      )
    }
  );
}
function StripeBadge({
  variant = "default",
  size = "md",
  showPoweredBy = true,
  href = "https://stripe.com",
  className
}) {
  const sizeClasses2 = {
    sm: {
      container: "gap-1 px-2 py-1",
      text: "text-xs",
      logo: "h-3"
    },
    md: {
      container: "gap-1.5 px-3 py-1.5",
      text: "text-sm",
      logo: "h-4"
    },
    lg: {
      container: "gap-2 px-4 py-2",
      text: "text-base",
      logo: "h-5"
    }
  };
  const variantClasses = {
    default: "bg-[#635bff]/10 text-[#635bff] dark:bg-[#635bff]/20",
    outline: "border border-[#635bff]/30 text-[#635bff]",
    minimal: "text-muted-foreground hover:text-[#635bff]"
  };
  const content = /* @__PURE__ */ jsxs(Fragment, { children: [
    showPoweredBy && /* @__PURE__ */ jsx("span", { className: cn("font-normal opacity-80", sizeClasses2[size].text), children: "Powered by" }),
    /* @__PURE__ */ jsx(StripeLogo, { className: sizeClasses2[size].logo })
  ] });
  const badgeClasses = cn(
    "inline-flex items-center rounded-md transition-colors",
    sizeClasses2[size].container,
    variantClasses[variant],
    variant !== "minimal" && "font-medium",
    className
  );
  if (href) {
    return /* @__PURE__ */ jsx(
      "a",
      {
        href,
        target: "_blank",
        rel: "noopener noreferrer",
        className: cn(badgeClasses, "hover:opacity-80"),
        "aria-label": "Powered by Stripe - Visit Stripe website",
        children: content
      }
    );
  }
  return /* @__PURE__ */ jsx("div", { className: badgeClasses, role: "img", "aria-label": "Powered by Stripe", children: content });
}
function StripeSecureBadge({
  size = "md",
  className
}) {
  const sizeClasses2 = {
    sm: {
      container: "gap-1.5",
      icon: "h-3 w-3",
      text: "text-xs",
      logo: "h-2.5"
    },
    md: {
      container: "gap-2",
      icon: "h-4 w-4",
      text: "text-sm",
      logo: "h-3"
    }
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className: cn(
        "text-muted-foreground inline-flex items-center",
        sizeClasses2[size].container,
        className
      ),
      role: "img",
      "aria-label": "Secure payments powered by Stripe",
      children: [
        /* @__PURE__ */ jsxs(
          "svg",
          {
            className: cn(
              sizeClasses2[size].icon,
              "text-green-600 dark:text-green-500"
            ),
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round",
            children: [
              /* @__PURE__ */ jsx("rect", { x: "3", y: "11", width: "18", height: "11", rx: "2", ry: "2" }),
              /* @__PURE__ */ jsx("path", { d: "M7 11V7a5 5 0 0 1 10 0v4" })
            ]
          }
        ),
        /* @__PURE__ */ jsx("span", { className: sizeClasses2[size].text, children: "Secured by" }),
        /* @__PURE__ */ jsx(StripeLogo, { className: sizeClasses2[size].logo })
      ]
    }
  );
}
function TimelineProgress({
  steps,
  currentStep,
  showTimestamps = true,
  className
}) {
  const visibleSteps = steps.filter((step) => !step.hidden);
  const currentIndex = visibleSteps.findIndex((s) => s.key === currentStep);
  const getStepState = (index) => {
    if (index < currentIndex) return "completed";
    if (index === currentIndex) return "current";
    return "pending";
  };
  const formatTimestamp = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toLocaleDateString(void 0, { month: "short", day: "numeric" });
  };
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn("flex items-start overflow-x-auto py-4", className),
      role: "progressbar",
      "aria-valuenow": currentIndex + 1,
      "aria-valuemin": 1,
      "aria-valuemax": visibleSteps.length,
      children: visibleSteps.map((step, index) => {
        const state = getStepState(index);
        const isLast = index === visibleSteps.length - 1;
        return /* @__PURE__ */ jsxs(
          "div",
          {
            className: cn(
              "flex flex-1 flex-col items-center",
              !isLast && "mr-2"
            ),
            children: [
              showTimestamps && /* @__PURE__ */ jsx("div", { className: "mb-1 h-5 text-center text-xs text-gray-500", children: step.completedAt ? formatTimestamp(step.completedAt) : "\xA0" }),
              /* @__PURE__ */ jsxs("div", { className: "flex w-full items-center", children: [
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: cn(
                      "h-1 flex-1",
                      index === 0 ? "bg-transparent" : "",
                      state === "completed" || state === "current" && index > 0 ? "bg-brand-500" : "bg-gray-200 dark:bg-gray-700"
                    )
                  }
                ),
                /* @__PURE__ */ jsxs(
                  "div",
                  {
                    className: cn(
                      "relative z-10 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border-2",
                      state === "completed" && "border-brand-500 bg-brand-500 text-white",
                      state === "current" && "border-brand-500 bg-white dark:bg-gray-900",
                      state === "pending" && "border-gray-300 bg-white dark:border-gray-600 dark:bg-gray-900"
                    ),
                    children: [
                      state === "completed" && /* @__PURE__ */ jsx(CheckIcon5, { className: "h-3 w-3" }),
                      state === "current" && /* @__PURE__ */ jsx("div", { className: "bg-brand-500 h-2 w-2 rounded-full" })
                    ]
                  }
                ),
                /* @__PURE__ */ jsx(
                  "div",
                  {
                    className: cn(
                      "h-1 flex-1",
                      isLast ? "bg-transparent" : "",
                      state === "completed" ? "bg-brand-500" : "bg-gray-200 dark:bg-gray-700"
                    )
                  }
                )
              ] }),
              /* @__PURE__ */ jsx(
                "div",
                {
                  className: cn(
                    "mt-2 text-center text-xs font-medium capitalize",
                    state === "completed" && "text-brand-600 dark:text-brand-400",
                    state === "current" && "text-gray-900 dark:text-gray-100",
                    state === "pending" && "text-gray-400 dark:text-gray-500"
                  ),
                  children: step.label
                }
              )
            ]
          },
          step.key
        );
      })
    }
  );
}
TimelineProgress.displayName = "TimelineProgress";
function TimelineEventList({
  events,
  relativeTime = false,
  className
}) {
  const formatTime4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    if (relativeTime) {
      const now = /* @__PURE__ */ new Date();
      const diffMs = now.getTime() - d.getTime();
      const diffMins = Math.floor(diffMs / 6e4);
      const diffHours = Math.floor(diffMins / 60);
      const diffDays = Math.floor(diffHours / 24);
      if (diffMins < 1) return "Just now";
      if (diffMins < 60) return `${diffMins}m ago`;
      if (diffHours < 24) return `${diffHours}h ago`;
      if (diffDays < 7) return `${diffDays}d ago`;
    }
    return d.toLocaleDateString(void 0, {
      month: "short",
      day: "numeric",
      hour: "numeric",
      minute: "2-digit"
    });
  };
  const getEventIcon = (type) => {
    switch (type) {
      case "message":
        return /* @__PURE__ */ jsx(MessageIcon, { className: "h-4 w-4" });
      case "status":
        return /* @__PURE__ */ jsx(StatusIcon, { className: "h-4 w-4" });
      case "attachment":
        return /* @__PURE__ */ jsx(AttachmentIcon, { className: "h-4 w-4" });
      case "assignment":
        return /* @__PURE__ */ jsx(UserIcon2, { className: "h-4 w-4" });
      case "note":
        return /* @__PURE__ */ jsx(NoteIcon, { className: "h-4 w-4" });
      default:
        return /* @__PURE__ */ jsx(StatusIcon, { className: "h-4 w-4" });
    }
  };
  const getEventColor = (type) => {
    switch (type) {
      case "message":
        return "bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";
      case "status":
        return "bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400";
      case "attachment":
        return "bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";
      case "assignment":
        return "bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400";
      case "note":
        return "bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";
      default:
        return "bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";
    }
  };
  if (events.length === 0) {
    return /* @__PURE__ */ jsx("div", { className: cn("py-8 text-center text-gray-500", className), children: "No activity yet." });
  }
  return /* @__PURE__ */ jsx("div", { className: cn("space-y-4", className), children: events.map((event, index) => /* @__PURE__ */ jsxs("div", { className: "relative flex gap-4", children: [
    index < events.length - 1 && /* @__PURE__ */ jsx("div", { className: "absolute top-10 left-5 h-full w-px bg-gray-200 dark:bg-gray-700" }),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "relative z-10 flex h-10 w-10 shrink-0 items-center justify-center rounded-full",
          getEventColor(event.type)
        ),
        children: getEventIcon(event.type)
      }
    ),
    /* @__PURE__ */ jsxs("div", { className: "flex-1 pt-1", children: [
      /* @__PURE__ */ jsxs("div", { className: "flex items-start justify-between gap-2", children: [
        /* @__PURE__ */ jsxs("div", { children: [
          /* @__PURE__ */ jsx("h4", { className: "font-medium text-gray-900 dark:text-gray-100", children: event.title }),
          event.author && /* @__PURE__ */ jsxs("p", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
            "by ",
            event.author
          ] })
        ] }),
        /* @__PURE__ */ jsx("time", { className: "shrink-0 text-xs text-gray-400 dark:text-gray-500", children: formatTime4(event.timestamp) })
      ] }),
      event.content && /* @__PURE__ */ jsx("p", { className: "mt-2 text-sm text-gray-600 dark:text-gray-300", children: event.content })
    ] })
  ] }, event.id)) });
}
TimelineEventList.displayName = "TimelineEventList";
function OrderConfirmation({
  open,
  onClose,
  orderNumber,
  message = "We've received your order! Our team is handling the logistics, ensuring your requested services are matched with qualified provider(s). Confirmation details will arrive in your inbox soon.",
  className
}) {
  if (!open) return null;
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",
        className
      ),
      role: "dialog",
      "aria-modal": "true",
      "aria-labelledby": "order-confirmation-title",
      children: /* @__PURE__ */ jsxs("div", { className: "w-full max-w-md rounded-xl bg-white p-6 shadow-xl dark:bg-gray-800", children: [
        /* @__PURE__ */ jsx("div", { className: "mb-6 flex justify-center", children: /* @__PURE__ */ jsx("div", { className: "flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30", children: /* @__PURE__ */ jsx("div", { className: "animate-bounce", children: /* @__PURE__ */ jsx(PlaneIcon, { className: "h-10 w-10 text-green-600 dark:text-green-400" }) }) }) }),
        /* @__PURE__ */ jsx(
          "h2",
          {
            id: "order-confirmation-title",
            className: "mb-2 text-center text-2xl font-bold text-gray-900 dark:text-gray-100",
            children: "Order Submitted!"
          }
        ),
        orderNumber && /* @__PURE__ */ jsxs("p", { className: "mb-4 text-center text-sm text-gray-500 dark:text-gray-400", children: [
          "Order #",
          orderNumber
        ] }),
        /* @__PURE__ */ jsx("p", { className: "mb-6 text-center text-gray-600 dark:text-gray-300", children: message }),
        /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: onClose,
            className: cn(
              "w-full rounded-lg px-4 py-3 font-medium",
              "bg-brand-600 hover:bg-brand-700 text-white",
              "dark:bg-brand-500 dark:hover:bg-brand-600",
              "transition-colors"
            ),
            children: "Got It"
          }
        )
      ] })
    }
  );
}
OrderConfirmation.displayName = "OrderConfirmation";
function CheckIcon5({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 3,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M4.5 12.75l6 6 9-13.5"
        }
      )
    }
  );
}
function MessageIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"
        }
      )
    }
  );
}
function StatusIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        }
      )
    }
  );
}
function AttachmentIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13"
        }
      )
    }
  );
}
function UserIcon2({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
        }
      )
    }
  );
}
function NoteIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
        }
      )
    }
  );
}
function PlaneIcon({ className }) {
  return /* @__PURE__ */ jsx(
    "svg",
    {
      className,
      fill: "none",
      viewBox: "0 0 24 24",
      stroke: "currentColor",
      strokeWidth: 1.5,
      children: /* @__PURE__ */ jsx(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          d: "M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"
        }
      )
    }
  );
}
var CheckIcon6 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" })
  }
);
var XCircleIcon = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
      }
    )
  }
);
var ExclamationIcon = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
      }
    )
  }
);
var InfoIcon = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-5 w-5",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
      }
    )
  }
);
var XIcon4 = () => /* @__PURE__ */ jsx(
  "svg",
  {
    className: "h-4 w-4",
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    strokeWidth: 2,
    children: /* @__PURE__ */ jsx(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        d: "M6 18L18 6M6 6l12 12"
      }
    )
  }
);
var variantStyles = {
  success: {
    container: "bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",
    icon: "text-green-500 dark:text-green-400"
  },
  error: {
    container: "bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",
    icon: "text-red-500 dark:text-red-400"
  },
  warning: {
    container: "bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200",
    icon: "text-amber-500 dark:text-amber-400"
  },
  info: {
    container: "bg-primary-50 dark:bg-primary-900/30 border-primary-200 dark:border-primary-800 text-primary-800 dark:text-primary-200",
    icon: "text-primary-500 dark:text-primary-400"
  }
};
var defaultIcons = {
  success: /* @__PURE__ */ jsx(CheckIcon6, {}),
  error: /* @__PURE__ */ jsx(XCircleIcon, {}),
  warning: /* @__PURE__ */ jsx(ExclamationIcon, {}),
  info: /* @__PURE__ */ jsx(InfoIcon, {})
};
function Toast({
  title,
  message,
  variant = "info",
  dismissible = true,
  action,
  icon,
  onClose
}) {
  const styles = variantStyles[variant];
  const displayIcon = icon ?? defaultIcons[variant];
  return /* @__PURE__ */ jsxs(
    "div",
    {
      role: "alert",
      className: cn(
        "flex items-start gap-3 rounded-lg border p-4 shadow-lg",
        "max-w-[420px] min-w-[300px]",
        "animate-slide-in-right",
        styles.container
      ),
      children: [
        /* @__PURE__ */ jsx("div", { className: cn("flex-shrink-0", styles.icon), children: displayIcon }),
        /* @__PURE__ */ jsxs("div", { className: "min-w-0 flex-1", children: [
          title && /* @__PURE__ */ jsx("p", { className: "mb-1 text-sm font-semibold", children: title }),
          /* @__PURE__ */ jsx("div", { className: "text-sm opacity-90", children: message }),
          action && /* @__PURE__ */ jsx(
            "button",
            {
              onClick: action.onClick,
              className: "mt-2 rounded text-sm font-medium underline hover:no-underline focus:ring-2 focus:ring-current focus:ring-offset-2 focus:outline-none",
              children: action.label
            }
          )
        ] }),
        dismissible && /* @__PURE__ */ jsx(
          "button",
          {
            onClick: onClose,
            className: "flex-shrink-0 rounded p-1 transition-colors hover:bg-black/10 focus:ring-2 focus:ring-current focus:outline-none dark:hover:bg-white/10",
            "aria-label": "Dismiss notification",
            children: /* @__PURE__ */ jsx(XIcon4, {})
          }
        )
      ]
    }
  );
}
var positionStyles = {
  "top-left": "top-4 left-4 items-start",
  "top-center": "top-4 left-1/2 -translate-x-1/2 items-center",
  "top-right": "top-4 right-4 items-end",
  "bottom-left": "bottom-4 left-4 items-start",
  "bottom-center": "bottom-4 left-1/2 -translate-x-1/2 items-center",
  "bottom-right": "bottom-4 right-4 items-end"
};
function ToastContainer({
  toasts,
  position = "bottom-right",
  onDismiss
}) {
  if (toasts.length === 0) return null;
  return /* @__PURE__ */ jsx(
    "div",
    {
      className: cn(
        "pointer-events-none fixed z-50 flex flex-col gap-2",
        positionStyles[position]
      ),
      "aria-live": "polite",
      "aria-atomic": "true",
      children: toasts.map((toast) => /* @__PURE__ */ jsx("div", { className: "pointer-events-auto", children: /* @__PURE__ */ jsx(Toast, { ...toast, onClose: () => onDismiss(toast.id) }) }, toast.id))
    }
  );
}
var ToastContext = createContext(null);
var toastIdCounter = 0;
function generateToastId() {
  return `toast-${++toastIdCounter}-${Date.now()}`;
}
function ToastProvider({
  children,
  maxToasts = 5,
  defaultDuration = 5e3
}) {
  const [toasts, setToasts] = useState([]);
  const dismiss = useCallback((id) => {
    setToasts((prev) => {
      const toast2 = prev.find((t) => t.id === id);
      if (toast2?.onDismiss) {
        toast2.onDismiss();
      }
      return prev.filter((t) => t.id !== id);
    });
  }, []);
  const dismissAll = useCallback(() => {
    setToasts((prev) => {
      prev.forEach((t) => t.onDismiss?.());
      return [];
    });
  }, []);
  const toast = useCallback(
    (options) => {
      const id = generateToastId();
      const duration = options.duration ?? defaultDuration;
      const newToast = {
        ...options,
        id,
        variant: options.variant ?? "info",
        dismissible: options.dismissible ?? true,
        duration
      };
      setToasts((prev) => {
        const updated = [...prev, newToast];
        if (updated.length > maxToasts) {
          const removed = updated.slice(0, updated.length - maxToasts);
          removed.forEach((t) => t.onDismiss?.());
          return updated.slice(-maxToasts);
        }
        return updated;
      });
      if (duration > 0) {
        setTimeout(() => dismiss(id), duration);
      }
      return id;
    },
    [maxToasts, defaultDuration, dismiss]
  );
  const success = useCallback(
    (message, options) => {
      return toast({ ...options, message, variant: "success" });
    },
    [toast]
  );
  const error = useCallback(
    (message, options) => {
      return toast({
        ...options,
        message,
        variant: "error",
        duration: options?.duration ?? 7e3
        // Errors stay longer by default
      });
    },
    [toast]
  );
  const warning = useCallback(
    (message, options) => {
      return toast({ ...options, message, variant: "warning" });
    },
    [toast]
  );
  const info = useCallback(
    (message, options) => {
      return toast({ ...options, message, variant: "info" });
    },
    [toast]
  );
  const contextValue = useMemo(
    () => ({
      toasts,
      toast,
      success,
      error,
      warning,
      info,
      dismiss,
      dismissAll
    }),
    [toasts, toast, success, error, warning, info, dismiss, dismissAll]
  );
  return /* @__PURE__ */ jsx(ToastContext.Provider, { value: contextValue, children });
}
function useToast() {
  const context = useContext(ToastContext);
  if (!context) {
    throw new Error("useToast must be used within a ToastProvider");
  }
  return context;
}
function WebChartReportViewer({
  reports,
  currentReport,
  reportResult,
  onReportSelect,
  onRefreshReports,
  onRefreshReport,
  onClose,
  loading = false,
  loadingReport = false,
  error,
  dateRange,
  onDateRangeChange,
  webchartBrand: webchartBrand2 = { name: "Enterprise Health" },
  onReconnect,
  className,
  labels = {}
}) {
  const {
    refreshReports = "Refresh Reports",
    refreshReport = "Refresh",
    reconnect = "Reconnect",
    noReports = "No reports available",
    loadingReports = "Loading reports...",
    loadingData = "Fetching latest data from Enterprise Health...",
    close = "Close",
    dateFrom = "From",
    dateTo = "To"
  } = labels;
  const [offcanvasOpen, setOffcanvasOpen] = React46.useState(false);
  const handleReportClick = (report) => {
    onReportSelect?.(report);
    setOffcanvasOpen(true);
  };
  const handleClose = () => {
    setOffcanvasOpen(false);
    onClose?.();
  };
  const formatDate4 = (date) => {
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toISOString().split("T")[0];
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("webchart-report-viewer", className), children: [
    error && /* @__PURE__ */ jsx("div", { className: "mb-4 rounded-lg border border-yellow-300 bg-yellow-50 p-4", children: /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
      /* @__PURE__ */ jsx("i", { className: "fas fa-exclamation-triangle mt-0.5 text-yellow-600" }),
      /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
        /* @__PURE__ */ jsx("span", { className: "font-medium text-yellow-800", children: error }),
        /* @__PURE__ */ jsxs("p", { className: "mt-1 text-sm text-yellow-700", children: [
          "If this error persists, you can try reconnecting ",
          webchartBrand2.name,
          "."
        ] }),
        onReconnect && /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            onClick: onReconnect,
            className: "mt-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-gray-700 hover:bg-gray-50",
            children: [
              /* @__PURE__ */ jsx("i", { className: "fas fa-link mr-2" }),
              reconnect
            ]
          }
        )
      ] })
    ] }) }),
    !error && !loading && /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: onRefreshReports,
        className: "mb-4 rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90",
        title: refreshReports,
        children: [
          /* @__PURE__ */ jsx("i", { className: "fas fa-sync-alt mr-2" }),
          refreshReports
        ]
      }
    ),
    /* @__PURE__ */ jsx("div", { className: "mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3", children: loading ? (
      // Loading placeholders
      /* @__PURE__ */ jsx(Fragment, { children: [1, 2, 3, 4, 5, 6].map((i) => /* @__PURE__ */ jsx("div", { className: "animate-pulse", children: /* @__PURE__ */ jsx("div", { className: "h-12 rounded-lg bg-gray-200" }) }, i)) })
    ) : reports.length > 0 ? (
      // Report buttons
      reports.map((report) => /* @__PURE__ */ jsx(
        "button",
        {
          type: "button",
          onClick: () => handleReportClick(report),
          className: "w-full truncate rounded-lg border border-primary bg-white p-3 text-left text-primary hover:bg-primary hover:text-white",
          title: report.description ? `${report.name}: ${report.description}` : report.name,
          children: report.name
        },
        report.id
      ))
    ) : /* @__PURE__ */ jsx("div", { className: "col-span-full py-8 text-center text-muted-foreground", children: noReports }) }),
    offcanvasOpen && /* @__PURE__ */ jsxs("div", { className: "fixed inset-0 z-50 flex", children: [
      /* @__PURE__ */ jsx(
        "div",
        {
          className: "fixed inset-0 bg-black/50",
          onClick: handleClose
        }
      ),
      /* @__PURE__ */ jsxs("div", { className: "fixed bottom-0 left-0 right-0 flex h-3/4 flex-col rounded-t-xl bg-white shadow-xl", children: [
        /* @__PURE__ */ jsxs("div", { className: "flex items-center justify-between border-b p-4", children: [
          /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ jsx("h5", { className: "text-lg font-semibold", children: currentReport?.name || "Report Results" }),
            reportResult?.error ? /* @__PURE__ */ jsx("span", { className: "text-yellow-500", title: reportResult.error, children: /* @__PURE__ */ jsx("i", { className: "fas fa-exclamation-triangle" }) }) : reportResult?.success ? /* @__PURE__ */ jsx("span", { className: "text-green-500", children: /* @__PURE__ */ jsx("i", { className: "fas fa-check-circle" }) }) : null
          ] }),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: handleClose,
              className: "text-2xl text-gray-400 hover:text-gray-600",
              "aria-label": close,
              children: "\xD7"
            }
          )
        ] }),
        /* @__PURE__ */ jsxs("div", { className: "flex flex-wrap items-center gap-3 border-b bg-gray-50 p-4", children: [
          onDateRangeChange && dateRange && /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxs("label", { className: "text-sm text-muted-foreground", children: [
              dateFrom,
              ":"
            ] }),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "date",
                value: formatDate4(dateRange.start),
                onChange: (e) => onDateRangeChange(e.target.value, dateRange.end),
                className: "rounded-lg border border-gray-300 px-2 py-1 text-sm"
              }
            ),
            /* @__PURE__ */ jsxs("label", { className: "text-sm text-muted-foreground", children: [
              dateTo,
              ":"
            ] }),
            /* @__PURE__ */ jsx(
              "input",
              {
                type: "date",
                value: formatDate4(dateRange.end),
                onChange: (e) => onDateRangeChange(dateRange.start, e.target.value),
                className: "rounded-lg border border-gray-300 px-2 py-1 text-sm"
              }
            )
          ] }),
          /* @__PURE__ */ jsx(
            "button",
            {
              type: "button",
              onClick: onRefreshReport,
              className: "rounded-lg bg-primary px-3 py-1.5 text-white hover:bg-primary/90",
              title: refreshReport,
              children: /* @__PURE__ */ jsx("i", { className: "fas fa-sync-alt" })
            }
          )
        ] }),
        /* @__PURE__ */ jsx("div", { className: "flex-1 overflow-auto p-4", children: loadingReport ? /* @__PURE__ */ jsxs("div", { className: "flex h-full flex-col items-center justify-center", children: [
          /* @__PURE__ */ jsx("div", { className: "h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent" }),
          /* @__PURE__ */ jsx("span", { className: "mt-4 text-muted-foreground", children: loadingData })
        ] }) : reportResult?.error ? /* @__PURE__ */ jsxs("div", { className: "rounded-lg border border-red-200 bg-red-50 p-4 text-red-600", children: [
          /* @__PURE__ */ jsx("i", { className: "fas fa-exclamation-circle mr-2" }),
          reportResult.error
        ] }) : reportResult?.data ? typeof reportResult.data === "string" ? /* @__PURE__ */ jsx(
          "div",
          {
            className: "prose max-w-none",
            dangerouslySetInnerHTML: { __html: reportResult.data }
          }
        ) : /* @__PURE__ */ jsx("pre", { className: "overflow-auto rounded-lg bg-gray-100 p-4 text-sm", children: JSON.stringify(reportResult.data, null, 2) }) : /* @__PURE__ */ jsx("div", { className: "py-8 text-center text-muted-foreground", children: "No data available" }) })
      ] })
    ] })
  ] });
}
function ReportDatePicker({
  startDate,
  endDate,
  onChange,
  presets = [
    { label: "Today", value: "today" },
    { label: "This Week", value: "this-week" },
    { label: "This Month", value: "this-month" },
    { label: "This Quarter", value: "this-quarter" },
    { label: "This Year", value: "this-year" },
    { label: "Custom", value: "custom" }
  ],
  className
}) {
  const [preset, setPreset] = React46.useState("this-month");
  const formatDate4 = (date) => {
    if (!date) return "";
    const d = typeof date === "string" ? new Date(date) : date;
    return d.toISOString().split("T")[0];
  };
  const handlePresetChange = (value) => {
    setPreset(value);
    const now = /* @__PURE__ */ new Date();
    let start;
    let end = now;
    switch (value) {
      case "today":
        start = now;
        break;
      case "this-week":
        start = new Date(now);
        start.setDate(now.getDate() - now.getDay());
        break;
      case "this-month":
        start = new Date(now.getFullYear(), now.getMonth(), 1);
        break;
      case "this-quarter":
        const quarter = Math.floor(now.getMonth() / 3);
        start = new Date(now.getFullYear(), quarter * 3, 1);
        break;
      case "this-year":
        start = new Date(now.getFullYear(), 0, 1);
        break;
      default:
        return;
    }
    onChange?.(start, end);
  };
  return /* @__PURE__ */ jsxs("div", { className: cn("flex flex-wrap items-center gap-3", className), children: [
    /* @__PURE__ */ jsx(
      "select",
      {
        value: preset,
        onChange: (e) => handlePresetChange(e.target.value),
        className: "rounded-lg border border-gray-300 px-3 py-2",
        children: presets.map((p) => /* @__PURE__ */ jsx("option", { value: p.value, children: p.label }, p.value))
      }
    ),
    preset === "custom" && /* @__PURE__ */ jsxs(Fragment, { children: [
      /* @__PURE__ */ jsx(
        "input",
        {
          type: "date",
          value: formatDate4(startDate),
          onChange: (e) => onChange?.(e.target.value, endDate || /* @__PURE__ */ new Date()),
          className: "rounded-lg border border-gray-300 px-3 py-2"
        }
      ),
      /* @__PURE__ */ jsx("span", { className: "text-muted-foreground", children: "to" }),
      /* @__PURE__ */ jsx(
        "input",
        {
          type: "date",
          value: formatDate4(endDate),
          onChange: (e) => onChange?.(startDate || /* @__PURE__ */ new Date(), e.target.value),
          className: "rounded-lg border border-gray-300 px-3 py-2"
        }
      )
    ] })
  ] });
}
function isValidUrl(url) {
  if (!url) return true;
  try {
    new URL(url);
    return true;
  } catch {
    try {
      new URL(`https://${url}`);
      return true;
    } catch {
      return false;
    }
  }
}
var WebsiteInput = React46.forwardRef(
  ({
    value = "",
    onChange,
    validateOnBlur,
    className,
    onBlur,
    hasError,
    error,
    ...props
  }, ref) => {
    const [localError, setLocalError] = React46.useState();
    const handleChange = (e) => {
      onChange?.(e.target.value);
      if (localError) {
        setLocalError(void 0);
      }
    };
    const handleBlur = (e) => {
      onBlur?.(e);
      if (validateOnBlur) {
        if (value.length > 0 && !isValidUrl(value)) {
          setLocalError("Please enter a valid URL");
        } else {
          setLocalError(void 0);
        }
      }
    };
    return /* @__PURE__ */ jsx(
      Input,
      {
        ref,
        type: "url",
        inputMode: "url",
        autoComplete: "url",
        placeholder: "https://example.com",
        value,
        onChange: handleChange,
        onBlur: handleBlur,
        hasError: hasError || !!localError,
        error: error || localError,
        className: cn(className),
        ...props
      }
    );
  }
);
WebsiteInput.displayName = "WebsiteInput";
var WEBSITE_TYPES = [
  { value: "website", label: "Website" },
  { value: "blog", label: "Blog" },
  { value: "facebook", label: "Facebook" },
  { value: "instagram", label: "Instagram" },
  { value: "linkedin", label: "LinkedIn" },
  { value: "pinterest", label: "Pinterest" },
  { value: "twitter", label: "Twitter/X" },
  { value: "yelp", label: "Yelp" },
  { value: "youtube", label: "YouTube" }
];
function getPlaceholder(type) {
  switch (type) {
    case "facebook":
      return "https://facebook.com/yourpage";
    case "instagram":
      return "https://instagram.com/yourhandle";
    case "linkedin":
      return "https://linkedin.com/in/yourprofile";
    case "pinterest":
      return "https://pinterest.com/yourprofile";
    case "twitter":
      return "https://twitter.com/yourhandle";
    case "yelp":
      return "https://yelp.com/biz/yourbusiness";
    case "youtube":
      return "https://youtube.com/c/yourchannel";
    case "blog":
      return "https://yourblog.com";
    default:
      return "https://example.com";
  }
}
function WebsiteInputGroup({
  value,
  onChange,
  minEntries = 1,
  maxEntries = 10,
  required = false,
  disabled = false,
  validateOnBlur = false,
  label,
  typeLabels,
  className
}) {
  const websites = React46.useMemo(() => {
    if (value.length >= minEntries) return value;
    const padding = Array(minEntries - value.length).fill(null).map(() => ({ url: "", type: "website" }));
    return [...value, ...padding];
  }, [value, minEntries]);
  const handleUrlChange = (index, url) => {
    const updated = [...websites];
    updated[index] = { ...updated[index], url };
    onChange(updated);
  };
  const handleTypeChange = (index, type) => {
    const updated = [...websites];
    updated[index] = { ...updated[index], type };
    onChange(updated);
  };
  const handleAdd = () => {
    if (websites.length < maxEntries) {
      onChange([...websites, { url: "", type: "website" }]);
    }
  };
  const handleRemove = (index) => {
    if (websites.length > minEntries) {
      onChange(websites.filter((_, i) => i !== index));
    }
  };
  const getTypeLabel = (type) => {
    if (typeLabels?.[type]) return typeLabels[type];
    return WEBSITE_TYPES.find((t) => t.value === type)?.label || type;
  };
  const canAdd = websites.length < maxEntries;
  const canRemove = websites.length > minEntries;
  return /* @__PURE__ */ jsx("div", { className: cn("space-y-3", className), children: websites.map((website, index) => /* @__PURE__ */ jsxs("div", { className: "flex items-start gap-2", children: [
    /* @__PURE__ */ jsx("div", { className: "flex-1", children: /* @__PURE__ */ jsx(
      WebsiteInput,
      {
        label: index === 0 ? label : void 0,
        value: website.url,
        onChange: (url) => handleUrlChange(index, url),
        disabled,
        validateOnBlur,
        required: required && index === 0,
        placeholder: getPlaceholder(website.type)
      }
    ) }),
    /* @__PURE__ */ jsxs("div", { className: "w-36 shrink-0", children: [
      /* @__PURE__ */ jsx("label", { className: "sr-only", htmlFor: `website-type-${index}`, children: "URL type" }),
      /* @__PURE__ */ jsx(
        "select",
        {
          id: `website-type-${index}`,
          value: website.type,
          onChange: (e) => handleTypeChange(index, e.target.value),
          disabled,
          className: cn(
            "w-full rounded-md border px-3 py-2 text-sm",
            "border-gray-300 bg-white text-gray-900",
            "focus:border-brand-500 focus:ring-brand-500/20 focus:ring-2 focus:outline-none",
            "disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500",
            "dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100",
            "dark:focus:border-brand-400 dark:focus:ring-brand-400/20",
            index === 0 && label ? "mt-6" : ""
          ),
          children: WEBSITE_TYPES.map((type) => /* @__PURE__ */ jsx("option", { value: type.value, children: getTypeLabel(type.value) }, type.value))
        }
      )
    ] }),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: cn(
          "flex shrink-0 items-center",
          index === 0 && label ? "mt-6" : ""
        ),
        children: index === 0 ? /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: handleAdd,
            disabled: disabled || !canAdd,
            className: cn(
              "rounded-full p-2 transition-colors",
              "text-brand-600 hover:bg-brand-50",
              "disabled:cursor-not-allowed disabled:text-gray-300 disabled:hover:bg-transparent",
              "dark:text-brand-400 dark:hover:bg-brand-900/20",
              "dark:disabled:text-gray-600"
            ),
            "aria-label": "Add website",
            children: /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-5 w-5",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M12 4v16m8-8H4"
                  }
                )
              }
            )
          }
        ) : /* @__PURE__ */ jsx(
          "button",
          {
            type: "button",
            onClick: () => handleRemove(index),
            disabled: disabled || !canRemove,
            className: cn(
              "rounded-full p-2 transition-colors",
              "text-red-600 hover:bg-red-50",
              "disabled:cursor-not-allowed disabled:text-gray-300 disabled:hover:bg-transparent",
              "dark:text-red-400 dark:hover:bg-red-900/20",
              "dark:disabled:text-gray-600"
            ),
            "aria-label": "Remove website",
            children: /* @__PURE__ */ jsx(
              "svg",
              {
                className: "h-5 w-5",
                fill: "none",
                viewBox: "0 0 24 24",
                stroke: "currentColor",
                children: /* @__PURE__ */ jsx(
                  "path",
                  {
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    strokeWidth: 2,
                    d: "M20 12H4"
                  }
                )
              }
            )
          }
        )
      }
    )
  ] }, index)) });
}
WebsiteInputGroup.displayName = "WebsiteInputGroup";

export { AGGrid, AIChat, AIChatModal, AIChatTrigger, AILogoIcon, AIMessageDisplay, AITypingIndicator, AccessDeniedPage, ActionButton2 as ActionButton, ActionButtonsBar, ActiveFilters, AddContactModal, AddServiceCard, AdditionalFields, Address, AddressCard, AddressCompact, AddressDisplay, AddressForm, AddressInline, AppHeader, AppHeaderActions, AppHeaderDivider, AppHeaderIconButton, AppHeaderSearch, AppHeaderSection, AppHeaderTitle, AppHeaderUserMenu, AttachmentPicker, AttachmentPreview, AttachmentPreviewItem, AuthButtons, AuthDialog, AvatarNameRenderer, BookAppointmentButton, BookingDialog, BooleanRenderer, BusinessHours, BusinessHoursEditor, CSVColumnMapper, CSVFileUpload, CameraButton, CardSkeleton, CellRenderers, CharacterCounter, CheckrIntegration, ChevronIcon, ClaimListingButton, ClaimProviderForm, CloseIcon, CommandPalette, CommandPaletteProvider, CommandPaletteTrigger, CompactCookieBanner, CompactFilterBar, CompactHeader, CompactHours, CompactProviderHeader, CompanyRenderer, ConnectionStatusBadge, ConnectionStatusBar, ConnectionStatusOverlay, ConsentSwitch, ConversationHeader, ConversationListItem, ConversationListSkeleton, CookieConsentBanner, CopyrightText, CreateInvoiceModal, CreateReferralModal, CurrencyRenderer, DEFAULT_ERROR_CONFIGS, DEFAULT_LANGUAGES, DEFAULT_RADIUS_OPTIONS, DEFAULT_SOCIAL_PROVIDERS, DOTBadge, DateRangeFilter, DateRangePicker, DateRenderer, DateSeparator, DialogOverlay, DisclaimerText, DocumentDetectionOverlay, DocumentScanner, DomainRenderer, DragDropZone, DropZone, DropzoneOverlay, EditUserRoleModal, EmailRenderer, EmployeeForm, EmployeeProfileCard, EmployerContactCard, EmployerList, EmployerPricingCard, EmployerServiceModal, EmployerView, EmptyState, EngagementScoreRenderer, ErrorPage, FileManager, FilePreview, FloatingAIChat, FloatingInput, FooterLinkSection, SocialMediaLinks2 as FooterSocialLinks, HRISProviderSelector, HelpSupportPanel, HeroSearchBar, HoursSummary, InlineBookingForm, InventoryManager, InviteUserModal, InvoiceList, InvoicePaymentPage, InvoiceView, LanguageSelector, LanguageSelectorInline, LanguageSelectorNative, LegalLinks, LightboxModal, LinkedInRenderer, LoadMoreButton, LoadingBar, LoadingDots, LoadingOverlay, LoadingPage, LoadingSkeleton, MCPToolCallDisplay, MaintenancePage, MemoizedAvatarNameRenderer, MemoizedBooleanRenderer, MemoizedCompanyRenderer, MemoizedCurrencyRenderer, MemoizedDateRenderer, MemoizedDomainRenderer, MemoizedEmailRenderer, MemoizedEngagementScoreRenderer, MemoizedLinkedInRenderer, MemoizedNumberRenderer, MemoizedPhoneRenderer, MemoizedProgressRenderer, MemoizedStatusBadgeRenderer, MemoizedTagsRenderer, MessageAvatar, MessageBubble, MessageComposer, MessageList, MessageStatusIcon, MessageThread, MessagingSplitView, MobileBackButton, MobileMenuButton, MobileMenuPanel, NavLinks, NewsletterForm, NotFoundPage, NotificationCenter, NumberRenderer, OfflinePage, OnboardingCompletion, OnboardingStepQuestion, OnboardingWizard, OpenStatusBadge, OrderCard, OrderConfirmation, OrderConfirmationWizard, OrderDetailSidebar, OrderList, OrderLookupForm, OrderSidebar, OrderSidebarTabs, PageHeader, PaymentHistoryTable, PaymentMethodBank, PaymentMethodCard, PaymentMethodList, PendingClaimsTable, PermissionsEditor, PhoneRenderer, ProductVersion, ProductVersionBadge, ProgressRenderer, Breadcrumb2 as ProviderBreadcrumb, ProviderCard, ProviderCardGrid, ProviderCardSkeleton, ProviderDetailHeader, ProviderDetailHeaderSkeleton, ProviderLogo2 as ProviderLogo, ProviderOverview, ProviderSearchBar, ProviderSearchFilters, ProviderSelector, ProviderSettings, SocialMediaLinks as ProviderSocialLinks, ProviderUsersTable, QuickBookCard, QuickLinksCard, ReadReceiptIndicator, RecurringServiceAddCard, RecurringServiceCard, RecurringServiceGrid, RecurringServiceSetupModal, RefreshIcon, RejectionModal, ReportDashboard, ReportDatePicker, ReportLink, ResourceLink, ResultsEntryCard, ResultsEntryForm, SSOConfigForm, ScheduleCalendar, SearchResultsMessage, SelectedServicesBadges, SendButton, SendIcon, ServerErrorPage, ServiceAccordion, ServiceBadge, ServiceBadgeGroup, ServiceCard, ServiceCategoryBadge, ServiceGeneralSettings, ServiceGrid, ServiceLink, ServiceList, ServiceMultiSelect, ServicePicker, ServicePricingManager, ServiceSelect, ServiceShippingSettings, ServiceTagCloud, ServiceTagCloudBadges, SetupServiceModal, Sidebar, SidebarContent, SidebarFooter, SidebarHeader, SidebarMobileToggle, SidebarNav, SidebarNavGroup, SidebarNavItem, SidebarProvider, SidebarSearch, SidebarToggle, SimpleFooter, SiteFooter, SiteHeader, SiteLogo, SkeletonMessage, SparklesIcon, SpinnerIcon2 as SpinnerIcon, StatusBadgeRenderer, StepIndicator, StripeBadge, StripeSecureBadge, SuggestedActions, TagsRenderer, TimelineEventList, TimelineProgress, Toast, ToastContainer, ToastProvider, ToolStatusIcon, TypingIndicator, UpdateAvailableOverlay, UserMenu, VerifiedBadge2 as VerifiedBadge, WEBSITE_TYPES, WebChartReportViewer, WebcamModal, WebsiteInput, WebsiteInputGroup, bubbleVariants2 as bubbleVariants, create24HourSchedule, createDefaultSchedule, createWeekdaySchedule, defaultOrderTabs, formatAddressLines, formatAddressSingleLine, formatCityState, formatCityStateZip, formatDateLabel, formatFileSize2 as formatFileSize, formatLastSeen, formatPhoneDisplay, generateAttachmentId, generateId, getConversationSubtitle, getConversationTitle, getFileType, getGoogleMapsSearchUrl, getGoogleMapsUrl, getToolIcon, groupMessagesByDate, headerVariants, isSameSenderGroup, isValidUrl, sendButtonVariants, statusColors, useCamera, useCommandPalette, useConnectionStatus, useCookieConsent, useDocumentDetection, useDropzone, useFileUpload, useMessageScroll, useMessages, useReadReceipts, useSidebar, useToast, useTypingIndicator, validateFile };
//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map
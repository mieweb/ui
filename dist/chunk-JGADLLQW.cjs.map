{"version":3,"sources":["../src/components/DateInput/DateInput.tsx"],"names":["isValidDate","isDateInPast","calculateAge","isDateInFuture","React","formatDateValue","jsx","Input","cn"],"mappings":"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","file":"chunk-JGADLLQW.cjs","sourcesContent":["import * as React from 'react';\nimport { cn } from '../../utils/cn';\nimport {\n  formatDateValue,\n  isValidDate,\n  isDateInPast,\n  isDateInFuture,\n  calculateAge,\n} from '../../utils/date';\nimport { Input, type InputProps } from '../Input';\n\nexport type DateInputMode =\n  | 'default'\n  | 'dob'\n  | 'expiration'\n  | 'past'\n  | 'future';\n\nexport interface DateInputProps extends Omit<\n  InputProps,\n  'type' | 'onChange' | 'value'\n> {\n  /** The date value in MM/DD/YYYY format */\n  value?: string;\n  /** Callback fired when the value changes */\n  onChange?: (value: string) => void;\n  /** Validation mode for the date input */\n  mode?: DateInputMode;\n  /** Minimum age for DOB validation (default: 0) */\n  minAge?: number;\n  /** Maximum age for DOB validation */\n  maxAge?: number;\n  /** Whether to validate on blur */\n  validateOnBlur?: boolean;\n}\n\nfunction getValidationError(\n  value: string,\n  mode: DateInputMode,\n  minAge?: number,\n  maxAge?: number\n): string | undefined {\n  if (!value || value.replace(/\\D/g, '').length === 0) {\n    return undefined;\n  }\n\n  if (!isValidDate(value)) {\n    return 'Please enter a valid date (MM/DD/YYYY)';\n  }\n\n  switch (mode) {\n    case 'dob': {\n      if (!isDateInPast(value)) {\n        return 'Date of birth must be in the past';\n      }\n      const age = calculateAge(value);\n      if (age !== null) {\n        if (minAge !== undefined && age < minAge) {\n          return `Must be at least ${minAge} years old`;\n        }\n        if (maxAge !== undefined && age > maxAge) {\n          return `Must be no more than ${maxAge} years old`;\n        }\n      }\n      break;\n    }\n    case 'expiration':\n      if (!isDateInFuture(value)) {\n        return 'Expiration date must be in the future';\n      }\n      break;\n    case 'past':\n      if (!isDateInPast(value)) {\n        return 'Date must be in the past';\n      }\n      break;\n    case 'future':\n      if (!isDateInFuture(value)) {\n        return 'Date must be in the future';\n      }\n      break;\n  }\n\n  return undefined;\n}\n\n/**\n * A date input that automatically formats to MM/DD/YYYY with validation modes.\n *\n * @example\n * ```tsx\n * // Date of birth with age validation\n * <DateInput\n *   label=\"Date of Birth\"\n *   mode=\"dob\"\n *   minAge={18}\n *   validateOnBlur\n * />\n *\n * // Expiration date\n * <DateInput\n *   label=\"License Expiration\"\n *   mode=\"expiration\"\n *   validateOnBlur\n * />\n * ```\n */\nconst DateInput = React.forwardRef<HTMLInputElement, DateInputProps>(\n  (\n    {\n      value = '',\n      onChange,\n      mode = 'default',\n      minAge,\n      maxAge,\n      validateOnBlur,\n      className,\n      onBlur,\n      hasError,\n      error,\n      ...props\n    },\n    ref\n  ) => {\n    const [displayValue, setDisplayValue] = React.useState(() =>\n      formatDateValue(value)\n    );\n    const [localError, setLocalError] = React.useState<string | undefined>();\n\n    // Sync external value changes\n    React.useEffect(() => {\n      setDisplayValue(formatDateValue(value));\n    }, [value]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const formatted = formatDateValue(e.target.value);\n      setDisplayValue(formatted);\n      onChange?.(formatted);\n\n      // Clear error when user starts typing again\n      if (localError) {\n        setLocalError(undefined);\n      }\n    };\n\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      onBlur?.(e);\n\n      if (validateOnBlur) {\n        const validationError = getValidationError(\n          displayValue,\n          mode,\n          minAge,\n          maxAge\n        );\n        setLocalError(validationError);\n      }\n    };\n\n    const placeholder = mode === 'expiration' ? 'MM/DD/YYYY' : 'MM/DD/YYYY';\n    const autoComplete =\n      mode === 'dob' ? 'bday' : mode === 'expiration' ? 'cc-exp' : undefined;\n\n    return (\n      <Input\n        ref={ref}\n        type=\"text\"\n        inputMode=\"numeric\"\n        autoComplete={autoComplete}\n        placeholder={placeholder}\n        value={displayValue}\n        onChange={handleChange}\n        onBlur={handleBlur}\n        hasError={hasError || !!localError}\n        error={error || localError}\n        className={cn(className)}\n        {...props}\n      />\n    );\n  }\n);\n\nDateInput.displayName = 'DateInput';\n\nexport { DateInput };\n"]}
{"version":3,"sources":["../src/components/PhoneInput/PhoneInput.tsx"],"names":["React","formatPhoneNumber","unformatPhoneNumber","isValidPhoneNumber","jsx","Input","cn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,IAAM,UAAA,GAAmBA,gBAAA,CAAA,UAAA;AAAA,EACvB,CACE;AAAA,IACE,KAAA,GAAQ,EAAA;AAAA,IACR,QAAA;AAAA,IACA,iBAAA;AAAA,IACA,cAAA;AAAA,IACA,SAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,KAAA;AAAA,IACA,GAAG;AAAA,KAEL,GAAA,KACG;AACH,IAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAUA,gBAAA,CAAA,QAAA;AAAA,MAAS,MACrDC,oCAAkB,KAAK;AAAA,KACzB;AACA,IAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAUD,gBAAA,CAAA,QAAA,EAA6B;AAGvE,IAAMA,2BAAU,MAAM;AACpB,MAAA,eAAA,CAAgBC,mCAAA,CAAkB,KAAK,CAAC,CAAA;AAAA,IAC1C,CAAA,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,IAAA,MAAM,YAAA,GAAe,CAAC,CAAA,KAA2C;AAC/D,MAAA,MAAM,SAAA,GAAYA,mCAAA,CAAkB,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA;AAClD,MAAA,eAAA,CAAgB,SAAS,CAAA;AAEzB,MAAA,MAAM,WAAA,GAAcC,sCAAoB,SAAS,CAAA;AACjD,MAAA,QAAA,GAAW,WAAW,CAAA;AACtB,MAAA,iBAAA,GAAoB,SAAS,CAAA;AAG7B,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,aAAA,CAAc,MAAS,CAAA;AAAA,MACzB;AAAA,IACF,CAAA;AAEA,IAAA,MAAM,UAAA,GAAa,CAAC,CAAA,KAA0C;AAC5D,MAAA,MAAA,GAAS,CAAC,CAAA;AAEV,MAAA,IAAI,cAAA,EAAgB;AAClB,QAAA,MAAM,WAAA,GAAcA,sCAAoB,YAAY,CAAA;AACpD,QAAA,IAAI,YAAY,MAAA,GAAS,CAAA,IAAK,CAACC,oCAAA,CAAmB,YAAY,CAAA,EAAG;AAC/D,UAAA,aAAA,CAAc,4CAA4C,CAAA;AAAA,QAC5D,CAAA,MAAO;AACL,UAAA,aAAA,CAAc,MAAS,CAAA;AAAA,QACzB;AAAA,MACF;AAAA,IACF,CAAA;AAEA,IAAA,uBACEC,cAAA;AAAA,MAACC,uBAAA;AAAA,MAAA;AAAA,QACC,GAAA;AAAA,QACA,IAAA,EAAK,KAAA;AAAA,QACL,SAAA,EAAU,SAAA;AAAA,QACV,YAAA,EAAa,cAAA;AAAA,QACb,WAAA,EAAY,gBAAA;AAAA,QACZ,KAAA,EAAO,YAAA;AAAA,QACP,QAAA,EAAU,YAAA;AAAA,QACV,MAAA,EAAQ,UAAA;AAAA,QACR,QAAA,EAAU,QAAA,IAAY,CAAC,CAAC,UAAA;AAAA,QACxB,OAAO,KAAA,IAAS,UAAA;AAAA,QAChB,SAAA,EAAWC,qBAAG,SAAS,CAAA;AAAA,QACtB,GAAG;AAAA;AAAA,KACN;AAAA,EAEJ;AACF;AAEA,UAAA,CAAW,WAAA,GAAc,YAAA","file":"chunk-43WUKHJZ.cjs","sourcesContent":["import * as React from 'react';\nimport { cn } from '../../utils/cn';\nimport {\n  formatPhoneNumber,\n  unformatPhoneNumber,\n  isValidPhoneNumber,\n} from '../../utils/phone';\nimport { Input, type InputProps } from '../Input';\n\nexport interface PhoneInputProps extends Omit<\n  InputProps,\n  'type' | 'onChange' | 'value'\n> {\n  /** The phone number value (can be formatted or unformatted) */\n  value?: string;\n  /** Callback fired when the value changes, receives the unformatted value */\n  onChange?: (value: string) => void;\n  /** Callback fired when the formatted value changes */\n  onFormattedChange?: (formattedValue: string) => void;\n  /** Whether to validate and show error state for incomplete phone numbers */\n  validateOnBlur?: boolean;\n}\n\n/**\n * A phone number input that automatically formats to US format: (XXX) XXX-XXXX\n *\n * @example\n * ```tsx\n * const [phone, setPhone] = useState('');\n * <PhoneInput\n *   label=\"Phone Number\"\n *   value={phone}\n *   onChange={setPhone}\n *   validateOnBlur\n * />\n * ```\n */\nconst PhoneInput = React.forwardRef<HTMLInputElement, PhoneInputProps>(\n  (\n    {\n      value = '',\n      onChange,\n      onFormattedChange,\n      validateOnBlur,\n      className,\n      onBlur,\n      hasError,\n      error,\n      ...props\n    },\n    ref\n  ) => {\n    const [displayValue, setDisplayValue] = React.useState(() =>\n      formatPhoneNumber(value)\n    );\n    const [localError, setLocalError] = React.useState<string | undefined>();\n\n    // Sync external value changes\n    React.useEffect(() => {\n      setDisplayValue(formatPhoneNumber(value));\n    }, [value]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const formatted = formatPhoneNumber(e.target.value);\n      setDisplayValue(formatted);\n\n      const unformatted = unformatPhoneNumber(formatted);\n      onChange?.(unformatted);\n      onFormattedChange?.(formatted);\n\n      // Clear error when user starts typing again\n      if (localError) {\n        setLocalError(undefined);\n      }\n    };\n\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      onBlur?.(e);\n\n      if (validateOnBlur) {\n        const unformatted = unformatPhoneNumber(displayValue);\n        if (unformatted.length > 0 && !isValidPhoneNumber(displayValue)) {\n          setLocalError('Please enter a valid 10-digit phone number');\n        } else {\n          setLocalError(undefined);\n        }\n      }\n    };\n\n    return (\n      <Input\n        ref={ref}\n        type=\"tel\"\n        inputMode=\"numeric\"\n        autoComplete=\"tel-national\"\n        placeholder=\"(555) 555-5555\"\n        value={displayValue}\n        onChange={handleChange}\n        onBlur={handleBlur}\n        hasError={hasError || !!localError}\n        error={error || localError}\n        className={cn(className)}\n        {...props}\n      />\n    );\n  }\n);\n\nPhoneInput.displayName = 'PhoneInput';\n\nexport { PhoneInput };\n"]}
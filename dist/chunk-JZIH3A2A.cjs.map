{"version":3,"sources":["../src/hooks/useTheme.ts"],"names":["useState","useEffect","useCallback"],"mappings":"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","file":"chunk-JZIH3A2A.cjs","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nexport type Theme = 'light' | 'dark' | 'system';\nexport type ResolvedTheme = 'light' | 'dark';\n\nconst THEME_STORAGE_KEY = 'mieweb-ui-theme';\n\nfunction getSystemTheme(): ResolvedTheme {\n  if (typeof window === 'undefined') return 'light';\n  return window.matchMedia('(prefers-color-scheme: dark)').matches\n    ? 'dark'\n    : 'light';\n}\n\nfunction getStoredTheme(): Theme | null {\n  if (typeof window === 'undefined') return null;\n  const stored = localStorage.getItem(THEME_STORAGE_KEY);\n  if (stored === 'light' || stored === 'dark' || stored === 'system') {\n    return stored;\n  }\n  return null;\n}\n\nfunction applyTheme(theme: ResolvedTheme): void {\n  if (typeof document === 'undefined') return;\n\n  const root = document.documentElement;\n  root.classList.remove('light', 'dark');\n  root.classList.add(theme);\n  root.setAttribute('data-theme', theme);\n}\n\n/**\n * Hook for managing theme state with localStorage persistence and system preference support.\n *\n * @example\n * ```tsx\n * function ThemeToggle() {\n *   const { theme, setTheme, resolvedTheme } = useTheme();\n *   return (\n *     <button onClick={() => setTheme(resolvedTheme === 'dark' ? 'light' : 'dark')}>\n *       {resolvedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô'}\n *     </button>\n *   );\n * }\n * ```\n */\nexport function useTheme(defaultTheme: Theme = 'system') {\n  const [theme, setThemeState] = useState<Theme>(defaultTheme);\n  const [resolvedTheme, setResolvedTheme] = useState<ResolvedTheme>(\n    defaultTheme === 'system' ? 'light' : defaultTheme === 'dark' ? 'dark' : 'light'\n  );\n\n  // Initialize theme from storage, falling back to defaultTheme\n  useEffect(() => {\n    const stored = getStoredTheme();\n    const initial = stored ?? defaultTheme;\n    setThemeState(initial);\n\n    const resolved = initial === 'system' ? getSystemTheme() : initial;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, []);\n\n  // Listen for system theme changes\n  useEffect(() => {\n    if (theme !== 'system') return;\n\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = (e: MediaQueryListEvent) => {\n      const newTheme = e.matches ? 'dark' : 'light';\n      setResolvedTheme(newTheme);\n      applyTheme(newTheme);\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, [theme]);\n\n  const setTheme = useCallback((newTheme: Theme) => {\n    setThemeState(newTheme);\n    localStorage.setItem(THEME_STORAGE_KEY, newTheme);\n\n    const resolved = newTheme === 'system' ? getSystemTheme() : newTheme;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, []);\n\n  return {\n    theme,\n    setTheme,\n    resolvedTheme,\n  };\n}\n"]}